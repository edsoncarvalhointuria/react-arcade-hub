(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();var D_={exports:{}},Rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1;function qS(){if(q1)return Rd;q1=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var g in a)g!=="key"&&(l[g]=a[g])}else l=a;return a=l.ref,{$$typeof:s,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Rd.Fragment=t,Rd.jsx=e,Rd.jsxs=e,Rd}var Q1;function QS(){return Q1||(Q1=1,D_.exports=qS()),D_.exports}var at=QS(),O_={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function ZS(){if(Z1)return Le;Z1=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function C(F){return F===null||typeof F!="object"?null:(F=A&&F[A]||F["@@iterator"],typeof F=="function"?F:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Z={};function H(F,K,dt){this.props=F,this.context=K,this.refs=Z,this.updater=dt||N}H.prototype.isReactComponent={},H.prototype.setState=function(F,K){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,K,"setState")},H.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function j(){}j.prototype=H.prototype;function lt(F,K,dt){this.props=F,this.context=K,this.refs=Z,this.updater=dt||N}var st=lt.prototype=new j;st.constructor=lt,L(st,H.prototype),st.isPureReactComponent=!0;var pt=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function V(F,K,dt,ft,It,_t){return dt=_t.ref,{$$typeof:s,type:F,key:K,ref:dt!==void 0?dt:null,props:_t}}function I(F,K){return V(F.type,K,void 0,void 0,void 0,F.props)}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===s}function U(F){var K={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(dt){return K[dt]})}var z=/\/+/g;function Q(F,K){return typeof F=="object"&&F!==null&&F.key!=null?U(""+F.key):K.toString(36)}function X(){}function Pt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(X,X):(F.status="pending",F.then(function(K){F.status==="pending"&&(F.status="fulfilled",F.value=K)},function(K){F.status==="pending"&&(F.status="rejected",F.reason=K)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function mt(F,K,dt,ft,It){var _t=typeof F;(_t==="undefined"||_t==="boolean")&&(F=null);var Vt=!1;if(F===null)Vt=!0;else switch(_t){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(F.$$typeof){case s:case t:Vt=!0;break;case E:return Vt=F._init,mt(Vt(F._payload),K,dt,ft,It)}}if(Vt)return It=It(F),Vt=ft===""?"."+Q(F,0):ft,pt(It)?(dt="",Vt!=null&&(dt=Vt.replace(z,"$&/")+"/"),mt(It,K,dt,"",function(hn){return hn})):It!=null&&(P(It)&&(It=I(It,dt+(It.key==null||F&&F.key===It.key?"":(""+It.key).replace(z,"$&/")+"/")+Vt)),K.push(It)),1;Vt=0;var ce=ft===""?".":ft+":";if(pt(F))for(var Bt=0;Bt<F.length;Bt++)ft=F[Bt],_t=ce+Q(ft,Bt),Vt+=mt(ft,K,dt,_t,It);else if(Bt=C(F),typeof Bt=="function")for(F=Bt.call(F),Bt=0;!(ft=F.next()).done;)ft=ft.value,_t=ce+Q(ft,Bt++),Vt+=mt(ft,K,dt,_t,It);else if(_t==="object"){if(typeof F.then=="function")return mt(Pt(F),K,dt,ft,It);throw K=String(F),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function Y(F,K,dt){if(F==null)return F;var ft=[],It=0;return mt(F,ft,"","",function(_t){return K.call(dt,_t,It++)}),ft}function et(F){if(F._status===-1){var K=F._result;K=K(),K.then(function(dt){(F._status===0||F._status===-1)&&(F._status=1,F._result=dt)},function(dt){(F._status===0||F._status===-1)&&(F._status=2,F._result=dt)}),F._status===-1&&(F._status=0,F._result=K)}if(F._status===1)return F._result.default;throw F._result}var bt=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function xt(){}return Le.Children={map:Y,forEach:function(F,K,dt){Y(F,function(){K.apply(this,arguments)},dt)},count:function(F){var K=0;return Y(F,function(){K++}),K},toArray:function(F){return Y(F,function(K){return K})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Le.Component=H,Le.Fragment=e,Le.Profiler=a,Le.PureComponent=lt,Le.StrictMode=i,Le.Suspense=y,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Le.__COMPILER_RUNTIME={__proto__:null,c:function(F){return J.H.useMemoCache(F)}},Le.cache=function(F){return function(){return F.apply(null,arguments)}},Le.cloneElement=function(F,K,dt){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ft=L({},F.props),It=F.key,_t=void 0;if(K!=null)for(Vt in K.ref!==void 0&&(_t=void 0),K.key!==void 0&&(It=""+K.key),K)!rt.call(K,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&K.ref===void 0||(ft[Vt]=K[Vt]);var Vt=arguments.length-2;if(Vt===1)ft.children=dt;else if(1<Vt){for(var ce=Array(Vt),Bt=0;Bt<Vt;Bt++)ce[Bt]=arguments[Bt+2];ft.children=ce}return V(F.type,It,void 0,void 0,_t,ft)},Le.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Le.createElement=function(F,K,dt){var ft,It={},_t=null;if(K!=null)for(ft in K.key!==void 0&&(_t=""+K.key),K)rt.call(K,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(It[ft]=K[ft]);var Vt=arguments.length-2;if(Vt===1)It.children=dt;else if(1<Vt){for(var ce=Array(Vt),Bt=0;Bt<Vt;Bt++)ce[Bt]=arguments[Bt+2];It.children=ce}if(F&&F.defaultProps)for(ft in Vt=F.defaultProps,Vt)It[ft]===void 0&&(It[ft]=Vt[ft]);return V(F,_t,void 0,void 0,null,It)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(F){return{$$typeof:g,render:F}},Le.isValidElement=P,Le.lazy=function(F){return{$$typeof:E,_payload:{_status:-1,_result:F},_init:et}},Le.memo=function(F,K){return{$$typeof:v,type:F,compare:K===void 0?null:K}},Le.startTransition=function(F){var K=J.T,dt={};J.T=dt;try{var ft=F(),It=J.S;It!==null&&It(dt,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(xt,bt)}catch(_t){bt(_t)}finally{J.T=K}},Le.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Le.use=function(F){return J.H.use(F)},Le.useActionState=function(F,K,dt){return J.H.useActionState(F,K,dt)},Le.useCallback=function(F,K){return J.H.useCallback(F,K)},Le.useContext=function(F){return J.H.useContext(F)},Le.useDebugValue=function(){},Le.useDeferredValue=function(F,K){return J.H.useDeferredValue(F,K)},Le.useEffect=function(F,K,dt){var ft=J.H;if(typeof dt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ft.useEffect(F,K)},Le.useId=function(){return J.H.useId()},Le.useImperativeHandle=function(F,K,dt){return J.H.useImperativeHandle(F,K,dt)},Le.useInsertionEffect=function(F,K){return J.H.useInsertionEffect(F,K)},Le.useLayoutEffect=function(F,K){return J.H.useLayoutEffect(F,K)},Le.useMemo=function(F,K){return J.H.useMemo(F,K)},Le.useOptimistic=function(F,K){return J.H.useOptimistic(F,K)},Le.useReducer=function(F,K,dt){return J.H.useReducer(F,K,dt)},Le.useRef=function(F){return J.H.useRef(F)},Le.useState=function(F){return J.H.useState(F)},Le.useSyncExternalStore=function(F,K,dt){return J.H.useSyncExternalStore(F,K,dt)},Le.useTransition=function(){return J.H.useTransition()},Le.version="19.1.0",Le}var K1;function ig(){return K1||(K1=1,O_.exports=ZS()),O_.exports}var Ct=ig(),N_={exports:{}},Md={},P_={exports:{}},V_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function KS(){return J1||(J1=1,function(s){function t(Y,et){var bt=Y.length;Y.push(et);t:for(;0<bt;){var xt=bt-1>>>1,F=Y[xt];if(0<a(F,et))Y[xt]=et,Y[bt]=F,bt=xt;else break t}}function e(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var et=Y[0],bt=Y.pop();if(bt!==et){Y[0]=bt;t:for(var xt=0,F=Y.length,K=F>>>1;xt<K;){var dt=2*(xt+1)-1,ft=Y[dt],It=dt+1,_t=Y[It];if(0>a(ft,bt))It<F&&0>a(_t,ft)?(Y[xt]=_t,Y[It]=bt,xt=It):(Y[xt]=ft,Y[dt]=bt,xt=dt);else if(It<F&&0>a(_t,bt))Y[xt]=_t,Y[It]=bt,xt=It;else break t}}return et}function a(Y,et){var bt=Y.sortIndex-et.sortIndex;return bt!==0?bt:Y.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,g=u.now();s.unstable_now=function(){return u.now()-g}}var y=[],v=[],E=1,A=null,C=3,N=!1,L=!1,Z=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function pt(Y){for(var et=e(v);et!==null;){if(et.callback===null)i(v);else if(et.startTime<=Y)i(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=e(v)}}function J(Y){if(Z=!1,pt(Y),!L)if(e(y)!==null)L=!0,rt||(rt=!0,Q());else{var et=e(v);et!==null&&mt(J,et.startTime-Y)}}var rt=!1,V=-1,I=5,P=-1;function U(){return H?!0:!(s.unstable_now()-P<I)}function z(){if(H=!1,rt){var Y=s.unstable_now();P=Y;var et=!0;try{t:{L=!1,Z&&(Z=!1,lt(V),V=-1),N=!0;var bt=C;try{e:{for(pt(Y),A=e(y);A!==null&&!(A.expirationTime>Y&&U());){var xt=A.callback;if(typeof xt=="function"){A.callback=null,C=A.priorityLevel;var F=xt(A.expirationTime<=Y);if(Y=s.unstable_now(),typeof F=="function"){A.callback=F,pt(Y),et=!0;break e}A===e(y)&&i(y),pt(Y)}else i(y);A=e(y)}if(A!==null)et=!0;else{var K=e(v);K!==null&&mt(J,K.startTime-Y),et=!1}}break t}finally{A=null,C=bt,N=!1}et=void 0}}finally{et?Q():rt=!1}}}var Q;if(typeof st=="function")Q=function(){st(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Pt=X.port2;X.port1.onmessage=z,Q=function(){Pt.postMessage(null)}}else Q=function(){j(z,0)};function mt(Y,et){V=j(function(){Y(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_next=function(Y){switch(C){case 1:case 2:case 3:var et=3;break;default:et=C}var bt=C;C=et;try{return Y()}finally{C=bt}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(Y,et){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var bt=C;C=Y;try{return et()}finally{C=bt}},s.unstable_scheduleCallback=function(Y,et,bt){var xt=s.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?xt+bt:xt):bt=xt,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=bt+F,Y={id:E++,callback:et,priorityLevel:Y,startTime:bt,expirationTime:F,sortIndex:-1},bt>xt?(Y.sortIndex=bt,t(v,Y),e(y)===null&&Y===e(v)&&(Z?(lt(V),V=-1):Z=!0,mt(J,bt-xt))):(Y.sortIndex=F,t(y,Y),L||N||(L=!0,rt||(rt=!0,Q()))),Y},s.unstable_shouldYield=U,s.unstable_wrapCallback=function(Y){var et=C;return function(){var bt=C;C=et;try{return Y.apply(this,arguments)}finally{C=bt}}}}(V_)),V_}var j1;function JS(){return j1||(j1=1,P_.exports=KS()),P_.exports}var L_={exports:{}},yr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function jS(){if($1)return yr;$1=1;var s=ig();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(y,v,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:y,containerInfo:v,implementation:E}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yr.createPortal=function(y,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return l(y,v,null,E)},yr.flushSync=function(y){var v=u.T,E=i.p;try{if(u.T=null,i.p=2,y)return y()}finally{u.T=v,i.p=E,i.d.f()}},yr.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(y,v))},yr.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},yr.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var E=v.as,A=g(E,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,N=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?i.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:N}):E==="script"&&i.d.X(y,{crossOrigin:A,integrity:C,fetchPriority:N,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},yr.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=g(v.as,v.crossOrigin);i.d.M(y,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(y)},yr.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,A=g(E,v.crossOrigin);i.d.L(y,E,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},yr.preloadModule=function(y,v){if(typeof y=="string")if(v){var E=g(v.as,v.crossOrigin);i.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(y)},yr.requestFormReset=function(y){i.d.r(y)},yr.unstable_batchedUpdates=function(y,v){return y(v)},yr.useFormState=function(y,v,E){return u.H.useFormState(y,v,E)},yr.useFormStatus=function(){return u.H.useHostTransitionStatus()},yr.version="19.1.0",yr}var tT;function My(){if(tT)return L_.exports;tT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),L_.exports=jS(),L_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function $S(){if(eT)return Md;eT=1;var s=JS(),t=ig(),e=My();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(i(188))}function y(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,c=r;;){var m=o.return;if(m===null)break;var T=m.alternate;if(T===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===T.child){for(T=m.child;T;){if(T===o)return g(m),n;if(T===c)return g(m),r;T=T.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=T;else{for(var k=!1,B=m.child;B;){if(B===o){k=!0,o=m,c=T;break}if(B===c){k=!0,c=m,o=T;break}B=B.sibling}if(!k){for(B=T.child;B;){if(B===o){k=!0,o=T,c=m;break}if(B===c){k=!0,c=T,o=m;break}B=B.sibling}if(!k)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var X=Symbol.for("react.client.reference");function Pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===X?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case H:return"Profiler";case Z:return"StrictMode";case J:return"Suspense";case rt:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case st:return(n.displayName||"Context")+".Provider";case lt:return(n._context.displayName||"Context")+".Consumer";case pt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return r=n.displayName||null,r!==null?r:Pt(n.type)||"Memo";case I:r=n._payload,n=n._init;try{return Pt(n(r))}catch{}}return null}var mt=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},xt=[],F=-1;function K(n){return{current:n}}function dt(n){0>F||(n.current=xt[F],xt[F]=null,F--)}function ft(n,r){F++,xt[F]=n.current,n.current=r}var It=K(null),_t=K(null),Vt=K(null),ce=K(null);function Bt(n,r){switch(ft(Vt,r),ft(_t,n),ft(It,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?w1(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=w1(r),n=b1(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}dt(It),ft(It,n)}function hn(){dt(It),dt(_t),dt(Vt)}function Dn(n){n.memoizedState!==null&&ft(ce,n);var r=It.current,o=b1(r,n.type);r!==o&&(ft(_t,n),ft(It,o))}function We(n){_t.current===n&&(dt(It),dt(_t)),ce.current===n&&(dt(ce),Ed._currentValue=bt)}var le=Object.prototype.hasOwnProperty,rs=s.unstable_scheduleCallback,Wi=s.unstable_cancelCallback,Mt=s.unstable_shouldYield,kt=s.unstable_requestPaint,Qt=s.unstable_now,Gt=s.unstable_getCurrentPriorityLevel,Zt=s.unstable_ImmediatePriority,Jt=s.unstable_UserBlockingPriority,xe=s.unstable_NormalPriority,Ae=s.unstable_LowPriority,He=s.unstable_IdlePriority,as=s.log,Er=s.unstable_setDisableYieldValue,Re=null,Ye=null;function ki(n){if(typeof as=="function"&&Er(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Re,n)}catch{}}var Cn=Math.clz32?Math.clz32:Sr,Hn=Math.log,Wr=Math.LN2;function Sr(n){return n>>>=0,n===0?32:31-(Hn(n)/Wr|0)|0}var Ns=256,jt=4194304;function Wt(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Yt(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var m=0,T=n.suspendedLanes,k=n.pingedLanes;n=n.warmLanes;var B=c&134217727;return B!==0?(c=B&~T,c!==0?m=Wt(c):(k&=B,k!==0?m=Wt(k):o||(o=B&~n,o!==0&&(m=Wt(o))))):(B=c&~T,B!==0?m=Wt(B):k!==0?m=Wt(k):o||(o=c&~n,o!==0&&(m=Wt(o)))),m===0?0:r!==0&&r!==m&&(r&T)===0&&(T=m&-m,o=r&-r,T>=o||T===32&&(o&4194048)!==0)?r:m}function ne(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function qt(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(){var n=Ns;return Ns<<=1,(Ns&4194048)===0&&(Ns=256),n}function Fe(){var n=jt;return jt<<=1,(jt&62914560)===0&&(jt=4194304),n}function De(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function On(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ps(n,r,o,c,m,T){var k=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var B=n.entanglements,$=n.expirationTimes,Tt=n.hiddenUpdates;for(o=k&~o;0<o;){var Ot=31-Cn(o),Ft=1<<Ot;B[Ot]=0,$[Ot]=-1;var wt=Tt[Ot];if(wt!==null)for(Tt[Ot]=null,Ot=0;Ot<wt.length;Ot++){var Et=wt[Ot];Et!==null&&(Et.lane&=-536870913)}o&=~Ft}c!==0&&os(n,c,0),T!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=T&~(k&~r))}function os(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-Cn(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function Wl(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-Cn(o),m=1<<c;m&r|n[c]&r&&(n[c]|=r),o&=~m}}function ma(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ui(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function vi(){var n=et.p;return n!==0?n:(n=window.event,n===void 0?32:z1(n.type))}function hi(n,r){var o=et.p;try{return et.p=n,r()}finally{et.p=o}}var cn=Math.random().toString(36).slice(2),Yn="__reactFiber$"+cn,Be="__reactProps$"+cn,Vs="__reactContainer$"+cn,So="__reactEvents$"+cn,ls="__reactListeners$"+cn,qi="__reactHandles$"+cn,ql="__reactResources$"+cn,Ja="__reactMarker$"+cn;function Ue(n){delete n[Yn],delete n[Be],delete n[So],delete n[ls],delete n[qi]}function Nn(n){var r=n[Yn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Vs]||o[Yn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=C1(n);n!==null;){if(o=n[Yn])return o;n=C1(n)}return r}n=o,o=n.parentNode}return null}function ys(n){if(n=n[Yn]||n[Vs]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function qn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Qi(n){var r=n[ql];return r||(r=n[ql]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Gn(n){n[Ja]=!0}var Ql=new Set,Ao={};function Ar(n,r){_a(n,r),_a(n+"Capture",r)}function _a(n,r){for(Ao[n]=r,n=0;n<r.length;n++)Ql.add(r[n])}var Ti=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},Js={};function js(n){return le.call(Js,n)?!0:le.call(Zl,n)?!1:Ti.test(n)?Js[n]=!0:(Zl[n]=!0,!1)}function Cr(n,r,o){if(js(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function cs(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function ni(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}var $s,Co;function qr(n){if($s===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$s=r&&r[1]||"",Co=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+n+Co}var xo=!1;function xn(n,r){if(!n||xo)return"";xo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var Ft=function(){throw Error()};if(Object.defineProperty(Ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ft,[])}catch(Et){var wt=Et}Reflect.construct(n,[],Ft)}else{try{Ft.call()}catch(Et){wt=Et}n.call(Ft.prototype)}}else{try{throw Error()}catch(Et){wt=Et}(Ft=n())&&typeof Ft.catch=="function"&&Ft.catch(function(){})}}catch(Et){if(Et&&wt&&typeof Et.stack=="string")return[Et.stack,wt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=c.DetermineComponentFrameRoot(),k=T[0],B=T[1];if(k&&B){var $=k.split(`
`),Tt=B.split(`
`);for(m=c=0;c<$.length&&!$[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Tt.length&&!Tt[m].includes("DetermineComponentFrameRoot");)m++;if(c===$.length||m===Tt.length)for(c=$.length-1,m=Tt.length-1;1<=c&&0<=m&&$[c]!==Tt[m];)m--;for(;1<=c&&0<=m;c--,m--)if($[c]!==Tt[m]){if(c!==1||m!==1)do if(c--,m--,0>m||$[c]!==Tt[m]){var Ot=`
`+$[c].replace(" at new "," at ");return n.displayName&&Ot.includes("<anonymous>")&&(Ot=Ot.replace("<anonymous>",n.displayName)),Ot}while(1<=c&&0<=m);break}}}finally{xo=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?qr(o):""}function Ro(n){switch(n.tag){case 26:case 27:case 5:return qr(n.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 15:return xn(n.type,!1);case 11:return xn(n.type.render,!1);case 1:return xn(n.type,!0);case 31:return qr("Activity");default:return""}}function hl(n){try{var r="";do r+=Ro(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Zi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function vs(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Kl(n){var r=vs(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,T=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return m.call(this)},set:function(k){c=""+k,T.call(this,k)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(k){c=""+k},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ls(n){n._valueTracker||(n._valueTracker=Kl(n))}function ja(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=vs(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function $a(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Dc=/[\n"\\]/g;function ii(n){return n.replace(Dc,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ts(n,r,o,c,m,T,k,B){n.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.type=k:n.removeAttribute("type"),r!=null?k==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Zi(r)):n.value!==""+Zi(r)&&(n.value=""+Zi(r)):k!=="submit"&&k!=="reset"||n.removeAttribute("value"),r!=null?tr(n,k,Zi(r)):o!=null?tr(n,k,Zi(o)):c!=null&&n.removeAttribute("value"),m==null&&T!=null&&(n.defaultChecked=!!T),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?n.name=""+Zi(B):n.removeAttribute("name")}function ws(n,r,o,c,m,T,k,B){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.type=T),r!=null||o!=null){if(!(T!=="submit"&&T!=="reset"||r!=null))return;o=o!=null?""+Zi(o):"",r=r!=null?""+Zi(r):o,B||r===n.value||(n.value=r),n.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=B?n.checked:!!c,n.defaultChecked=!!c,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(n.name=k)}function tr(n,r,o){r==="number"&&$a(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function ya(n,r,o,c){if(n=n.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=r.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Zi(o),r=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,c&&(n[m].defaultSelected=!0);return}r!==null||n[m].disabled||(r=n[m])}r!==null&&(r.selected=!0)}}function nn(n,r,o){if(r!=null&&(r=""+Zi(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+Zi(o):""}function Qr(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(mt(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Zi(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function er(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var to=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oc(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||to.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function xr(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Oc(n,m,c)}else for(var T in r)r.hasOwnProperty(T)&&Oc(n,T,r[T])}function va(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(n){return fl.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var wa=null;function nr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Li=null,Rr=null;function Mo(n){var r=ys(n);if(r&&(n=r.stateNode)){var o=n[Be]||null;t:switch(n=r.stateNode,r.type){case"input":if(Ts(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ii(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var m=c[Be]||null;if(!m)throw Error(i(90));Ts(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&ja(c)}break t;case"textarea":nn(n,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&ya(n,!!o.multiple,r,!1)}}}var ir=!1;function Io(n,r,o){if(ir)return n(r,o);ir=!0;try{var c=n(r);return c}finally{if(ir=!1,(Li!==null||Rr!==null)&&(Og(),Li&&(r=Li,n=Rr,Rr=Li=null,Mo(r),n)))for(r=0;r<n.length;r++)Mo(n[r])}}function Ze(n,r){var o=n.stateNode;if(o===null)return null;var c=o[Be]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(us)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{hs=!1}var bs=null,sr=null,rr=null;function Zr(){if(rr)return rr;var n,r=sr,o=r.length,c,m="value"in bs?bs.value:bs.textContent,T=m.length;for(n=0;n<o&&r[n]===m[n];n++);var k=o-n;for(c=1;c<=k&&r[o-c]===m[T-c];c++);return rr=m.slice(n,1<c?1-c:void 0)}function Fi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Fs(){return!0}function Us(){return!1}function wi(n){function r(o,c,m,T,k){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=T,this.target=k,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(o=n[B],this[B]=o?o(T):T[B]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Fs:Us,this.isPropagationStopped=Us,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ir=wi(Ke),kr=E({},Ke,{view:0,detail:0}),Jl=wi(kr),ko,Do,Kr,Oo=E({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(ko=n.screenX-Kr.screenX,Do=n.screenY-Kr.screenY):Do=ko=0,Kr=n),ko)},movementY:function(n){return"movementY"in n?n.movementY:Do}}),ar=wi(Oo),jl=E({},Oo,{dataTransfer:0}),Nc=wi(jl),No=E({},kr,{relatedTarget:0}),Jr=wi(No),dl=E({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=wi(dl),Pc=E({},Ke,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),eo=wi(Pc),Vc=E({},Ke,{data:0}),jr=wi(Vc),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sa(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=$l[n])?!!r[n]:!1}function or(){return Sa}var Lc=E({},kr,{key:function(n){if(n.key){var r=Ea[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Fi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Po[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(n){return n.type==="keypress"?Fi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),gl=wi(Lc),fi=E({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=wi(fi),fs=E({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),no=wi(fs),tc=E({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),$r=wi(tc),bi=E({},Oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ei=wi(bi),yn=E({},Ke,{newState:0,oldState:0}),io=wi(yn),ec=[9,13,27,32],lr=us&&"CompositionEvent"in window,f=null;us&&"documentMode"in document&&(f=document.documentMode);var S=us&&"TextEvent"in window&&!f,M=us&&(!lr||f&&8<f&&11>=f),G=" ",ht=!1;function St(n,r){switch(n){case"keyup":return ec.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ne=!1;function tn(n,r){switch(n){case"compositionend":return Xt(r);case"keypress":return r.which!==32?null:(ht=!0,G);case"textInput":return n=r.data,n===G&&ht?null:n;default:return null}}function Ge(n,r){if(Ne)return n==="compositionend"||!lr&&St(n,r)?(n=Zr(),rr=sr=bs=null,Ne=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return M&&r.locale!=="ko"?null:r.data;default:return null}}var Qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function si(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Qn[n.type]:r==="textarea"}function Dr(n,r,o,c){Li?Rr?Rr.push(c):Rr=[c]:Li=c,r=Ug(r,"onChange"),0<r.length&&(o=new Ir("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var Si=null,Bs=null;function Ca(n){m1(n,0)}function pl(n){var r=qn(n);if(ja(r))return n}function Ou(n,r){if(n==="change")return r}var Fc=!1;if(us){var so;if(us){var ta="oninput"in document;if(!ta){var Vo=document.createElement("div");Vo.setAttribute("oninput","return;"),ta=typeof Vo.oninput=="function"}so=ta}else so=!1;Fc=so&&(!document.documentMode||9<document.documentMode)}function ro(){Si&&(Si.detachEvent("onpropertychange",ml),Bs=Si=null)}function ml(n){if(n.propertyName==="value"&&pl(Bs)){var r=[];Dr(r,Bs,n,nr(n)),Io(Ca,r)}}function Uc(n,r,o){n==="focusin"?(ro(),Si=r,Bs=o,Si.attachEvent("onpropertychange",ml)):n==="focusout"&&ro()}function Nu(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return pl(Bs)}function nc(n,r){if(n==="click")return pl(r)}function Lo(n,r){if(n==="input"||n==="change")return pl(r)}function Hf(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Ki=typeof Object.is=="function"?Object.is:Hf;function _l(n,r){if(Ki(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!le.call(r,m)||!Ki(n[m],r[m]))return!1}return!0}function xa(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function d(n,r){var o=xa(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=xa(o)}}function _(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?_(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function b(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=$a(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=$a(n.document)}return r}function x(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var O=us&&"documentMode"in document&&11>=document.documentMode,q=null,nt=null,Rt=null,gt=!1;function At(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gt||q==null||q!==$a(c)||(c=q,"selectionStart"in c&&x(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Rt&&_l(Rt,c)||(Rt=c,c=Ug(nt,"onSelect"),0<c.length&&(r=new Ir("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=q)))}function Kt(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Ht={animationend:Kt("Animation","AnimationEnd"),animationiteration:Kt("Animation","AnimationIteration"),animationstart:Kt("Animation","AnimationStart"),transitionrun:Kt("Transition","TransitionRun"),transitionstart:Kt("Transition","TransitionStart"),transitioncancel:Kt("Transition","TransitionCancel"),transitionend:Kt("Transition","TransitionEnd")},se={},ge={};us&&(ge=document.createElement("div").style,"AnimationEvent"in window||(delete Ht.animationend.animation,delete Ht.animationiteration.animation,delete Ht.animationstart.animation),"TransitionEvent"in window||delete Ht.transitionend.transition);function fe(n){if(se[n])return se[n];if(!Ht[n])return n;var r=Ht[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in ge)return se[n]=r[o];return n}var we=fe("animationend"),fn=fe("animationiteration"),dn=fe("animationstart"),gn=fe("transitionrun"),Pn=fe("transitionstart"),he=fe("transitioncancel"),Zn=fe("transitionend"),Pe=new Map,di="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");di.push("scrollEnd");function bn(n,r){Pe.set(n,r),Ar(r,[n])}var be=new WeakMap;function un(n,r){if(typeof n=="object"&&n!==null){var o=be.get(n);return o!==void 0?o:(r={value:n,source:r,stack:hl(r)},be.set(n,r),r)}return{value:n,source:r,stack:hl(r)}}var Ai=[],Kn=0,Or=0;function ds(){for(var n=Kn,r=Or=Kn=0;r<n;){var o=Ai[r];Ai[r++]=null;var c=Ai[r];Ai[r++]=null;var m=Ai[r];Ai[r++]=null;var T=Ai[r];if(Ai[r++]=null,c!==null&&m!==null){var k=c.pending;k===null?m.next=m:(m.next=k.next,k.next=m),c.pending=m}T!==0&&ea(o,m,T)}}function gi(n,r,o,c){Ai[Kn++]=n,Ai[Kn++]=r,Ai[Kn++]=o,Ai[Kn++]=c,Or|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Ui(n,r,o,c){return gi(n,r,o,c),Di(n)}function ri(n,r){return gi(n,null,null,r),Di(n)}function ea(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var m=!1,T=n.return;T!==null;)T.childLanes|=o,c=T.alternate,c!==null&&(c.childLanes|=o),T.tag===22&&(n=T.stateNode,n===null||n._visibility&1||(m=!0)),n=T,T=T.return;return n.tag===3?(T=n.stateNode,m&&r!==null&&(m=31-Cn(o),n=T.hiddenUpdates,c=n[m],c===null?n[m]=[r]:c.push(r),r.lane=o|536870912),T):null}function Di(n){if(50<pd)throw pd=0,n_=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Nr={};function Ra(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(n,r,o,c){return new Ra(n,r,o,c)}function Ma(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cr(n,r){var o=n.alternate;return o===null?(o=pi(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function ic(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ia(n,r,o,c,m,T){var k=0;if(c=n,typeof n=="function")Ma(n)&&(k=1);else if(typeof n=="string")k=NS(n,o,It.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case P:return n=pi(31,o,r,m),n.elementType=P,n.lanes=T,n;case L:return Bi(o.children,m,T,r);case Z:k=8,m|=24;break;case H:return n=pi(12,o,r,m|2),n.elementType=H,n.lanes=T,n;case J:return n=pi(13,o,r,m),n.elementType=J,n.lanes=T,n;case rt:return n=pi(19,o,r,m),n.elementType=rt,n.lanes=T,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:case st:k=10;break t;case lt:k=9;break t;case pt:k=11;break t;case V:k=14;break t;case I:k=16,c=null;break t}k=29,o=Error(i(130,n===null?"null":typeof n,"")),c=null}return r=pi(k,o,r,m),r.elementType=n,r.type=c,r.lanes=T,r}function Bi(n,r,o,c){return n=pi(7,n,c,r),n.lanes=o,n}function Bc(n,r,o){return n=pi(6,n,null,r),n.lanes=o,n}function Fo(n,r,o){return r=pi(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ao=[],oo=0,sc=null,ka=0,Es=[],Ji=0,Pr=null,Ci=1,Vr="";function zs(n,r){ao[oo++]=ka,ao[oo++]=sc,sc=n,ka=r}function lo(n,r,o){Es[Ji++]=Ci,Es[Ji++]=Vr,Es[Ji++]=Pr,Pr=n;var c=Ci;n=Vr;var m=32-Cn(c)-1;c&=~(1<<m),o+=1;var T=32-Cn(r)+m;if(30<T){var k=m-m%5;T=(c&(1<<k)-1).toString(32),c>>=k,m-=k,Ci=1<<32-Cn(r)+m|o<<m|c,Vr=T+n}else Ci=1<<T|o<<m|c,Vr=n}function Uo(n){n.return!==null&&(zs(n,1),lo(n,1,0))}function na(n){for(;n===sc;)sc=ao[--oo],ao[oo]=null,ka=ao[--oo],ao[oo]=null;for(;n===Pr;)Pr=Es[--Ji],Es[Ji]=null,Vr=Es[--Ji],Es[Ji]=null,Ci=Es[--Ji],Es[Ji]=null}var xi=null,en=null,ze=!1,ur=null,zi=!1,ai=Error(i(519));function ia(n){var r=Error(i(418,""));throw fr(un(r,n)),ai}function hr(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[Yn]=n,r[Be]=c,o){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(o=0;o<_d.length;o++)Qe(_d[o],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Qe("invalid",r),ws(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ls(r);break;case"select":Qe("invalid",r);break;case"textarea":Qe("invalid",r),Qr(r,c.value,c.defaultValue,c.children),Ls(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||T1(r.textContent,o)?(c.popover!=null&&(Qe("beforetoggle",r),Qe("toggle",r)),c.onScroll!=null&&Qe("scroll",r),c.onScrollEnd!=null&&Qe("scrollend",r),c.onClick!=null&&(r.onclick=Bg),r=!0):r=!1,r||ia(n)}function Bo(n){for(xi=n.return;xi;)switch(xi.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:xi=xi.return}}function Da(n){if(n!==xi)return!1;if(!ze)return Bo(n),ze=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||y_(n.type,n.memoizedProps)),o=!o),o&&en&&ia(n),Bo(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){en=tl(n.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}en=null}}else r===27?(r=en,au(n.type)?(n=b_,b_=null,en=n):en=r):en=xi?tl(n.stateNode.nextSibling):null;return!0}function Lr(){en=xi=null,ze=!1}function Fr(){var n=ur;return n!==null&&(ha===null?ha=n:ha.push.apply(ha,n),ur=null),n}function fr(n){ur===null?ur=[n]:ur.push(n)}var Ri=K(null),gs=null,Ur=null;function sa(n,r,o){ft(Ri,r._currentValue),r._currentValue=o}function Ss(n){n._currentValue=Ri.current,dt(Ri)}function rc(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function oi(n,r,o,c){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var T=m.dependencies;if(T!==null){var k=m.child;T=T.firstContext;t:for(;T!==null;){var B=T;T=m;for(var $=0;$<r.length;$++)if(B.context===r[$]){T.lanes|=o,B=T.alternate,B!==null&&(B.lanes|=o),rc(T.return,o,n),c||(k=null);break t}T=B.next}}else if(m.tag===18){if(k=m.return,k===null)throw Error(i(341));k.lanes|=o,T=k.alternate,T!==null&&(T.lanes|=o),rc(k,o,n),k=null}else k=m.child;if(k!==null)k.return=m;else for(k=m;k!==null;){if(k===n){k=null;break}if(m=k.sibling,m!==null){m.return=k.return,k=m;break}k=k.return}m=k}}function ra(n,r,o,c){n=null;for(var m=r,T=!1;m!==null;){if(!T){if((m.flags&524288)!==0)T=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var k=m.alternate;if(k===null)throw Error(i(387));if(k=k.memoizedProps,k!==null){var B=m.type;Ki(m.pendingProps.value,k.value)||(n!==null?n.push(B):n=[B])}}else if(m===ce.current){if(k=m.alternate,k===null)throw Error(i(387));k.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Ed):n=[Ed])}m=m.return}n!==null&&oi(r,n,o,c),r.flags|=262144}function aa(n){for(n=n.firstContext;n!==null;){if(!Ki(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function As(n){gs=n,Ur=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function mi(n){return Cs(gs,n)}function co(n,r){return gs===null&&As(n),Cs(n,r)}function Cs(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ur===null){if(n===null)throw Error(i(308));Ur=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ur=Ur.next=r;return o}var Sh=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},zo=s.unstable_scheduleCallback,Pu=s.unstable_NormalPriority,Vn={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uo(){return{controller:new Sh,data:new Map,refCount:0}}function Oa(n){n.refCount--,n.refCount===0&&zo(Pu,function(){n.controller.abort()})}var dr=null,Ho=0,Na=0,Pa=null;function ac(n,r){if(dr===null){var o=dr=[];Ho=0,Na=c_(),Pa={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Ho++,r.then(gr,gr),r}function gr(){if(--Ho===0&&dr!==null){Pa!==null&&(Pa.status="fulfilled");var n=dr;dr=null,Na=0,Pa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Va(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Yo=Y.S;Y.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ac(n,r),Yo!==null&&Yo(n,r)};var Hs=K(null);function Go(){var n=Hs.current;return n!==null?n:$n.pooledCache}function La(n,r){r===null?ft(Hs,Hs.current):ft(Hs,r.pool)}function yl(){var n=Go();return n===null?null:{parent:Vn._currentValue,pool:n}}var pr=Error(i(460)),Fa=Error(i(474)),oa=Error(i(542)),Ua={then:function(){}};function vl(n){return n=n.status,n==="fulfilled"||n==="rejected"}function h(){}function p(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(h,h),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,D(n),n;default:if(typeof r.status=="string")r.then(h,h);else{if(n=$n,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,D(n),n}throw w=r,pr}}var w=null;function R(){if(w===null)throw Error(i(459));var n=w;return w=null,n}function D(n){if(n===pr||n===oa)throw Error(i(483))}var W=!1;function tt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vt(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function it(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ut(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(In&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Di(n),ea(n,null,o),r}return gi(n,c,r,o),Di(n)}function zt(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Wl(n,o)}}function Dt(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,T=null;if(o=o.firstBaseUpdate,o!==null){do{var k={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};T===null?m=T=k:T=T.next=k,o=o.next}while(o!==null);T===null?m=T=r:T=T.next=r}else m=T=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:T,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var $t=!1;function ie(){if($t){var n=Pa;if(n!==null)throw n}}function de(n,r,o,c){$t=!1;var m=n.updateQueue;W=!1;var T=m.firstBaseUpdate,k=m.lastBaseUpdate,B=m.shared.pending;if(B!==null){m.shared.pending=null;var $=B,Tt=$.next;$.next=null,k===null?T=Tt:k.next=Tt,k=$;var Ot=n.alternate;Ot!==null&&(Ot=Ot.updateQueue,B=Ot.lastBaseUpdate,B!==k&&(B===null?Ot.firstBaseUpdate=Tt:B.next=Tt,Ot.lastBaseUpdate=$))}if(T!==null){var Ft=m.baseState;k=0,Ot=Tt=$=null,B=T;do{var wt=B.lane&-536870913,Et=wt!==B.lane;if(Et?(sn&wt)===wt:(c&wt)===wt){wt!==0&&wt===Na&&($t=!0),Ot!==null&&(Ot=Ot.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});t:{var Ce=n,ye=B;wt=r;var Un=o;switch(ye.tag){case 1:if(Ce=ye.payload,typeof Ce=="function"){Ft=Ce.call(Un,Ft,wt);break t}Ft=Ce;break t;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=ye.payload,wt=typeof Ce=="function"?Ce.call(Un,Ft,wt):Ce,wt==null)break t;Ft=E({},Ft,wt);break t;case 2:W=!0}}wt=B.callback,wt!==null&&(n.flags|=64,Et&&(n.flags|=8192),Et=m.callbacks,Et===null?m.callbacks=[wt]:Et.push(wt))}else Et={lane:wt,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ot===null?(Tt=Ot=Et,$=Ft):Ot=Ot.next=Et,k|=wt;if(B=B.next,B===null){if(B=m.shared.pending,B===null)break;Et=B,B=Et.next,Et.next=null,m.lastBaseUpdate=Et,m.shared.pending=null}}while(!0);Ot===null&&($=Ft),m.baseState=$,m.firstBaseUpdate=Tt,m.lastBaseUpdate=Ot,T===null&&(m.shared.lanes=0),nu|=k,n.lanes=k,n.memoizedState=Ft}}function Ee(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function vn(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Ee(o[n],r)}var Rn=K(null),Ve=K(0);function Hi(n,r){n=pc,ft(Ve,n),ft(Rn,r),pc=n|r.baseLanes}function Xn(){ft(Ve,pc),ft(Rn,Rn.current)}function ji(){pc=Ve.current,dt(Rn),dt(Ve)}var Ln=0,_e=null,ke=null,Oe=null,Jn=!1,Tn=!1,jn=!1,Ba=0,mr=0,Ys=null,Tl=0;function Mn(){throw Error(i(321))}function Ah(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Ki(n[o],r[o]))return!1;return!0}function Ch(n,r,o,c,m,T){return Ln=T,_e=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=n===null||n.memoizedState===null?uc:sd,jn=!1,T=o(c,m),jn=!1,Tn&&(T=Gf(r,o,c,m)),Yf(n),T}function Yf(n){Y.H=ju;var r=ke!==null&&ke.next!==null;if(Ln=0,Oe=ke=_e=null,Jn=!1,mr=0,Ys=null,r)throw Error(i(300));n===null||xs||(n=n.dependencies,n!==null&&aa(n)&&(xs=!0))}function Gf(n,r,o,c){_e=n;var m=0;do{if(Tn&&(Ys=null),mr=0,Tn=!1,25<=m)throw Error(i(301));if(m+=1,Oe=ke=null,n.updateQueue!=null){var T=n.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Y.H=Lh,T=r(o,c)}while(Tn);return T}function Xf(){var n=Y.H,r=n.useState()[0];return r=typeof r.then=="function"?Xo(r):r,n=n.useState()[0],(ke!==null?ke.memoizedState:null)!==n&&(_e.flags|=1024),r}function Vu(){var n=Ba!==0;return Ba=0,n}function Lu(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function Fu(n){if(Jn){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Jn=!1}Ln=0,Oe=ke=_e=null,Tn=!1,mr=Ba=0,Ys=null}function $i(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?_e.memoizedState=Oe=n:Oe=Oe.next=n,Oe}function pn(){if(ke===null){var n=_e.alternate;n=n!==null?n.memoizedState:null}else n=ke.next;var r=Oe===null?_e.memoizedState:Oe.next;if(r!==null)Oe=r,ke=n;else{if(n===null)throw _e.alternate===null?Error(i(467)):Error(i(310));ke=n,n={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Oe===null?_e.memoizedState=Oe=n:Oe=Oe.next=n}return Oe}function xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(n){var r=mr;return mr+=1,Ys===null&&(Ys=[]),n=p(Ys,n,r),r=_e,(Oe===null?r.memoizedState:Oe.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?uc:sd),n}function Uu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xo(n);if(n.$$typeof===st)return mi(n)}throw Error(i(438,String(n)))}function Rh(n){var r=null,o=_e.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=_e.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=xh(),_e.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=U;return r.index++,o}function ho(n,r){return typeof r=="function"?r(n):r}function Bu(n){var r=pn();return Mh(r,ke,n)}function Mh(n,r,o){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=n.baseQueue,T=c.pending;if(T!==null){if(m!==null){var k=m.next;m.next=T.next,T.next=k}r.baseQueue=m=T,c.pending=null}if(T=n.baseState,m===null)n.memoizedState=T;else{r=m.next;var B=k=null,$=null,Tt=r,Ot=!1;do{var Ft=Tt.lane&-536870913;if(Ft!==Tt.lane?(sn&Ft)===Ft:(Ln&Ft)===Ft){var wt=Tt.revertLane;if(wt===0)$!==null&&($=$.next={lane:0,revertLane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),Ft===Na&&(Ot=!0);else if((Ln&wt)===wt){Tt=Tt.next,wt===Na&&(Ot=!0);continue}else Ft={lane:0,revertLane:Tt.revertLane,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},$===null?(B=$=Ft,k=T):$=$.next=Ft,_e.lanes|=wt,nu|=wt;Ft=Tt.action,jn&&o(T,Ft),T=Tt.hasEagerState?Tt.eagerState:o(T,Ft)}else wt={lane:Ft,revertLane:Tt.revertLane,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},$===null?(B=$=wt,k=T):$=$.next=wt,_e.lanes|=Ft,nu|=Ft;Tt=Tt.next}while(Tt!==null&&Tt!==r);if($===null?k=T:$.next=B,!Ki(T,n.memoizedState)&&(xs=!0,Ot&&(o=Pa,o!==null)))throw o;n.memoizedState=T,n.baseState=k,n.baseQueue=$,c.lastRenderedState=T}return m===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Ih(n){var r=pn(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var c=o.dispatch,m=o.pending,T=r.memoizedState;if(m!==null){o.pending=null;var k=m=m.next;do T=n(T,k.action),k=k.next;while(k!==m);Ki(T,r.memoizedState)||(xs=!0),r.memoizedState=T,r.baseQueue===null&&(r.baseState=T),o.lastRenderedState=T}return[T,c]}function zc(n,r,o){var c=_e,m=pn(),T=ze;if(T){if(o===void 0)throw Error(i(407));o=o()}else o=r();var k=!Ki((ke||m).memoizedState,o);k&&(m.memoizedState=o,xs=!0),m=m.queue;var B=qf.bind(null,c,m,n);if(oc(2048,8,B,[n]),m.getSnapshot!==r||k||Oe!==null&&Oe.memoizedState.tag&1){if(c.flags|=2048,go(9,bl(),Wf.bind(null,c,m,o,r),null),$n===null)throw Error(i(349));T||(Ln&124)!==0||fo(c,r,o)}return o}function fo(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=_e.updateQueue,r===null?(r=xh(),_e.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Wf(n,r,o,c){r.value=o,r.getSnapshot=c,Hc(r)&&Qf(n)}function qf(n,r,o){return o(function(){Hc(r)&&Qf(n)})}function Hc(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Ki(n,o)}catch{return!0}}function Qf(n){var r=ri(n,2);r!==null&&qa(r,n,2)}function Wo(n){var r=$i();if(typeof n=="function"){var o=n;if(n=o(),jn){ki(!0);try{o()}finally{ki(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:n},r}function Yc(n,r,o,c){return n.baseState=o,Mh(n,ke,typeof c=="function"?c:ho)}function zu(n,r,o,c,m){if(El(n))throw Error(i(485));if(n=r.action,n!==null){var T={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){T.listeners.push(k)}};Y.T!==null?o(!0):T.isTransition=!1,c(T),o=r.pending,o===null?(T.next=r.pending=T,Gc(r,T)):(T.next=o.next,r.pending=o.next=T)}}function Gc(n,r){var o=r.action,c=r.payload,m=n.state;if(r.isTransition){var T=Y.T,k={};Y.T=k;try{var B=o(m,c),$=Y.S;$!==null&&$(k,B),Xc(n,r,B)}catch(Tt){Hu(n,r,Tt)}finally{Y.T=T}}else try{T=o(m,c),Xc(n,r,T)}catch(Tt){Hu(n,r,Tt)}}function Xc(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){qo(n,r,c)},function(c){return Hu(n,r,c)}):qo(n,r,o)}function qo(n,r,o){r.status="fulfilled",r.value=o,kh(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Gc(n,o)))}function Hu(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,kh(r),r=r.next;while(r!==c)}n.action=null}function kh(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function wl(n,r){return r}function Zf(n,r){if(ze){var o=$n.formState;if(o!==null){t:{var c=_e;if(ze){if(en){e:{for(var m=en,T=zi;m.nodeType!==8;){if(!T){m=null;break e}if(m=tl(m.nextSibling),m===null){m=null;break e}}T=m.data,m=T==="F!"||T==="F"?m:null}if(m){en=tl(m.nextSibling),c=m.data==="F!";break t}}ia(c)}c=!1}c&&(r=o[0])}}return o=$i(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:r},o.queue=c,o=nd.bind(null,_e,c),c.dispatch=o,c=Wo(!1),T=Zc.bind(null,_e,!1,c.queue),c=$i(),m={state:r,dispatch:null,action:n,pending:null},c.queue=m,o=zu.bind(null,_e,m,T,o),m.dispatch=o,c.memoizedState=n,[r,o,!1]}function Yu(n){var r=pn();return Kf(r,ke,n)}function Kf(n,r,o){if(r=Mh(n,r,wl)[0],n=Bu(ho)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Xo(r)}catch(k){throw k===pr?oa:k}else c=r;r=pn();var m=r.queue,T=m.dispatch;return o!==r.memoizedState&&(_e.flags|=2048,go(9,bl(),Gu.bind(null,m,o),null)),[c,T,n]}function Gu(n,r){n.action=r}function Jf(n){var r=pn(),o=ke;if(o!==null)return Kf(r,o,n);pn(),r=r.memoizedState,o=pn();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function go(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=_e.updateQueue,r===null&&(r=xh(),_e.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function bl(){return{destroy:void 0,resource:void 0}}function jf(){return pn().memoizedState}function Xu(n,r,o,c){var m=$i();c=c===void 0?null:c,_e.flags|=n,m.memoizedState=go(1|r,bl(),o,c)}function oc(n,r,o,c){var m=pn();c=c===void 0?null:c;var T=m.memoizedState.inst;ke!==null&&c!==null&&Ah(c,ke.memoizedState.deps)?m.memoizedState=go(r,T,o,c):(_e.flags|=n,m.memoizedState=go(1|r,T,o,c))}function Ag(n,r){Xu(8390656,8,n,r)}function Qo(n,r){oc(2048,8,n,r)}function Wu(n,r){return oc(4,2,n,r)}function Wc(n,r){return oc(4,4,n,r)}function lc(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function qu(n,r,o){o=o!=null?o.concat([n]):null,oc(4,4,lc.bind(null,r,n),o)}function qc(){}function Dh(n,r){var o=pn();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Ah(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function $f(n,r){var o=pn();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Ah(r,c[1]))return c[0];if(c=n(),jn){ki(!0);try{n()}finally{ki(!1)}}return o.memoizedState=[c,r],c}function Qu(n,r,o){return o===void 0||(Ln&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=qv(),_e.lanes|=n,nu|=n,o)}function td(n,r,o,c){return Ki(o,r)?o:Rn.current!==null?(n=Qu(n,o,c),Ki(n,r)||(xs=!0),n):(Ln&42)===0?(xs=!0,n.memoizedState=o):(n=qv(),_e.lanes|=n,nu|=n,r)}function Zu(n,r,o,c,m){var T=et.p;et.p=T!==0&&8>T?T:8;var k=Y.T,B={};Y.T=B,Zc(n,!1,r,o);try{var $=m(),Tt=Y.S;if(Tt!==null&&Tt(B,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var Ot=Va($,c);Zo(n,r,Ot,Wa(n))}else Zo(n,r,c,Wa(n))}catch(Ft){Zo(n,r,{then:function(){},status:"rejected",reason:Ft},Wa())}finally{et.p=T,Y.T=k}}function Oh(){}function Nh(n,r,o,c){if(n.tag!==5)throw Error(i(476));var m=Ku(n).queue;Zu(n,m,r,bt,o===null?Oh:function(){return Ph(n),o(c)})}function Ku(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:bt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Ph(n){var r=Ku(n).next.queue;Zo(n,r,{},Wa())}function Vh(){return mi(Ed)}function ed(){return pn().memoizedState}function Ju(){return pn().memoizedState}function cc(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Wa();n=it(o);var c=ut(r,n,o);c!==null&&(qa(c,r,o),zt(c,r,o)),r={cache:uo()},n.payload=r;return}r=r.return}}function Qc(n,r,o){var c=Wa();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},El(n)?id(r,o):(o=Ui(n,r,o,c),o!==null&&(qa(o,n,c),Sl(o,r,c)))}function nd(n,r,o){var c=Wa();Zo(n,r,o,c)}function Zo(n,r,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(El(n))id(r,m);else{var T=n.alternate;if(n.lanes===0&&(T===null||T.lanes===0)&&(T=r.lastRenderedReducer,T!==null))try{var k=r.lastRenderedState,B=T(k,o);if(m.hasEagerState=!0,m.eagerState=B,Ki(B,k))return gi(n,r,m,0),$n===null&&ds(),!1}catch{}finally{}if(o=Ui(n,r,m,c),o!==null)return qa(o,n,c),Sl(o,r,c),!0}return!1}function Zc(n,r,o,c){if(c={lane:2,revertLane:c_(),action:c,hasEagerState:!1,eagerState:null,next:null},El(n)){if(r)throw Error(i(479))}else r=Ui(n,o,c,2),r!==null&&qa(r,n,2)}function El(n){var r=n.alternate;return n===_e||r!==null&&r===_e}function id(n,r){Tn=Jn=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function Sl(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,Wl(n,o)}}var ju={readContext:mi,use:Uu,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn},uc={readContext:mi,use:Uu,useCallback:function(n,r){return $i().memoizedState=[n,r===void 0?null:r],n},useContext:mi,useEffect:Ag,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Xu(4194308,4,lc.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Xu(4194308,4,n,r)},useInsertionEffect:function(n,r){Xu(4,2,n,r)},useMemo:function(n,r){var o=$i();r=r===void 0?null:r;var c=n();if(jn){ki(!0);try{n()}finally{ki(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=$i();if(o!==void 0){var m=o(r);if(jn){ki(!0);try{o(r)}finally{ki(!1)}}}else m=r;return c.memoizedState=c.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},c.queue=n,n=n.dispatch=Qc.bind(null,_e,n),[c.memoizedState,n]},useRef:function(n){var r=$i();return n={current:n},r.memoizedState=n},useState:function(n){n=Wo(n);var r=n.queue,o=nd.bind(null,_e,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:qc,useDeferredValue:function(n,r){var o=$i();return Qu(o,n,r)},useTransition:function(){var n=Wo(!1);return n=Zu.bind(null,_e,n.queue,!0,!1),$i().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=_e,m=$i();if(ze){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),$n===null)throw Error(i(349));(sn&124)!==0||fo(c,r,o)}m.memoizedState=o;var T={value:o,getSnapshot:r};return m.queue=T,Ag(qf.bind(null,c,T,n),[n]),c.flags|=2048,go(9,bl(),Wf.bind(null,c,T,o,r),null),o},useId:function(){var n=$i(),r=$n.identifierPrefix;if(ze){var o=Vr,c=Ci;o=(c&~(1<<32-Cn(c)-1)).toString(32)+o,r="«"+r+"R"+o,o=Ba++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=Tl++,r="«"+r+"r"+o.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Vh,useFormState:Zf,useActionState:Zf,useOptimistic:function(n){var r=$i();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Zc.bind(null,_e,!0,o),o.dispatch=r,[n,r]},useMemoCache:Rh,useCacheRefresh:function(){return $i().memoizedState=cc.bind(null,_e)}},sd={readContext:mi,use:Uu,useCallback:Dh,useContext:mi,useEffect:Qo,useImperativeHandle:qu,useInsertionEffect:Wu,useLayoutEffect:Wc,useMemo:$f,useReducer:Bu,useRef:jf,useState:function(){return Bu(ho)},useDebugValue:qc,useDeferredValue:function(n,r){var o=pn();return td(o,ke.memoizedState,n,r)},useTransition:function(){var n=Bu(ho)[0],r=pn().memoizedState;return[typeof n=="boolean"?n:Xo(n),r]},useSyncExternalStore:zc,useId:ed,useHostTransitionStatus:Vh,useFormState:Yu,useActionState:Yu,useOptimistic:function(n,r){var o=pn();return Yc(o,ke,n,r)},useMemoCache:Rh,useCacheRefresh:Ju},Lh={readContext:mi,use:Uu,useCallback:Dh,useContext:mi,useEffect:Qo,useImperativeHandle:qu,useInsertionEffect:Wu,useLayoutEffect:Wc,useMemo:$f,useReducer:Ih,useRef:jf,useState:function(){return Ih(ho)},useDebugValue:qc,useDeferredValue:function(n,r){var o=pn();return ke===null?Qu(o,n,r):td(o,ke.memoizedState,n,r)},useTransition:function(){var n=Ih(ho)[0],r=pn().memoizedState;return[typeof n=="boolean"?n:Xo(n),r]},useSyncExternalStore:zc,useId:ed,useHostTransitionStatus:Vh,useFormState:Jf,useActionState:Jf,useOptimistic:function(n,r){var o=pn();return ke!==null?Yc(o,ke,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Rh,useCacheRefresh:Ju},Al=null,Ko=0;function $u(n){var r=Ko;return Ko+=1,Al===null&&(Al=[]),p(Al,n,r)}function Jo(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Cl(n,r){throw r.$$typeof===A?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Kc(n){var r=n._init;return r(n._payload)}function th(n){function r(ct,ot){if(n){var yt=ct.deletions;yt===null?(ct.deletions=[ot],ct.flags|=16):yt.push(ot)}}function o(ct,ot){if(!n)return null;for(;ot!==null;)r(ct,ot),ot=ot.sibling;return null}function c(ct){for(var ot=new Map;ct!==null;)ct.key!==null?ot.set(ct.key,ct):ot.set(ct.index,ct),ct=ct.sibling;return ot}function m(ct,ot){return ct=cr(ct,ot),ct.index=0,ct.sibling=null,ct}function T(ct,ot,yt){return ct.index=yt,n?(yt=ct.alternate,yt!==null?(yt=yt.index,yt<ot?(ct.flags|=67108866,ot):yt):(ct.flags|=67108866,ot)):(ct.flags|=1048576,ot)}function k(ct){return n&&ct.alternate===null&&(ct.flags|=67108866),ct}function B(ct,ot,yt,Nt){return ot===null||ot.tag!==6?(ot=Bc(yt,ct.mode,Nt),ot.return=ct,ot):(ot=m(ot,yt),ot.return=ct,ot)}function $(ct,ot,yt,Nt){var re=yt.type;return re===L?Ot(ct,ot,yt.props.children,Nt,yt.key):ot!==null&&(ot.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===I&&Kc(re)===ot.type)?(ot=m(ot,yt.props),Jo(ot,yt),ot.return=ct,ot):(ot=Ia(yt.type,yt.key,yt.props,null,ct.mode,Nt),Jo(ot,yt),ot.return=ct,ot)}function Tt(ct,ot,yt,Nt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==yt.containerInfo||ot.stateNode.implementation!==yt.implementation?(ot=Fo(yt,ct.mode,Nt),ot.return=ct,ot):(ot=m(ot,yt.children||[]),ot.return=ct,ot)}function Ot(ct,ot,yt,Nt,re){return ot===null||ot.tag!==7?(ot=Bi(yt,ct.mode,Nt,re),ot.return=ct,ot):(ot=m(ot,yt),ot.return=ct,ot)}function Ft(ct,ot,yt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=Bc(""+ot,ct.mode,yt),ot.return=ct,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case C:return yt=Ia(ot.type,ot.key,ot.props,null,ct.mode,yt),Jo(yt,ot),yt.return=ct,yt;case N:return ot=Fo(ot,ct.mode,yt),ot.return=ct,ot;case I:var Nt=ot._init;return ot=Nt(ot._payload),Ft(ct,ot,yt)}if(mt(ot)||Q(ot))return ot=Bi(ot,ct.mode,yt,null),ot.return=ct,ot;if(typeof ot.then=="function")return Ft(ct,$u(ot),yt);if(ot.$$typeof===st)return Ft(ct,co(ct,ot),yt);Cl(ct,ot)}return null}function wt(ct,ot,yt,Nt){var re=ot!==null?ot.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return re!==null?null:B(ct,ot,""+yt,Nt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case C:return yt.key===re?$(ct,ot,yt,Nt):null;case N:return yt.key===re?Tt(ct,ot,yt,Nt):null;case I:return re=yt._init,yt=re(yt._payload),wt(ct,ot,yt,Nt)}if(mt(yt)||Q(yt))return re!==null?null:Ot(ct,ot,yt,Nt,null);if(typeof yt.then=="function")return wt(ct,ot,$u(yt),Nt);if(yt.$$typeof===st)return wt(ct,ot,co(ct,yt),Nt);Cl(ct,yt)}return null}function Et(ct,ot,yt,Nt,re){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return ct=ct.get(yt)||null,B(ot,ct,""+Nt,re);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case C:return ct=ct.get(Nt.key===null?yt:Nt.key)||null,$(ot,ct,Nt,re);case N:return ct=ct.get(Nt.key===null?yt:Nt.key)||null,Tt(ot,ct,Nt,re);case I:var Xe=Nt._init;return Nt=Xe(Nt._payload),Et(ct,ot,yt,Nt,re)}if(mt(Nt)||Q(Nt))return ct=ct.get(yt)||null,Ot(ot,ct,Nt,re,null);if(typeof Nt.then=="function")return Et(ct,ot,yt,$u(Nt),re);if(Nt.$$typeof===st)return Et(ct,ot,yt,co(ot,Nt),re);Cl(ot,Nt)}return null}function Ce(ct,ot,yt,Nt){for(var re=null,Xe=null,pe=ot,ve=ot=0,Ms=null;pe!==null&&ve<yt.length;ve++){pe.index>ve?(Ms=pe,pe=null):Ms=pe.sibling;var mn=wt(ct,pe,yt[ve],Nt);if(mn===null){pe===null&&(pe=Ms);break}n&&pe&&mn.alternate===null&&r(ct,pe),ot=T(mn,ot,ve),Xe===null?re=mn:Xe.sibling=mn,Xe=mn,pe=Ms}if(ve===yt.length)return o(ct,pe),ze&&zs(ct,ve),re;if(pe===null){for(;ve<yt.length;ve++)pe=Ft(ct,yt[ve],Nt),pe!==null&&(ot=T(pe,ot,ve),Xe===null?re=pe:Xe.sibling=pe,Xe=pe);return ze&&zs(ct,ve),re}for(pe=c(pe);ve<yt.length;ve++)Ms=Et(pe,ct,ve,yt[ve],Nt),Ms!==null&&(n&&Ms.alternate!==null&&pe.delete(Ms.key===null?ve:Ms.key),ot=T(Ms,ot,ve),Xe===null?re=Ms:Xe.sibling=Ms,Xe=Ms);return n&&pe.forEach(function(hu){return r(ct,hu)}),ze&&zs(ct,ve),re}function ye(ct,ot,yt,Nt){if(yt==null)throw Error(i(151));for(var re=null,Xe=null,pe=ot,ve=ot=0,Ms=null,mn=yt.next();pe!==null&&!mn.done;ve++,mn=yt.next()){pe.index>ve?(Ms=pe,pe=null):Ms=pe.sibling;var hu=wt(ct,pe,mn.value,Nt);if(hu===null){pe===null&&(pe=Ms);break}n&&pe&&hu.alternate===null&&r(ct,pe),ot=T(hu,ot,ve),Xe===null?re=hu:Xe.sibling=hu,Xe=hu,pe=Ms}if(mn.done)return o(ct,pe),ze&&zs(ct,ve),re;if(pe===null){for(;!mn.done;ve++,mn=yt.next())mn=Ft(ct,mn.value,Nt),mn!==null&&(ot=T(mn,ot,ve),Xe===null?re=mn:Xe.sibling=mn,Xe=mn);return ze&&zs(ct,ve),re}for(pe=c(pe);!mn.done;ve++,mn=yt.next())mn=Et(pe,ct,ve,mn.value,Nt),mn!==null&&(n&&mn.alternate!==null&&pe.delete(mn.key===null?ve:mn.key),ot=T(mn,ot,ve),Xe===null?re=mn:Xe.sibling=mn,Xe=mn);return n&&pe.forEach(function(WS){return r(ct,WS)}),ze&&zs(ct,ve),re}function Un(ct,ot,yt,Nt){if(typeof yt=="object"&&yt!==null&&yt.type===L&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case C:t:{for(var re=yt.key;ot!==null;){if(ot.key===re){if(re=yt.type,re===L){if(ot.tag===7){o(ct,ot.sibling),Nt=m(ot,yt.props.children),Nt.return=ct,ct=Nt;break t}}else if(ot.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===I&&Kc(re)===ot.type){o(ct,ot.sibling),Nt=m(ot,yt.props),Jo(Nt,yt),Nt.return=ct,ct=Nt;break t}o(ct,ot);break}else r(ct,ot);ot=ot.sibling}yt.type===L?(Nt=Bi(yt.props.children,ct.mode,Nt,yt.key),Nt.return=ct,ct=Nt):(Nt=Ia(yt.type,yt.key,yt.props,null,ct.mode,Nt),Jo(Nt,yt),Nt.return=ct,ct=Nt)}return k(ct);case N:t:{for(re=yt.key;ot!==null;){if(ot.key===re)if(ot.tag===4&&ot.stateNode.containerInfo===yt.containerInfo&&ot.stateNode.implementation===yt.implementation){o(ct,ot.sibling),Nt=m(ot,yt.children||[]),Nt.return=ct,ct=Nt;break t}else{o(ct,ot);break}else r(ct,ot);ot=ot.sibling}Nt=Fo(yt,ct.mode,Nt),Nt.return=ct,ct=Nt}return k(ct);case I:return re=yt._init,yt=re(yt._payload),Un(ct,ot,yt,Nt)}if(mt(yt))return Ce(ct,ot,yt,Nt);if(Q(yt)){if(re=Q(yt),typeof re!="function")throw Error(i(150));return yt=re.call(yt),ye(ct,ot,yt,Nt)}if(typeof yt.then=="function")return Un(ct,ot,$u(yt),Nt);if(yt.$$typeof===st)return Un(ct,ot,co(ct,yt),Nt);Cl(ct,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint"?(yt=""+yt,ot!==null&&ot.tag===6?(o(ct,ot.sibling),Nt=m(ot,yt),Nt.return=ct,ct=Nt):(o(ct,ot),Nt=Bc(yt,ct.mode,Nt),Nt.return=ct,ct=Nt),k(ct)):o(ct,ot)}return function(ct,ot,yt,Nt){try{Ko=0;var re=Un(ct,ot,yt,Nt);return Al=null,re}catch(pe){if(pe===pr||pe===oa)throw pe;var Xe=pi(29,pe,null,ct.mode);return Xe.lanes=Nt,Xe.return=ct,Xe}finally{}}}var la=th(!0),ps=th(!1),En=K(null),za=null;function Br(n){var r=n.alternate;ft(Oi,Oi.current&1),ft(En,n),za===null&&(r===null||Rn.current!==null||r.memoizedState!==null)&&(za=n)}function Fh(n){if(n.tag===22){if(ft(Oi,Oi.current),ft(En,n),za===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(za=n)}}else _r()}function _r(){ft(Oi,Oi.current),ft(En,En.current)}function Ha(n){dt(En),za===n&&(za=null),dt(Oi)}var Oi=K(0);function po(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||w_(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function eh(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:E({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var nh={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=Wa(),m=it(c);m.payload=r,o!=null&&(m.callback=o),r=ut(n,m,c),r!==null&&(qa(r,n,c),zt(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=Wa(),m=it(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=ut(n,m,c),r!==null&&(qa(r,n,c),zt(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Wa(),c=it(o);c.tag=2,r!=null&&(c.callback=r),r=ut(n,c,o),r!==null&&(qa(r,n,o),zt(r,n,o))}};function rd(n,r,o,c,m,T,k){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,T,k):r.prototype&&r.prototype.isPureReactComponent?!_l(o,c)||!_l(m,T):!0}function Uh(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&nh.enqueueReplaceState(r,r.state,null)}function xl(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=E({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}var Jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ad(n){Jc(n)}function Bh(n){console.error(n)}function od(n){Jc(n)}function jo(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function ca(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function zh(n,r,o){return o=it(o),o.tag=3,o.payload={element:null},o.callback=function(){jo(n,r)},o}function fv(n){return n=it(n),n.tag=3,n}function dv(n,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var T=c.value;n.payload=function(){return m(T)},n.callback=function(){ca(r,o,c)}}var k=o.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(n.callback=function(){ca(r,o,c),typeof m!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var B=c.stack;this.componentDidCatch(c.value,{componentStack:B!==null?B:""})})}function W2(n,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&ra(r,o,m,!0),o=En.current,o!==null){switch(o.tag){case 13:return za===null?s_():o.alternate===null&&Ni===0&&(Ni=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Ua?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),a_(n,c,m)),!1;case 22:return o.flags|=65536,c===Ua?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),a_(n,c,m)),!1}throw Error(i(435,o.tag))}return a_(n,c,m),s_(),!1}if(ze)return r=En.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==ai&&(n=Error(i(422),{cause:c}),fr(un(n,o)))):(c!==ai&&(r=Error(i(423),{cause:c}),fr(un(r,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,c=un(c,o),m=zh(n.stateNode,c,m),Dt(n,m),Ni!==4&&(Ni=2)),!1;var T=Error(i(520),{cause:c});if(T=un(T,o),gd===null?gd=[T]:gd.push(T),Ni!==4&&(Ni=2),r===null)return!0;c=un(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=zh(o.stateNode,c,n),Dt(o,n),!1;case 1:if(r=o.type,T=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(iu===null||!iu.has(T))))return o.flags|=65536,m&=-m,o.lanes|=m,m=fv(m),dv(m,n,o,c),Dt(o,m),!1}o=o.return}while(o!==null);return!1}var gv=Error(i(461)),xs=!1;function Gs(n,r,o,c){r.child=n===null?ps(r,null,o,c):la(r,n.child,o,c)}function pv(n,r,o,c,m){o=o.render;var T=r.ref;if("ref"in c){var k={};for(var B in c)B!=="ref"&&(k[B]=c[B])}else k=c;return As(r),c=Ch(n,r,o,k,T,m),B=Vu(),n!==null&&!xs?(Lu(n,r,m),hc(n,r,m)):(ze&&B&&Uo(r),r.flags|=1,Gs(n,r,c,m),r.child)}function mv(n,r,o,c,m){if(n===null){var T=o.type;return typeof T=="function"&&!Ma(T)&&T.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=T,_v(n,r,T,c,m)):(n=Ia(o.type,null,c,r,r.mode,m),n.ref=r.ref,n.return=r,r.child=n)}if(T=n.child,!Hm(n,m)){var k=T.memoizedProps;if(o=o.compare,o=o!==null?o:_l,o(k,c)&&n.ref===r.ref)return hc(n,r,m)}return r.flags|=1,n=cr(T,c),n.ref=r.ref,n.return=r,r.child=n}function _v(n,r,o,c,m){if(n!==null){var T=n.memoizedProps;if(_l(T,c)&&n.ref===r.ref)if(xs=!1,r.pendingProps=c=T,Hm(n,m))(n.flags&131072)!==0&&(xs=!0);else return r.lanes=n.lanes,hc(n,r,m)}return Pm(n,r,o,c,m)}function yv(n,r,o){var c=r.pendingProps,m=c.children,T=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=T!==null?T.baseLanes|o:o,n!==null){for(m=r.child=n.child,T=0;m!==null;)T=T|m.lanes|m.childLanes,m=m.sibling;r.childLanes=T&~c}else r.childLanes=0,r.child=null;return vv(n,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&La(r,T!==null?T.cachePool:null),T!==null?Hi(r,T):Xn(),Fh(r);else return r.lanes=r.childLanes=536870912,vv(n,r,T!==null?T.baseLanes|o:o,o)}else T!==null?(La(r,T.cachePool),Hi(r,T),_r(),r.memoizedState=null):(n!==null&&La(r,null),Xn(),_r());return Gs(n,r,m,o),r.child}function vv(n,r,o,c){var m=Go();return m=m===null?null:{parent:Vn._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},n!==null&&La(r,null),Xn(),Fh(r),n!==null&&ra(n,r,c,!0),null}function Cg(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Pm(n,r,o,c,m){return As(r),o=Ch(n,r,o,c,void 0,m),c=Vu(),n!==null&&!xs?(Lu(n,r,m),hc(n,r,m)):(ze&&c&&Uo(r),r.flags|=1,Gs(n,r,o,m),r.child)}function Tv(n,r,o,c,m,T){return As(r),r.updateQueue=null,o=Gf(r,c,o,m),Yf(n),c=Vu(),n!==null&&!xs?(Lu(n,r,T),hc(n,r,T)):(ze&&c&&Uo(r),r.flags|=1,Gs(n,r,o,T),r.child)}function wv(n,r,o,c,m){if(As(r),r.stateNode===null){var T=Nr,k=o.contextType;typeof k=="object"&&k!==null&&(T=mi(k)),T=new o(c,T),r.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=nh,r.stateNode=T,T._reactInternals=r,T=r.stateNode,T.props=c,T.state=r.memoizedState,T.refs={},tt(r),k=o.contextType,T.context=typeof k=="object"&&k!==null?mi(k):Nr,T.state=r.memoizedState,k=o.getDerivedStateFromProps,typeof k=="function"&&(eh(r,o,k,c),T.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(k=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),k!==T.state&&nh.enqueueReplaceState(T,T.state,null),de(r,c,T,m),ie(),T.state=r.memoizedState),typeof T.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){T=r.stateNode;var B=r.memoizedProps,$=xl(o,B);T.props=$;var Tt=T.context,Ot=o.contextType;k=Nr,typeof Ot=="object"&&Ot!==null&&(k=mi(Ot));var Ft=o.getDerivedStateFromProps;Ot=typeof Ft=="function"||typeof T.getSnapshotBeforeUpdate=="function",B=r.pendingProps!==B,Ot||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B||Tt!==k)&&Uh(r,T,c,k),W=!1;var wt=r.memoizedState;T.state=wt,de(r,c,T,m),ie(),Tt=r.memoizedState,B||wt!==Tt||W?(typeof Ft=="function"&&(eh(r,o,Ft,c),Tt=r.memoizedState),($=W||rd(r,o,$,c,wt,Tt,k))?(Ot||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(r.flags|=4194308)):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Tt),T.props=c,T.state=Tt,T.context=k,c=$):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{T=r.stateNode,vt(n,r),k=r.memoizedProps,Ot=xl(o,k),T.props=Ot,Ft=r.pendingProps,wt=T.context,Tt=o.contextType,$=Nr,typeof Tt=="object"&&Tt!==null&&($=mi(Tt)),B=o.getDerivedStateFromProps,(Tt=typeof B=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==Ft||wt!==$)&&Uh(r,T,c,$),W=!1,wt=r.memoizedState,T.state=wt,de(r,c,T,m),ie();var Et=r.memoizedState;k!==Ft||wt!==Et||W||n!==null&&n.dependencies!==null&&aa(n.dependencies)?(typeof B=="function"&&(eh(r,o,B,c),Et=r.memoizedState),(Ot=W||rd(r,o,Ot,c,wt,Et,$)||n!==null&&n.dependencies!==null&&aa(n.dependencies))?(Tt||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(c,Et,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(c,Et,$)),typeof T.componentDidUpdate=="function"&&(r.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===n.memoizedProps&&wt===n.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&wt===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Et),T.props=c,T.state=Et,T.context=$,c=Ot):(typeof T.componentDidUpdate!="function"||k===n.memoizedProps&&wt===n.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&wt===n.memoizedState||(r.flags|=1024),c=!1)}return T=c,Cg(n,r),c=(r.flags&128)!==0,T||c?(T=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:T.render(),r.flags|=1,n!==null&&c?(r.child=la(r,n.child,null,m),r.child=la(r,null,o,m)):Gs(n,r,o,m),r.memoizedState=T.state,n=r.child):n=hc(n,r,m),n}function bv(n,r,o,c){return Lr(),r.flags|=256,Gs(n,r,o,c),r.child}var Vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lm(n){return{baseLanes:n,cachePool:yl()}}function Fm(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=mo),n}function Ev(n,r,o){var c=r.pendingProps,m=!1,T=(r.flags&128)!==0,k;if((k=T)||(k=n!==null&&n.memoizedState===null?!1:(Oi.current&2)!==0),k&&(m=!0,r.flags&=-129),k=(r.flags&32)!==0,r.flags&=-33,n===null){if(ze){if(m?Br(r):_r(),ze){var B=en,$;if($=B){t:{for($=B,B=zi;$.nodeType!==8;){if(!B){B=null;break t}if($=tl($.nextSibling),$===null){B=null;break t}}B=$}B!==null?(r.memoizedState={dehydrated:B,treeContext:Pr!==null?{id:Ci,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},$=pi(18,null,null,0),$.stateNode=B,$.return=r,r.child=$,xi=r,en=null,$=!0):$=!1}$||ia(r)}if(B=r.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return w_(B)?r.lanes=32:r.lanes=536870912,null;Ha(r)}return B=c.children,c=c.fallback,m?(_r(),m=r.mode,B=xg({mode:"hidden",children:B},m),c=Bi(c,m,o,null),B.return=r,c.return=r,B.sibling=c,r.child=B,m=r.child,m.memoizedState=Lm(o),m.childLanes=Fm(n,k,o),r.memoizedState=Vm,c):(Br(r),Um(r,B))}if($=n.memoizedState,$!==null&&(B=$.dehydrated,B!==null)){if(T)r.flags&256?(Br(r),r.flags&=-257,r=Bm(n,r,o)):r.memoizedState!==null?(_r(),r.child=n.child,r.flags|=128,r=null):(_r(),m=c.fallback,B=r.mode,c=xg({mode:"visible",children:c.children},B),m=Bi(m,B,o,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,la(r,n.child,null,o),c=r.child,c.memoizedState=Lm(o),c.childLanes=Fm(n,k,o),r.memoizedState=Vm,r=m);else if(Br(r),w_(B)){if(k=B.nextSibling&&B.nextSibling.dataset,k)var Tt=k.dgst;k=Tt,c=Error(i(419)),c.stack="",c.digest=k,fr({value:c,source:null,stack:null}),r=Bm(n,r,o)}else if(xs||ra(n,r,o,!1),k=(o&n.childLanes)!==0,xs||k){if(k=$n,k!==null&&(c=o&-o,c=(c&42)!==0?1:ma(c),c=(c&(k.suspendedLanes|o))!==0?0:c,c!==0&&c!==$.retryLane))throw $.retryLane=c,ri(n,c),qa(k,n,c),gv;B.data==="$?"||s_(),r=Bm(n,r,o)}else B.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=$.treeContext,en=tl(B.nextSibling),xi=r,ze=!0,ur=null,zi=!1,n!==null&&(Es[Ji++]=Ci,Es[Ji++]=Vr,Es[Ji++]=Pr,Ci=n.id,Vr=n.overflow,Pr=r),r=Um(r,c.children),r.flags|=4096);return r}return m?(_r(),m=c.fallback,B=r.mode,$=n.child,Tt=$.sibling,c=cr($,{mode:"hidden",children:c.children}),c.subtreeFlags=$.subtreeFlags&65011712,Tt!==null?m=cr(Tt,m):(m=Bi(m,B,o,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,B=n.child.memoizedState,B===null?B=Lm(o):($=B.cachePool,$!==null?(Tt=Vn._currentValue,$=$.parent!==Tt?{parent:Tt,pool:Tt}:$):$=yl(),B={baseLanes:B.baseLanes|o,cachePool:$}),m.memoizedState=B,m.childLanes=Fm(n,k,o),r.memoizedState=Vm,c):(Br(r),o=n.child,n=o.sibling,o=cr(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(k=r.deletions,k===null?(r.deletions=[n],r.flags|=16):k.push(n)),r.child=o,r.memoizedState=null,o)}function Um(n,r){return r=xg({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function xg(n,r){return n=pi(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Bm(n,r,o){return la(r,n.child,null,o),n=Um(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Sv(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),rc(n.return,r,o)}function zm(n,r,o,c,m){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(T.isBackwards=r,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m)}function Av(n,r,o){var c=r.pendingProps,m=c.revealOrder,T=c.tail;if(Gs(n,r,c.children,o),c=Oi.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sv(n,o,r);else if(n.tag===19)Sv(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(ft(Oi,c),m){case"forwards":for(o=r.child,m=null;o!==null;)n=o.alternate,n!==null&&po(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),zm(r,!1,m,o,T);break;case"backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(n=m.alternate,n!==null&&po(n)===null){r.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}zm(r,!0,o,null,T);break;case"together":zm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function hc(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),nu|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(ra(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=cr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=cr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Hm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&aa(n)))}function q2(n,r,o){switch(r.tag){case 3:Bt(r,r.stateNode.containerInfo),sa(r,Vn,n.memoizedState.cache),Lr();break;case 27:case 5:Dn(r);break;case 4:Bt(r,r.stateNode.containerInfo);break;case 10:sa(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ev(n,r,o):(Br(r),n=hc(n,r,o),n!==null?n.sibling:null);Br(r);break;case 19:var m=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(ra(n,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return Av(n,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ft(Oi,Oi.current),c)break;return null;case 22:case 23:return r.lanes=0,yv(n,r,o);case 24:sa(r,Vn,n.memoizedState.cache)}return hc(n,r,o)}function Cv(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)xs=!0;else{if(!Hm(n,o)&&(r.flags&128)===0)return xs=!1,q2(n,r,o);xs=(n.flags&131072)!==0}else xs=!1,ze&&(r.flags&1048576)!==0&&lo(r,ka,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var c=r.elementType,m=c._init;if(c=m(c._payload),r.type=c,typeof c=="function")Ma(c)?(n=xl(c,n),r.tag=1,r=wv(null,r,c,n,o)):(r.tag=0,r=Pm(null,r,c,n,o));else{if(c!=null){if(m=c.$$typeof,m===pt){r.tag=11,r=pv(null,r,c,n,o);break t}else if(m===V){r.tag=14,r=mv(null,r,c,n,o);break t}}throw r=Pt(c)||c,Error(i(306,r,""))}}return r;case 0:return Pm(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=xl(c,r.pendingProps),wv(n,r,c,m,o);case 3:t:{if(Bt(r,r.stateNode.containerInfo),n===null)throw Error(i(387));c=r.pendingProps;var T=r.memoizedState;m=T.element,vt(n,r),de(r,c,null,o);var k=r.memoizedState;if(c=k.cache,sa(r,Vn,c),c!==T.cache&&oi(r,[Vn],o,!0),ie(),c=k.element,T.isDehydrated)if(T={element:c,isDehydrated:!1,cache:k.cache},r.updateQueue.baseState=T,r.memoizedState=T,r.flags&256){r=bv(n,r,c,o);break t}else if(c!==m){m=un(Error(i(424)),r),fr(m),r=bv(n,r,c,o);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(en=tl(n.firstChild),xi=r,ze=!0,ur=null,zi=!0,o=ps(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Lr(),c===m){r=hc(n,r,o);break t}Gs(n,r,c,o)}r=r.child}return r;case 26:return Cg(n,r),n===null?(o=I1(r.type,null,r.pendingProps,null))?r.memoizedState=o:ze||(o=r.type,n=r.pendingProps,c=zg(Vt.current).createElement(o),c[Yn]=r,c[Be]=n,Ws(c,o,n),Gn(c),r.stateNode=c):r.memoizedState=I1(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Dn(r),n===null&&ze&&(c=r.stateNode=x1(r.type,r.pendingProps,Vt.current),xi=r,zi=!0,m=en,au(r.type)?(b_=m,en=tl(c.firstChild)):en=m),Gs(n,r,r.pendingProps.children,o),Cg(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ze&&((m=c=en)&&(c=wS(c,r.type,r.pendingProps,zi),c!==null?(r.stateNode=c,xi=r,en=tl(c.firstChild),zi=!1,m=!0):m=!1),m||ia(r)),Dn(r),m=r.type,T=r.pendingProps,k=n!==null?n.memoizedProps:null,c=T.children,y_(m,T)?c=null:k!==null&&y_(m,k)&&(r.flags|=32),r.memoizedState!==null&&(m=Ch(n,r,Xf,null,null,o),Ed._currentValue=m),Cg(n,r),Gs(n,r,c,o),r.child;case 6:return n===null&&ze&&((n=o=en)&&(o=bS(o,r.pendingProps,zi),o!==null?(r.stateNode=o,xi=r,en=null,n=!0):n=!1),n||ia(r)),null;case 13:return Ev(n,r,o);case 4:return Bt(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=la(r,null,c,o):Gs(n,r,c,o),r.child;case 11:return pv(n,r,r.type,r.pendingProps,o);case 7:return Gs(n,r,r.pendingProps,o),r.child;case 8:return Gs(n,r,r.pendingProps.children,o),r.child;case 12:return Gs(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,sa(r,r.type,c.value),Gs(n,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,As(r),m=mi(m),c=c(m),r.flags|=1,Gs(n,r,c,o),r.child;case 14:return mv(n,r,r.type,r.pendingProps,o);case 15:return _v(n,r,r.type,r.pendingProps,o);case 19:return Av(n,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},n===null?(o=xg(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=cr(n.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return yv(n,r,o);case 24:return As(r),c=mi(Vn),n===null?(m=Go(),m===null&&(m=$n,T=uo(),m.pooledCache=T,T.refCount++,T!==null&&(m.pooledCacheLanes|=o),m=T),r.memoizedState={parent:c,cache:m},tt(r),sa(r,Vn,m)):((n.lanes&o)!==0&&(vt(n,r),de(r,null,null,o),ie()),m=n.memoizedState,T=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),sa(r,Vn,c)):(c=T.cache,sa(r,Vn,c),c!==m.cache&&oi(r,[Vn],o,!0))),Gs(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function fc(n){n.flags|=4}function xv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!P1(r)){if(r=En.current,r!==null&&((sn&4194048)===sn?za!==null:(sn&62914560)!==sn&&(sn&536870912)===0||r!==za))throw w=Ua,Fa;n.flags|=8192}}function Rg(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Fe():536870912,n.lanes|=r,Xh|=r)}function ld(n,r){if(!ze)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Mi(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function Q2(n,r,o){var c=r.pendingProps;switch(na(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(r),null;case 1:return Mi(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ss(Vn),hn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Da(r)?fc(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fr())),Mi(r),null;case 26:return o=r.memoizedState,n===null?(fc(r),o!==null?(Mi(r),xv(r,o)):(Mi(r),r.flags&=-16777217)):o?o!==n.memoizedState?(fc(r),Mi(r),xv(r,o)):(Mi(r),r.flags&=-16777217):(n.memoizedProps!==c&&fc(r),Mi(r),r.flags&=-16777217),null;case 27:We(r),o=Vt.current;var m=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==c&&fc(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Mi(r),null}n=It.current,Da(r)?hr(r):(n=x1(m,c,o),r.stateNode=n,fc(r))}return Mi(r),null;case 5:if(We(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&fc(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return Mi(r),null}if(n=It.current,Da(r))hr(r);else{switch(m=zg(Vt.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}n[Yn]=r,n[Be]=c;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=n;t:switch(Ws(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&fc(r)}}return Mi(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&fc(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(n=Vt.current,Da(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,m=xi,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}n[Yn]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||T1(n.nodeValue,o)),n||ia(r)}else n=zg(n).createTextNode(c),n[Yn]=r,r.stateNode=n}return Mi(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Da(r),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Yn]=r}else Lr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Mi(r),m=!1}else m=Fr(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Ha(r),r):(Ha(r),null)}if(Ha(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var T=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(T=c.memoizedState.cachePool.pool),T!==m&&(c.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),Rg(r,r.updateQueue),Mi(r),null;case 4:return hn(),n===null&&d_(r.stateNode.containerInfo),Mi(r),null;case 10:return Ss(r.type),Mi(r),null;case 19:if(dt(Oi),m=r.memoizedState,m===null)return Mi(r),null;if(c=(r.flags&128)!==0,T=m.rendering,T===null)if(c)ld(m,!1);else{if(Ni!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(T=po(n),T!==null){for(r.flags|=128,ld(m,!1),n=T.updateQueue,r.updateQueue=n,Rg(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)ic(o,n),o=o.sibling;return ft(Oi,Oi.current&1|2),r.child}n=n.sibling}m.tail!==null&&Qt()>kg&&(r.flags|=128,c=!0,ld(m,!1),r.lanes=4194304)}else{if(!c)if(n=po(T),n!==null){if(r.flags|=128,c=!0,n=n.updateQueue,r.updateQueue=n,Rg(r,n),ld(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!ze)return Mi(r),null}else 2*Qt()-m.renderingStartTime>kg&&o!==536870912&&(r.flags|=128,c=!0,ld(m,!1),r.lanes=4194304);m.isBackwards?(T.sibling=r.child,r.child=T):(n=m.last,n!==null?n.sibling=T:r.child=T,m.last=T)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Qt(),r.sibling=null,n=Oi.current,ft(Oi,c?n&1|2:n&1),r):(Mi(r),null);case 22:case 23:return Ha(r),ji(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(Mi(r),r.subtreeFlags&6&&(r.flags|=8192)):Mi(r),o=r.updateQueue,o!==null&&Rg(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&dt(Hs),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ss(Vn),Mi(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Z2(n,r){switch(na(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ss(Vn),hn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return We(r),null;case 13:if(Ha(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Lr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return dt(Oi),null;case 4:return hn(),null;case 10:return Ss(r.type),null;case 22:case 23:return Ha(r),ji(),n!==null&&dt(Hs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ss(Vn),null;case 25:return null;default:return null}}function Rv(n,r){switch(na(r),r.tag){case 3:Ss(Vn),hn();break;case 26:case 27:case 5:We(r);break;case 4:hn();break;case 13:Ha(r);break;case 19:dt(Oi);break;case 10:Ss(r.type);break;case 22:case 23:Ha(r),ji(),n!==null&&dt(Hs);break;case 24:Ss(Vn)}}function cd(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&n)===n){c=void 0;var T=o.create,k=o.inst;c=T(),k.destroy=c}o=o.next}while(o!==m)}}catch(B){Wn(r,r.return,B)}}function jc(n,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var T=m.next;c=T;do{if((c.tag&n)===n){var k=c.inst,B=k.destroy;if(B!==void 0){k.destroy=void 0,m=r;var $=o,Tt=B;try{Tt()}catch(Ot){Wn(m,$,Ot)}}}c=c.next}while(c!==T)}}catch(Ot){Wn(r,r.return,Ot)}}function Mv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{vn(r,o)}catch(c){Wn(n,n.return,c)}}}function Iv(n,r,o){o.props=xl(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Wn(n,r,c)}}function ud(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(m){Wn(n,r,m)}}function Rl(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Wn(n,r,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Wn(n,r,m)}else o.current=null}function kv(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Wn(n,n.return,m)}}function Ym(n,r,o){try{var c=n.stateNode;mS(c,n.type,o,r),c[Be]=r}catch(m){Wn(n,n.return,m)}}function Dv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&au(n.type)||n.tag===4}function Gm(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Dv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&au(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xm(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Bg));else if(c!==4&&(c===27&&au(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Xm(n,r,o),n=n.sibling;n!==null;)Xm(n,r,o),n=n.sibling}function Mg(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&au(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Mg(n,r,o),n=n.sibling;n!==null;)Mg(n,r,o),n=n.sibling}function Ov(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Ws(r,c,o),r[Yn]=n,r[Be]=o}catch(T){Wn(n,n.return,T)}}var dc=!1,Yi=!1,Wm=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,Rs=null;function K2(n,r){if(n=n.containerInfo,m_=qg,n=b(n),x(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,T=c.focusNode;c=c.focusOffset;try{o.nodeType,T.nodeType}catch{o=null;break t}var k=0,B=-1,$=-1,Tt=0,Ot=0,Ft=n,wt=null;e:for(;;){for(var Et;Ft!==o||m!==0&&Ft.nodeType!==3||(B=k+m),Ft!==T||c!==0&&Ft.nodeType!==3||($=k+c),Ft.nodeType===3&&(k+=Ft.nodeValue.length),(Et=Ft.firstChild)!==null;)wt=Ft,Ft=Et;for(;;){if(Ft===n)break e;if(wt===o&&++Tt===m&&(B=k),wt===T&&++Ot===c&&($=k),(Et=Ft.nextSibling)!==null)break;Ft=wt,wt=Ft.parentNode}Ft=Et}o=B===-1||$===-1?null:{start:B,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(__={focusedElem:n,selectionRange:o},qg=!1,Rs=r;Rs!==null;)if(r=Rs,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Rs=n;else for(;Rs!==null;){switch(r=Rs,T=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&T!==null){n=void 0,o=r,m=T.memoizedProps,T=T.memoizedState,c=o.stateNode;try{var Ce=xl(o.type,m,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(Ce,T),c.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Wn(o,o.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)T_(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":T_(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Rs=n;break}Rs=r.return}}function Pv(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:$c(n,o),c&4&&cd(5,o);break;case 1:if($c(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(k){Wn(o,o.return,k)}else{var m=xl(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(m,r,n.__reactInternalSnapshotBeforeUpdate)}catch(k){Wn(o,o.return,k)}}c&64&&Mv(o),c&512&&ud(o,o.return);break;case 3:if($c(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{vn(n,r)}catch(k){Wn(o,o.return,k)}}break;case 27:r===null&&c&4&&Ov(o);case 26:case 5:$c(n,o),r===null&&c&4&&kv(o),c&512&&ud(o,o.return);break;case 12:$c(n,o);break;case 13:$c(n,o),c&4&&Fv(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=rS.bind(null,o),ES(n,o))));break;case 22:if(c=o.memoizedState!==null||dc,!c){r=r!==null&&r.memoizedState!==null||Yi,m=dc;var T=Yi;dc=c,(Yi=r)&&!T?tu(n,o,(o.subtreeFlags&8772)!==0):$c(n,o),dc=m,Yi=T}break;case 30:break;default:$c(n,o)}}function Vv(n){var r=n.alternate;r!==null&&(n.alternate=null,Vv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ue(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _i=null,ua=!1;function gc(n,r,o){for(o=o.child;o!==null;)Lv(n,r,o),o=o.sibling}function Lv(n,r,o){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Re,o)}catch{}switch(o.tag){case 26:Yi||Rl(o,r),gc(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Yi||Rl(o,r);var c=_i,m=ua;au(o.type)&&(_i=o.stateNode,ua=!1),gc(n,r,o),vd(o.stateNode),_i=c,ua=m;break;case 5:Yi||Rl(o,r);case 6:if(c=_i,m=ua,_i=null,gc(n,r,o),_i=c,ua=m,_i!==null)if(ua)try{(_i.nodeType===9?_i.body:_i.nodeName==="HTML"?_i.ownerDocument.body:_i).removeChild(o.stateNode)}catch(T){Wn(o,r,T)}else try{_i.removeChild(o.stateNode)}catch(T){Wn(o,r,T)}break;case 18:_i!==null&&(ua?(n=_i,A1(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),xd(n)):A1(_i,o.stateNode));break;case 4:c=_i,m=ua,_i=o.stateNode.containerInfo,ua=!0,gc(n,r,o),_i=c,ua=m;break;case 0:case 11:case 14:case 15:Yi||jc(2,o,r),Yi||jc(4,o,r),gc(n,r,o);break;case 1:Yi||(Rl(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Iv(o,r,c)),gc(n,r,o);break;case 21:gc(n,r,o);break;case 22:Yi=(c=Yi)||o.memoizedState!==null,gc(n,r,o),Yi=c;break;default:gc(n,r,o)}}function Fv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xd(n)}catch(o){Wn(r,r.return,o)}}function J2(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Nv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Nv),r;default:throw Error(i(435,n.tag))}}function qm(n,r){var o=J2(n);r.forEach(function(c){var m=aS.bind(null,n,c);o.has(c)||(o.add(c),c.then(m,m))})}function Ya(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],T=n,k=r,B=k;t:for(;B!==null;){switch(B.tag){case 27:if(au(B.type)){_i=B.stateNode,ua=!1;break t}break;case 5:_i=B.stateNode,ua=!1;break t;case 3:case 4:_i=B.stateNode.containerInfo,ua=!0;break t}B=B.return}if(_i===null)throw Error(i(160));Lv(T,k,m),_i=null,ua=!1,T=m.alternate,T!==null&&(T.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Uv(r,n),r=r.sibling}var $o=null;function Uv(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ya(r,n),Ga(n),c&4&&(jc(3,n,n.return),cd(3,n),jc(5,n,n.return));break;case 1:Ya(r,n),Ga(n),c&512&&(Yi||o===null||Rl(o,o.return)),c&64&&dc&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=$o;if(Ya(r,n),Ga(n),c&512&&(Yi||o===null||Rl(o,o.return)),c&4){var T=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":T=m.getElementsByTagName("title")[0],(!T||T[Ja]||T[Yn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=m.createElement(c),m.head.insertBefore(T,m.querySelector("head > title"))),Ws(T,c,o),T[Yn]=n,Gn(T),c=T;break t;case"link":var k=O1("link","href",m).get(c+(o.href||""));if(k){for(var B=0;B<k.length;B++)if(T=k[B],T.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&T.getAttribute("rel")===(o.rel==null?null:o.rel)&&T.getAttribute("title")===(o.title==null?null:o.title)&&T.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){k.splice(B,1);break e}}T=m.createElement(c),Ws(T,c,o),m.head.appendChild(T);break;case"meta":if(k=O1("meta","content",m).get(c+(o.content||""))){for(B=0;B<k.length;B++)if(T=k[B],T.getAttribute("content")===(o.content==null?null:""+o.content)&&T.getAttribute("name")===(o.name==null?null:o.name)&&T.getAttribute("property")===(o.property==null?null:o.property)&&T.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&T.getAttribute("charset")===(o.charSet==null?null:o.charSet)){k.splice(B,1);break e}}T=m.createElement(c),Ws(T,c,o),m.head.appendChild(T);break;default:throw Error(i(468,c))}T[Yn]=n,Gn(T),c=T}n.stateNode=c}else N1(m,n.type,n.stateNode);else n.stateNode=D1(m,c,n.memoizedProps);else T!==c?(T===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):T.count--,c===null?N1(m,n.type,n.stateNode):D1(m,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Ym(n,n.memoizedProps,o.memoizedProps)}break;case 27:Ya(r,n),Ga(n),c&512&&(Yi||o===null||Rl(o,o.return)),o!==null&&c&4&&Ym(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Ya(r,n),Ga(n),c&512&&(Yi||o===null||Rl(o,o.return)),n.flags&32){m=n.stateNode;try{er(m,"")}catch(Et){Wn(n,n.return,Et)}}c&4&&n.stateNode!=null&&(m=n.memoizedProps,Ym(n,m,o!==null?o.memoizedProps:m)),c&1024&&(Wm=!0);break;case 6:if(Ya(r,n),Ga(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Et){Wn(n,n.return,Et)}}break;case 3:if(Gg=null,m=$o,$o=Hg(r.containerInfo),Ya(r,n),$o=m,Ga(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{xd(r.containerInfo)}catch(Et){Wn(n,n.return,Et)}Wm&&(Wm=!1,Bv(n));break;case 4:c=$o,$o=Hg(n.stateNode.containerInfo),Ya(r,n),Ga(n),$o=c;break;case 12:Ya(r,n),Ga(n);break;case 13:Ya(r,n),Ga(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($m=Qt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,qm(n,c)));break;case 22:m=n.memoizedState!==null;var $=o!==null&&o.memoizedState!==null,Tt=dc,Ot=Yi;if(dc=Tt||m,Yi=Ot||$,Ya(r,n),Yi=Ot,dc=Tt,Ga(n),c&8192)t:for(r=n.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||$||dc||Yi||ih(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){$=o=r;try{if(T=$.stateNode,m)k=T.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{B=$.stateNode;var Ft=$.memoizedProps.style,wt=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null;B.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(Et){Wn($,$.return,Et)}}}else if(r.tag===6){if(o===null){$=r;try{$.stateNode.nodeValue=m?"":$.memoizedProps}catch(Et){Wn($,$.return,Et)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,qm(n,o))));break;case 19:Ya(r,n),Ga(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,qm(n,c)));break;case 30:break;case 21:break;default:Ya(r,n),Ga(n)}}function Ga(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(Dv(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,T=Gm(n);Mg(n,T,m);break;case 5:var k=o.stateNode;o.flags&32&&(er(k,""),o.flags&=-33);var B=Gm(n);Mg(n,B,k);break;case 3:case 4:var $=o.stateNode.containerInfo,Tt=Gm(n);Xm(n,Tt,$);break;default:throw Error(i(161))}}catch(Ot){Wn(n,n.return,Ot)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Bv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Bv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function $c(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Pv(n,r.alternate,r),r=r.sibling}function ih(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:jc(4,r,r.return),ih(r);break;case 1:Rl(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Iv(r,r.return,o),ih(r);break;case 27:vd(r.stateNode);case 26:case 5:Rl(r,r.return),ih(r);break;case 22:r.memoizedState===null&&ih(r);break;case 30:ih(r);break;default:ih(r)}n=n.sibling}}function tu(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=n,T=r,k=T.flags;switch(T.tag){case 0:case 11:case 15:tu(m,T,o),cd(4,T);break;case 1:if(tu(m,T,o),c=T,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Tt){Wn(c,c.return,Tt)}if(c=T,m=c.updateQueue,m!==null){var B=c.stateNode;try{var $=m.shared.hiddenCallbacks;if($!==null)for(m.shared.hiddenCallbacks=null,m=0;m<$.length;m++)Ee($[m],B)}catch(Tt){Wn(c,c.return,Tt)}}o&&k&64&&Mv(T),ud(T,T.return);break;case 27:Ov(T);case 26:case 5:tu(m,T,o),o&&c===null&&k&4&&kv(T),ud(T,T.return);break;case 12:tu(m,T,o);break;case 13:tu(m,T,o),o&&k&4&&Fv(m,T);break;case 22:T.memoizedState===null&&tu(m,T,o),ud(T,T.return);break;case 30:break;default:tu(m,T,o)}r=r.sibling}}function Qm(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Oa(o))}function Zm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Oa(n))}function Ml(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zv(n,r,o,c),r=r.sibling}function zv(n,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Ml(n,r,o,c),m&2048&&cd(9,r);break;case 1:Ml(n,r,o,c);break;case 3:Ml(n,r,o,c),m&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Oa(n)));break;case 12:if(m&2048){Ml(n,r,o,c),n=r.stateNode;try{var T=r.memoizedProps,k=T.id,B=T.onPostCommit;typeof B=="function"&&B(k,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch($){Wn(r,r.return,$)}}else Ml(n,r,o,c);break;case 13:Ml(n,r,o,c);break;case 23:break;case 22:T=r.stateNode,k=r.alternate,r.memoizedState!==null?T._visibility&2?Ml(n,r,o,c):hd(n,r):T._visibility&2?Ml(n,r,o,c):(T._visibility|=2,Hh(n,r,o,c,(r.subtreeFlags&10256)!==0)),m&2048&&Qm(k,r);break;case 24:Ml(n,r,o,c),m&2048&&Zm(r.alternate,r);break;default:Ml(n,r,o,c)}}function Hh(n,r,o,c,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var T=n,k=r,B=o,$=c,Tt=k.flags;switch(k.tag){case 0:case 11:case 15:Hh(T,k,B,$,m),cd(8,k);break;case 23:break;case 22:var Ot=k.stateNode;k.memoizedState!==null?Ot._visibility&2?Hh(T,k,B,$,m):hd(T,k):(Ot._visibility|=2,Hh(T,k,B,$,m)),m&&Tt&2048&&Qm(k.alternate,k);break;case 24:Hh(T,k,B,$,m),m&&Tt&2048&&Zm(k.alternate,k);break;default:Hh(T,k,B,$,m)}r=r.sibling}}function hd(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,m=c.flags;switch(c.tag){case 22:hd(o,c),m&2048&&Qm(c.alternate,c);break;case 24:hd(o,c),m&2048&&Zm(c.alternate,c);break;default:hd(o,c)}r=r.sibling}}var fd=8192;function Yh(n){if(n.subtreeFlags&fd)for(n=n.child;n!==null;)Hv(n),n=n.sibling}function Hv(n){switch(n.tag){case 26:Yh(n),n.flags&fd&&n.memoizedState!==null&&VS($o,n.memoizedState,n.memoizedProps);break;case 5:Yh(n);break;case 3:case 4:var r=$o;$o=Hg(n.stateNode.containerInfo),Yh(n),$o=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=fd,fd=16777216,Yh(n),fd=r):Yh(n));break;default:Yh(n)}}function Yv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function dd(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Rs=c,Xv(c,n)}Yv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gv(n),n=n.sibling}function Gv(n){switch(n.tag){case 0:case 11:case 15:dd(n),n.flags&2048&&jc(9,n,n.return);break;case 3:dd(n);break;case 12:dd(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Ig(n)):dd(n);break;default:dd(n)}}function Ig(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Rs=c,Xv(c,n)}Yv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:jc(8,r,r.return),Ig(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Ig(r));break;default:Ig(r)}n=n.sibling}}function Xv(n,r){for(;Rs!==null;){var o=Rs;switch(o.tag){case 0:case 11:case 15:jc(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Oa(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Rs=c;else t:for(o=n;Rs!==null;){c=Rs;var m=c.sibling,T=c.return;if(Vv(c),c===o){Rs=null;break t}if(m!==null){m.return=T,Rs=m;break t}Rs=T}}}var j2={getCacheForType:function(n){var r=mi(Vn),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},$2=typeof WeakMap=="function"?WeakMap:Map,In=0,$n=null,qe=null,sn=0,kn=0,Xa=null,eu=!1,Gh=!1,Km=!1,pc=0,Ni=0,nu=0,sh=0,Jm=0,mo=0,Xh=0,gd=null,ha=null,jm=!1,$m=0,kg=1/0,Dg=null,iu=null,Xs=0,su=null,Wh=null,qh=0,t_=0,e_=null,Wv=null,pd=0,n_=null;function Wa(){if((In&2)!==0&&sn!==0)return sn&-sn;if(Y.T!==null){var n=Na;return n!==0?n:c_()}return vi()}function qv(){mo===0&&(mo=(sn&536870912)===0||ze?ue():536870912);var n=En.current;return n!==null&&(n.flags|=32),mo}function qa(n,r,o){(n===$n&&(kn===2||kn===9)||n.cancelPendingCommit!==null)&&(Qh(n,0),ru(n,sn,mo,!1)),On(n,o),((In&2)===0||n!==$n)&&(n===$n&&((In&2)===0&&(sh|=o),Ni===4&&ru(n,sn,mo,!1)),Il(n))}function Qv(n,r,o){if((In&6)!==0)throw Error(i(327));var c=!o&&(r&124)===0&&(r&n.expiredLanes)===0||ne(n,r),m=c?nS(n,r):r_(n,r,!0),T=c;do{if(m===0){Gh&&!c&&ru(n,r,0,!1);break}else{if(o=n.current.alternate,T&&!tS(o)){m=r_(n,r,!1),T=!1;continue}if(m===2){if(T=r,n.errorRecoveryDisabledLanes&T)var k=0;else k=n.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){r=k;t:{var B=n;m=gd;var $=B.current.memoizedState.isDehydrated;if($&&(Qh(B,k).flags|=256),k=r_(B,k,!1),k!==2){if(Km&&!$){B.errorRecoveryDisabledLanes|=T,sh|=T,m=4;break t}T=ha,ha=m,T!==null&&(ha===null?ha=T:ha.push.apply(ha,T))}m=k}if(T=!1,m!==2)continue}}if(m===1){Qh(n,0),ru(n,r,0,!0);break}t:{switch(c=n,T=m,T){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ru(c,r,mo,!eu);break t;case 2:ha=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=$m+300-Qt(),10<m)){if(ru(c,r,mo,!eu),Yt(c,0,!0)!==0)break t;c.timeoutHandle=E1(Zv.bind(null,c,o,ha,Dg,jm,r,mo,sh,Xh,eu,T,2,-0,0),m);break t}Zv(c,o,ha,Dg,jm,r,mo,sh,Xh,eu,T,0,-0,0)}}break}while(!0);Il(n)}function Zv(n,r,o,c,m,T,k,B,$,Tt,Ot,Ft,wt,Et){if(n.timeoutHandle=-1,Ft=r.subtreeFlags,(Ft&8192||(Ft&16785408)===16785408)&&(bd={stylesheets:null,count:0,unsuspend:PS},Hv(r),Ft=LS(),Ft!==null)){n.cancelPendingCommit=Ft(n1.bind(null,n,r,T,o,c,m,k,B,$,Ot,1,wt,Et)),ru(n,T,k,!Tt);return}n1(n,r,T,o,c,m,k,B,$)}function tS(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],T=m.getSnapshot;m=m.value;try{if(!Ki(T(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ru(n,r,o,c){r&=~Jm,r&=~sh,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var m=r;0<m;){var T=31-Cn(m),k=1<<T;c[T]=-1,m&=~k}o!==0&&os(n,o,r)}function Og(){return(In&6)===0?(md(0),!1):!0}function i_(){if(qe!==null){if(kn===0)var n=qe.return;else n=qe,Ur=gs=null,Fu(n),Al=null,Ko=0,n=qe;for(;n!==null;)Rv(n.alternate,n),n=n.return;qe=null}}function Qh(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,yS(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),i_(),$n=n,qe=o=cr(n.current,null),sn=r,kn=0,Xa=null,eu=!1,Gh=ne(n,r),Km=!1,Xh=mo=Jm=sh=nu=Ni=0,ha=gd=null,jm=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var m=31-Cn(c),T=1<<m;r|=n[m],c&=~T}return pc=r,ds(),o}function Kv(n,r){_e=null,Y.H=ju,r===pr||r===oa?(r=R(),kn=3):r===Fa?(r=R(),kn=4):kn=r===gv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Xa=r,qe===null&&(Ni=1,jo(n,un(r,n.current)))}function Jv(){var n=Y.H;return Y.H=ju,n===null?ju:n}function jv(){var n=Y.A;return Y.A=j2,n}function s_(){Ni=4,eu||(sn&4194048)!==sn&&En.current!==null||(Gh=!0),(nu&134217727)===0&&(sh&134217727)===0||$n===null||ru($n,sn,mo,!1)}function r_(n,r,o){var c=In;In|=2;var m=Jv(),T=jv();($n!==n||sn!==r)&&(Dg=null,Qh(n,r)),r=!1;var k=Ni;t:do try{if(kn!==0&&qe!==null){var B=qe,$=Xa;switch(kn){case 8:i_(),k=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(r=!0);var Tt=kn;if(kn=0,Xa=null,Zh(n,B,$,Tt),o&&Gh){k=0;break t}break;default:Tt=kn,kn=0,Xa=null,Zh(n,B,$,Tt)}}eS(),k=Ni;break}catch(Ot){Kv(n,Ot)}while(!0);return r&&n.shellSuspendCounter++,Ur=gs=null,In=c,Y.H=m,Y.A=T,qe===null&&($n=null,sn=0,ds()),k}function eS(){for(;qe!==null;)$v(qe)}function nS(n,r){var o=In;In|=2;var c=Jv(),m=jv();$n!==n||sn!==r?(Dg=null,kg=Qt()+500,Qh(n,r)):Gh=ne(n,r);t:do try{if(kn!==0&&qe!==null){r=qe;var T=Xa;e:switch(kn){case 1:kn=0,Xa=null,Zh(n,r,T,1);break;case 2:case 9:if(vl(T)){kn=0,Xa=null,t1(r);break}r=function(){kn!==2&&kn!==9||$n!==n||(kn=7),Il(n)},T.then(r,r);break t;case 3:kn=7;break t;case 4:kn=5;break t;case 7:vl(T)?(kn=0,Xa=null,t1(r)):(kn=0,Xa=null,Zh(n,r,T,7));break;case 5:var k=null;switch(qe.tag){case 26:k=qe.memoizedState;case 5:case 27:var B=qe;if(!k||P1(k)){kn=0,Xa=null;var $=B.sibling;if($!==null)qe=$;else{var Tt=B.return;Tt!==null?(qe=Tt,Ng(Tt)):qe=null}break e}}kn=0,Xa=null,Zh(n,r,T,5);break;case 6:kn=0,Xa=null,Zh(n,r,T,6);break;case 8:i_(),Ni=6;break t;default:throw Error(i(462))}}iS();break}catch(Ot){Kv(n,Ot)}while(!0);return Ur=gs=null,Y.H=c,Y.A=m,In=o,qe!==null?0:($n=null,sn=0,ds(),Ni)}function iS(){for(;qe!==null&&!Mt();)$v(qe)}function $v(n){var r=Cv(n.alternate,n,pc);n.memoizedProps=n.pendingProps,r===null?Ng(n):qe=r}function t1(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=Tv(o,r,r.pendingProps,r.type,void 0,sn);break;case 11:r=Tv(o,r,r.pendingProps,r.type.render,r.ref,sn);break;case 5:Fu(r);default:Rv(o,r),r=qe=ic(r,pc),r=Cv(o,r,pc)}n.memoizedProps=n.pendingProps,r===null?Ng(n):qe=r}function Zh(n,r,o,c){Ur=gs=null,Fu(r),Al=null,Ko=0;var m=r.return;try{if(W2(n,m,r,o,sn)){Ni=1,jo(n,un(o,n.current)),qe=null;return}}catch(T){if(m!==null)throw qe=m,T;Ni=1,jo(n,un(o,n.current)),qe=null;return}r.flags&32768?(ze||c===1?n=!0:Gh||(sn&536870912)!==0?n=!1:(eu=n=!0,(c===2||c===9||c===3||c===6)&&(c=En.current,c!==null&&c.tag===13&&(c.flags|=16384))),e1(r,n)):Ng(r)}function Ng(n){var r=n;do{if((r.flags&32768)!==0){e1(r,eu);return}n=r.return;var o=Q2(r.alternate,r,pc);if(o!==null){qe=o;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=n}while(r!==null);Ni===0&&(Ni=5)}function e1(n,r){do{var o=Z2(n.alternate,n);if(o!==null){o.flags&=32767,qe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){qe=n;return}qe=n=o}while(n!==null);Ni=6,qe=null}function n1(n,r,o,c,m,T,k,B,$){n.cancelPendingCommit=null;do Pg();while(Xs!==0);if((In&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(T=r.lanes|r.childLanes,T|=Or,Ps(n,o,T,k,B,$),n===$n&&(qe=$n=null,sn=0),Wh=r,su=n,qh=o,t_=T,e_=m,Wv=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,oS(xe,function(){return o1(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,m=et.p,et.p=2,k=In,In|=4;try{K2(n,r,o)}finally{In=k,et.p=m,Y.T=c}}Xs=1,i1(),s1(),r1()}}function i1(){if(Xs===1){Xs=0;var n=su,r=Wh,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=et.p;et.p=2;var m=In;In|=4;try{Uv(r,n);var T=__,k=b(n.containerInfo),B=T.focusedElem,$=T.selectionRange;if(k!==B&&B&&B.ownerDocument&&_(B.ownerDocument.documentElement,B)){if($!==null&&x(B)){var Tt=$.start,Ot=$.end;if(Ot===void 0&&(Ot=Tt),"selectionStart"in B)B.selectionStart=Tt,B.selectionEnd=Math.min(Ot,B.value.length);else{var Ft=B.ownerDocument||document,wt=Ft&&Ft.defaultView||window;if(wt.getSelection){var Et=wt.getSelection(),Ce=B.textContent.length,ye=Math.min($.start,Ce),Un=$.end===void 0?ye:Math.min($.end,Ce);!Et.extend&&ye>Un&&(k=Un,Un=ye,ye=k);var ct=d(B,ye),ot=d(B,Un);if(ct&&ot&&(Et.rangeCount!==1||Et.anchorNode!==ct.node||Et.anchorOffset!==ct.offset||Et.focusNode!==ot.node||Et.focusOffset!==ot.offset)){var yt=Ft.createRange();yt.setStart(ct.node,ct.offset),Et.removeAllRanges(),ye>Un?(Et.addRange(yt),Et.extend(ot.node,ot.offset)):(yt.setEnd(ot.node,ot.offset),Et.addRange(yt))}}}}for(Ft=[],Et=B;Et=Et.parentNode;)Et.nodeType===1&&Ft.push({element:Et,left:Et.scrollLeft,top:Et.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Ft.length;B++){var Nt=Ft[B];Nt.element.scrollLeft=Nt.left,Nt.element.scrollTop=Nt.top}}qg=!!m_,__=m_=null}finally{In=m,et.p=c,Y.T=o}}n.current=r,Xs=2}}function s1(){if(Xs===2){Xs=0;var n=su,r=Wh,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=et.p;et.p=2;var m=In;In|=4;try{Pv(n,r.alternate,r)}finally{In=m,et.p=c,Y.T=o}}Xs=3}}function r1(){if(Xs===4||Xs===3){Xs=0,kt();var n=su,r=Wh,o=qh,c=Wv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Xs=5:(Xs=0,Wh=su=null,a1(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(iu=null),ui(o),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Re,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Y.T,m=et.p,et.p=2,Y.T=null;try{for(var T=n.onRecoverableError,k=0;k<c.length;k++){var B=c[k];T(B.value,{componentStack:B.stack})}}finally{Y.T=r,et.p=m}}(qh&3)!==0&&Pg(),Il(n),m=n.pendingLanes,(o&4194090)!==0&&(m&42)!==0?n===n_?pd++:(pd=0,n_=n):pd=0,md(0)}}function a1(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Oa(r)))}function Pg(n){return i1(),s1(),r1(),o1()}function o1(){if(Xs!==5)return!1;var n=su,r=t_;t_=0;var o=ui(qh),c=Y.T,m=et.p;try{et.p=32>o?32:o,Y.T=null,o=e_,e_=null;var T=su,k=qh;if(Xs=0,Wh=su=null,qh=0,(In&6)!==0)throw Error(i(331));var B=In;if(In|=4,Gv(T.current),zv(T,T.current,k,o),In=B,md(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Re,T)}catch{}return!0}finally{et.p=m,Y.T=c,a1(n,r)}}function l1(n,r,o){r=un(o,r),r=zh(n.stateNode,r,2),n=ut(n,r,2),n!==null&&(On(n,2),Il(n))}function Wn(n,r,o){if(n.tag===3)l1(n,n,o);else for(;r!==null;){if(r.tag===3){l1(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(iu===null||!iu.has(c))){n=un(o,n),o=fv(2),c=ut(r,o,2),c!==null&&(dv(o,c,r,n),On(c,2),Il(c));break}}r=r.return}}function a_(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new $2;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Km=!0,m.add(o),n=sS.bind(null,n,r,o),r.then(n,n))}function sS(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,$n===n&&(sn&o)===o&&(Ni===4||Ni===3&&(sn&62914560)===sn&&300>Qt()-$m?(In&2)===0&&Qh(n,0):Jm|=o,Xh===sn&&(Xh=0)),Il(n)}function c1(n,r){r===0&&(r=Fe()),n=ri(n,r),n!==null&&(On(n,r),Il(n))}function rS(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),c1(n,o)}function aS(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),c1(n,o)}function oS(n,r){return rs(n,r)}var Vg=null,Kh=null,o_=!1,Lg=!1,l_=!1,rh=0;function Il(n){n!==Kh&&n.next===null&&(Kh===null?Vg=Kh=n:Kh=Kh.next=n),Lg=!0,o_||(o_=!0,cS())}function md(n,r){if(!l_&&Lg){l_=!0;do for(var o=!1,c=Vg;c!==null;){if(n!==0){var m=c.pendingLanes;if(m===0)var T=0;else{var k=c.suspendedLanes,B=c.pingedLanes;T=(1<<31-Cn(42|n)+1)-1,T&=m&~(k&~B),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(o=!0,d1(c,T))}else T=sn,T=Yt(c,c===$n?T:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(T&3)===0||ne(c,T)||(o=!0,d1(c,T));c=c.next}while(o);l_=!1}}function lS(){u1()}function u1(){Lg=o_=!1;var n=0;rh!==0&&(_S()&&(n=rh),rh=0);for(var r=Qt(),o=null,c=Vg;c!==null;){var m=c.next,T=h1(c,r);T===0?(c.next=null,o===null?Vg=m:o.next=m,m===null&&(Kh=o)):(o=c,(n!==0||(T&3)!==0)&&(Lg=!0)),c=m}md(n)}function h1(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,T=n.pendingLanes&-62914561;0<T;){var k=31-Cn(T),B=1<<k,$=m[k];$===-1?((B&o)===0||(B&c)!==0)&&(m[k]=qt(B,r)):$<=r&&(n.expiredLanes|=B),T&=~B}if(r=$n,o=sn,o=Yt(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(kn===2||kn===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Wi(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ne(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&Wi(c),ui(o)){case 2:case 8:o=Jt;break;case 32:o=xe;break;case 268435456:o=He;break;default:o=xe}return c=f1.bind(null,n),o=rs(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&Wi(c),n.callbackPriority=2,n.callbackNode=null,2}function f1(n,r){if(Xs!==0&&Xs!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Pg()&&n.callbackNode!==o)return null;var c=sn;return c=Yt(n,n===$n?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Qv(n,c,r),h1(n,Qt()),n.callbackNode!=null&&n.callbackNode===o?f1.bind(null,n):null)}function d1(n,r){if(Pg())return null;Qv(n,r,!0)}function cS(){vS(function(){(In&6)!==0?rs(Zt,lS):u1()})}function c_(){return rh===0&&(rh=ue()),rh}function g1(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ta(""+n)}function p1(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function uS(n,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var T=g1((m[Be]||null).action),k=c.submitter;k&&(r=(r=k[Be]||null)?g1(r.formAction):k.getAttribute("formAction"),r!==null&&(T=r,k=null));var B=new Ir("action","action",null,c,m);n.push({event:B,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(rh!==0){var $=k?p1(m,k):new FormData(m);Nh(o,{pending:!0,data:$,method:m.method,action:T},null,$)}}else typeof T=="function"&&(B.preventDefault(),$=k?p1(m,k):new FormData(m),Nh(o,{pending:!0,data:$,method:m.method,action:T},T,$))},currentTarget:m}]})}}for(var u_=0;u_<di.length;u_++){var h_=di[u_],hS=h_.toLowerCase(),fS=h_[0].toUpperCase()+h_.slice(1);bn(hS,"on"+fS)}bn(we,"onAnimationEnd"),bn(fn,"onAnimationIteration"),bn(dn,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(gn,"onTransitionRun"),bn(Pn,"onTransitionStart"),bn(he,"onTransitionCancel"),bn(Zn,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_d));function m1(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],m=c.event;c=c.listeners;t:{var T=void 0;if(r)for(var k=c.length-1;0<=k;k--){var B=c[k],$=B.instance,Tt=B.currentTarget;if(B=B.listener,$!==T&&m.isPropagationStopped())break t;T=B,m.currentTarget=Tt;try{T(m)}catch(Ot){Jc(Ot)}m.currentTarget=null,T=$}else for(k=0;k<c.length;k++){if(B=c[k],$=B.instance,Tt=B.currentTarget,B=B.listener,$!==T&&m.isPropagationStopped())break t;T=B,m.currentTarget=Tt;try{T(m)}catch(Ot){Jc(Ot)}m.currentTarget=null,T=$}}}}function Qe(n,r){var o=r[So];o===void 0&&(o=r[So]=new Set);var c=n+"__bubble";o.has(c)||(_1(r,n,2,!1),o.add(c))}function f_(n,r,o){var c=0;r&&(c|=4),_1(o,n,c,r)}var Fg="_reactListening"+Math.random().toString(36).slice(2);function d_(n){if(!n[Fg]){n[Fg]=!0,Ql.forEach(function(o){o!=="selectionchange"&&(dS.has(o)||f_(o,!1,n),f_(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Fg]||(r[Fg]=!0,f_("selectionchange",!1,r))}}function _1(n,r,o,c){switch(z1(r)){case 2:var m=BS;break;case 8:m=zS;break;default:m=x_}o=m.bind(null,r,o,n),m=void 0,!hs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?n.addEventListener(r,o,{capture:!0,passive:m}):n.addEventListener(r,o,!0):m!==void 0?n.addEventListener(r,o,{passive:m}):n.addEventListener(r,o,!1)}function g_(n,r,o,c,m){var T=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var k=c.tag;if(k===3||k===4){var B=c.stateNode.containerInfo;if(B===m)break;if(k===4)for(k=c.return;k!==null;){var $=k.tag;if(($===3||$===4)&&k.stateNode.containerInfo===m)return;k=k.return}for(;B!==null;){if(k=Nn(B),k===null)return;if($=k.tag,$===5||$===6||$===26||$===27){c=T=k;continue t}B=B.parentNode}}c=c.return}Io(function(){var Tt=T,Ot=nr(o),Ft=[];t:{var wt=Pe.get(n);if(wt!==void 0){var Et=Ir,Ce=n;switch(n){case"keypress":if(Fi(o)===0)break t;case"keydown":case"keyup":Et=gl;break;case"focusin":Ce="focus",Et=Jr;break;case"focusout":Ce="blur",Et=Jr;break;case"beforeblur":case"afterblur":Et=Jr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Et=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Et=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Et=no;break;case we:case fn:case dn:Et=ba;break;case Zn:Et=$r;break;case"scroll":case"scrollend":Et=Jl;break;case"wheel":Et=Ei;break;case"copy":case"cut":case"paste":Et=eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Et=Aa;break;case"toggle":case"beforetoggle":Et=io}var ye=(r&4)!==0,Un=!ye&&(n==="scroll"||n==="scrollend"),ct=ye?wt!==null?wt+"Capture":null:wt;ye=[];for(var ot=Tt,yt;ot!==null;){var Nt=ot;if(yt=Nt.stateNode,Nt=Nt.tag,Nt!==5&&Nt!==26&&Nt!==27||yt===null||ct===null||(Nt=Ze(ot,ct),Nt!=null&&ye.push(yd(ot,Nt,yt))),Un)break;ot=ot.return}0<ye.length&&(wt=new Et(wt,Ce,null,o,Ot),Ft.push({event:wt,listeners:ye}))}}if((r&7)===0){t:{if(wt=n==="mouseover"||n==="pointerover",Et=n==="mouseout"||n==="pointerout",wt&&o!==wa&&(Ce=o.relatedTarget||o.fromElement)&&(Nn(Ce)||Ce[Vs]))break t;if((Et||wt)&&(wt=Ot.window===Ot?Ot:(wt=Ot.ownerDocument)?wt.defaultView||wt.parentWindow:window,Et?(Ce=o.relatedTarget||o.toElement,Et=Tt,Ce=Ce?Nn(Ce):null,Ce!==null&&(Un=l(Ce),ye=Ce.tag,Ce!==Un||ye!==5&&ye!==27&&ye!==6)&&(Ce=null)):(Et=null,Ce=Tt),Et!==Ce)){if(ye=ar,Nt="onMouseLeave",ct="onMouseEnter",ot="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Aa,Nt="onPointerLeave",ct="onPointerEnter",ot="pointer"),Un=Et==null?wt:qn(Et),yt=Ce==null?wt:qn(Ce),wt=new ye(Nt,ot+"leave",Et,o,Ot),wt.target=Un,wt.relatedTarget=yt,Nt=null,Nn(Ot)===Tt&&(ye=new ye(ct,ot+"enter",Ce,o,Ot),ye.target=yt,ye.relatedTarget=Un,Nt=ye),Un=Nt,Et&&Ce)e:{for(ye=Et,ct=Ce,ot=0,yt=ye;yt;yt=Jh(yt))ot++;for(yt=0,Nt=ct;Nt;Nt=Jh(Nt))yt++;for(;0<ot-yt;)ye=Jh(ye),ot--;for(;0<yt-ot;)ct=Jh(ct),yt--;for(;ot--;){if(ye===ct||ct!==null&&ye===ct.alternate)break e;ye=Jh(ye),ct=Jh(ct)}ye=null}else ye=null;Et!==null&&y1(Ft,wt,Et,ye,!1),Ce!==null&&Un!==null&&y1(Ft,Un,Ce,ye,!0)}}t:{if(wt=Tt?qn(Tt):window,Et=wt.nodeName&&wt.nodeName.toLowerCase(),Et==="select"||Et==="input"&&wt.type==="file")var re=Ou;else if(si(wt))if(Fc)re=Lo;else{re=Nu;var Xe=Uc}else Et=wt.nodeName,!Et||Et.toLowerCase()!=="input"||wt.type!=="checkbox"&&wt.type!=="radio"?Tt&&va(Tt.elementType)&&(re=Ou):re=nc;if(re&&(re=re(n,Tt))){Dr(Ft,re,o,Ot);break t}Xe&&Xe(n,wt,Tt),n==="focusout"&&Tt&&wt.type==="number"&&Tt.memoizedProps.value!=null&&tr(wt,"number",wt.value)}switch(Xe=Tt?qn(Tt):window,n){case"focusin":(si(Xe)||Xe.contentEditable==="true")&&(q=Xe,nt=Tt,Rt=null);break;case"focusout":Rt=nt=q=null;break;case"mousedown":gt=!0;break;case"contextmenu":case"mouseup":case"dragend":gt=!1,At(Ft,o,Ot);break;case"selectionchange":if(O)break;case"keydown":case"keyup":At(Ft,o,Ot)}var pe;if(lr)t:{switch(n){case"compositionstart":var ve="onCompositionStart";break t;case"compositionend":ve="onCompositionEnd";break t;case"compositionupdate":ve="onCompositionUpdate";break t}ve=void 0}else Ne?St(n,o)&&(ve="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(M&&o.locale!=="ko"&&(Ne||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ne&&(pe=Zr()):(bs=Ot,sr="value"in bs?bs.value:bs.textContent,Ne=!0)),Xe=Ug(Tt,ve),0<Xe.length&&(ve=new jr(ve,n,null,o,Ot),Ft.push({event:ve,listeners:Xe}),pe?ve.data=pe:(pe=Xt(o),pe!==null&&(ve.data=pe)))),(pe=S?tn(n,o):Ge(n,o))&&(ve=Ug(Tt,"onBeforeInput"),0<ve.length&&(Xe=new jr("onBeforeInput","beforeinput",null,o,Ot),Ft.push({event:Xe,listeners:ve}),Xe.data=pe)),uS(Ft,n,Tt,o,Ot)}m1(Ft,r)})}function yd(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Ug(n,r){for(var o=r+"Capture",c=[];n!==null;){var m=n,T=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||T===null||(m=Ze(n,o),m!=null&&c.unshift(yd(n,m,T)),m=Ze(n,r),m!=null&&c.push(yd(n,m,T))),n.tag===3)return c;n=n.return}return[]}function Jh(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function y1(n,r,o,c,m){for(var T=r._reactName,k=[];o!==null&&o!==c;){var B=o,$=B.alternate,Tt=B.stateNode;if(B=B.tag,$!==null&&$===c)break;B!==5&&B!==26&&B!==27||Tt===null||($=Tt,m?(Tt=Ze(o,T),Tt!=null&&k.unshift(yd(o,Tt,$))):m||(Tt=Ze(o,T),Tt!=null&&k.push(yd(o,Tt,$)))),o=o.return}k.length!==0&&n.push({event:r,listeners:k})}var gS=/\r\n?/g,pS=/\u0000|\uFFFD/g;function v1(n){return(typeof n=="string"?n:""+n).replace(gS,`
`).replace(pS,"")}function T1(n,r){return r=v1(r),v1(n)===r}function Bg(){}function Fn(n,r,o,c,m,T){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||er(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&er(n,""+c);break;case"className":cs(n,"class",c);break;case"tabIndex":cs(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(n,o,c);break;case"style":xr(n,c,T);break;case"data":if(r!=="object"){cs(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Ta(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(o==="formAction"?(r!=="input"&&Fn(n,r,"name",m.name,m,null),Fn(n,r,"formEncType",m.formEncType,m,null),Fn(n,r,"formMethod",m.formMethod,m,null),Fn(n,r,"formTarget",m.formTarget,m,null)):(Fn(n,r,"encType",m.encType,m,null),Fn(n,r,"method",m.method,m,null),Fn(n,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Ta(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Bg);break;case"onScroll":c!=null&&Qe("scroll",n);break;case"onScrollEnd":c!=null&&Qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Ta(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Qe("beforetoggle",n),Qe("toggle",n),Cr(n,"popover",c);break;case"xlinkActuate":ni(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ni(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ni(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ni(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ni(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ni(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ni(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ni(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ni(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Cr(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Du.get(o)||o,Cr(n,o,c))}}function p_(n,r,o,c,m,T){switch(o){case"style":xr(n,c,T);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof c=="string"?er(n,c):(typeof c=="number"||typeof c=="bigint")&&er(n,""+c);break;case"onScroll":c!=null&&Qe("scroll",n);break;case"onScrollEnd":c!=null&&Qe("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Bg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),T=n[Be]||null,T=T!=null?T[o]:null,typeof T=="function"&&n.removeEventListener(r,T,m),typeof c=="function")){typeof T!="function"&&T!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,m);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Cr(n,o,c)}}}function Ws(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",n),Qe("load",n);var c=!1,m=!1,T;for(T in o)if(o.hasOwnProperty(T)){var k=o[T];if(k!=null)switch(T){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Fn(n,r,T,k,o,null)}}m&&Fn(n,r,"srcSet",o.srcSet,o,null),c&&Fn(n,r,"src",o.src,o,null);return;case"input":Qe("invalid",n);var B=T=k=m=null,$=null,Tt=null;for(c in o)if(o.hasOwnProperty(c)){var Ot=o[c];if(Ot!=null)switch(c){case"name":m=Ot;break;case"type":k=Ot;break;case"checked":$=Ot;break;case"defaultChecked":Tt=Ot;break;case"value":T=Ot;break;case"defaultValue":B=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,r));break;default:Fn(n,r,c,Ot,o,null)}}ws(n,T,B,$,Tt,k,m,!1),Ls(n);return;case"select":Qe("invalid",n),c=k=T=null;for(m in o)if(o.hasOwnProperty(m)&&(B=o[m],B!=null))switch(m){case"value":T=B;break;case"defaultValue":k=B;break;case"multiple":c=B;default:Fn(n,r,m,B,o,null)}r=T,o=k,n.multiple=!!c,r!=null?ya(n,!!c,r,!1):o!=null&&ya(n,!!c,o,!0);return;case"textarea":Qe("invalid",n),T=m=c=null;for(k in o)if(o.hasOwnProperty(k)&&(B=o[k],B!=null))switch(k){case"value":c=B;break;case"defaultValue":m=B;break;case"children":T=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:Fn(n,r,k,B,o,null)}Qr(n,c,m,T),Ls(n);return;case"option":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Fn(n,r,$,c,o,null)}return;case"dialog":Qe("beforetoggle",n),Qe("toggle",n),Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":Qe("load",n);break;case"video":case"audio":for(c=0;c<_d.length;c++)Qe(_d[c],n);break;case"image":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"embed":case"source":case"link":Qe("error",n),Qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Tt in o)if(o.hasOwnProperty(Tt)&&(c=o[Tt],c!=null))switch(Tt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Fn(n,r,Tt,c,o,null)}return;default:if(va(r)){for(Ot in o)o.hasOwnProperty(Ot)&&(c=o[Ot],c!==void 0&&p_(n,r,Ot,c,o,void 0));return}}for(B in o)o.hasOwnProperty(B)&&(c=o[B],c!=null&&Fn(n,r,B,c,o,null))}function mS(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,T=null,k=null,B=null,$=null,Tt=null,Ot=null;for(Et in o){var Ft=o[Et];if(o.hasOwnProperty(Et)&&Ft!=null)switch(Et){case"checked":break;case"value":break;case"defaultValue":$=Ft;default:c.hasOwnProperty(Et)||Fn(n,r,Et,null,c,Ft)}}for(var wt in c){var Et=c[wt];if(Ft=o[wt],c.hasOwnProperty(wt)&&(Et!=null||Ft!=null))switch(wt){case"type":T=Et;break;case"name":m=Et;break;case"checked":Tt=Et;break;case"defaultChecked":Ot=Et;break;case"value":k=Et;break;case"defaultValue":B=Et;break;case"children":case"dangerouslySetInnerHTML":if(Et!=null)throw Error(i(137,r));break;default:Et!==Ft&&Fn(n,r,wt,Et,c,Ft)}}Ts(n,k,B,$,Tt,Ot,T,m);return;case"select":Et=k=B=wt=null;for(T in o)if($=o[T],o.hasOwnProperty(T)&&$!=null)switch(T){case"value":break;case"multiple":Et=$;default:c.hasOwnProperty(T)||Fn(n,r,T,null,c,$)}for(m in c)if(T=c[m],$=o[m],c.hasOwnProperty(m)&&(T!=null||$!=null))switch(m){case"value":wt=T;break;case"defaultValue":B=T;break;case"multiple":k=T;default:T!==$&&Fn(n,r,m,T,c,$)}r=B,o=k,c=Et,wt!=null?ya(n,!!o,wt,!1):!!c!=!!o&&(r!=null?ya(n,!!o,r,!0):ya(n,!!o,o?[]:"",!1));return;case"textarea":Et=wt=null;for(B in o)if(m=o[B],o.hasOwnProperty(B)&&m!=null&&!c.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Fn(n,r,B,null,c,m)}for(k in c)if(m=c[k],T=o[k],c.hasOwnProperty(k)&&(m!=null||T!=null))switch(k){case"value":wt=m;break;case"defaultValue":Et=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==T&&Fn(n,r,k,m,c,T)}nn(n,wt,Et);return;case"option":for(var Ce in o)if(wt=o[Ce],o.hasOwnProperty(Ce)&&wt!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":n.selected=!1;break;default:Fn(n,r,Ce,null,c,wt)}for($ in c)if(wt=c[$],Et=o[$],c.hasOwnProperty($)&&wt!==Et&&(wt!=null||Et!=null))switch($){case"selected":n.selected=wt&&typeof wt!="function"&&typeof wt!="symbol";break;default:Fn(n,r,$,wt,c,Et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in o)wt=o[ye],o.hasOwnProperty(ye)&&wt!=null&&!c.hasOwnProperty(ye)&&Fn(n,r,ye,null,c,wt);for(Tt in c)if(wt=c[Tt],Et=o[Tt],c.hasOwnProperty(Tt)&&wt!==Et&&(wt!=null||Et!=null))switch(Tt){case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(i(137,r));break;default:Fn(n,r,Tt,wt,c,Et)}return;default:if(va(r)){for(var Un in o)wt=o[Un],o.hasOwnProperty(Un)&&wt!==void 0&&!c.hasOwnProperty(Un)&&p_(n,r,Un,void 0,c,wt);for(Ot in c)wt=c[Ot],Et=o[Ot],!c.hasOwnProperty(Ot)||wt===Et||wt===void 0&&Et===void 0||p_(n,r,Ot,wt,c,Et);return}}for(var ct in o)wt=o[ct],o.hasOwnProperty(ct)&&wt!=null&&!c.hasOwnProperty(ct)&&Fn(n,r,ct,null,c,wt);for(Ft in c)wt=c[Ft],Et=o[Ft],!c.hasOwnProperty(Ft)||wt===Et||wt==null&&Et==null||Fn(n,r,Ft,wt,c,Et)}var m_=null,__=null;function zg(n){return n.nodeType===9?n:n.ownerDocument}function w1(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b1(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function y_(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var v_=null;function _S(){var n=window.event;return n&&n.type==="popstate"?n===v_?!1:(v_=n,!0):(v_=null,!1)}var E1=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,S1=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof S1<"u"?function(n){return S1.resolve(null).then(n).catch(TS)}:E1;function TS(n){setTimeout(function(){throw n})}function au(n){return n==="head"}function A1(n,r){var o=r,c=0,m=0;do{var T=o.nextSibling;if(n.removeChild(o),T&&T.nodeType===8)if(o=T.data,o==="/$"){if(0<c&&8>c){o=c;var k=n.ownerDocument;if(o&1&&vd(k.documentElement),o&2&&vd(k.body),o&4)for(o=k.head,vd(o),k=o.firstChild;k;){var B=k.nextSibling,$=k.nodeName;k[Ja]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&k.rel.toLowerCase()==="stylesheet"||o.removeChild(k),k=B}}if(m===0){n.removeChild(T),xd(r);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=T}while(o);xd(r)}function T_(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":T_(o),Ue(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function wS(n,r,o,c){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Ja])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(T=n.getAttribute("rel"),T==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(T!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(T=n.getAttribute("src"),(T!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&T&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var T=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===T)return n}else return n;if(n=tl(n.nextSibling),n===null)break}return null}function bS(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=tl(n.nextSibling),n===null))return null;return n}function w_(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ES(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function tl(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var b_=null;function C1(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function x1(n,r,o){switch(r=zg(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function vd(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Ue(n)}var _o=new Map,R1=new Set;function Hg(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var mc=et.d;et.d={f:SS,r:AS,D:CS,C:xS,L:RS,m:MS,X:kS,S:IS,M:DS};function SS(){var n=mc.f(),r=Og();return n||r}function AS(n){var r=ys(n);r!==null&&r.tag===5&&r.type==="form"?Ph(r):mc.r(n)}var jh=typeof document>"u"?null:document;function M1(n,r,o){var c=jh;if(c&&typeof r=="string"&&r){var m=ii(r);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),R1.has(m)||(R1.add(m),n={rel:n,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),Ws(r,"link",n),Gn(r),c.head.appendChild(r)))}}function CS(n){mc.D(n),M1("dns-prefetch",n,null)}function xS(n,r){mc.C(n,r),M1("preconnect",n,r)}function RS(n,r,o){mc.L(n,r,o);var c=jh;if(c&&n&&r){var m='link[rel="preload"][as="'+ii(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+ii(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+ii(o.imageSizes)+'"]')):m+='[href="'+ii(n)+'"]';var T=m;switch(r){case"style":T=$h(n);break;case"script":T=tf(n)}_o.has(T)||(n=E({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),_o.set(T,n),c.querySelector(m)!==null||r==="style"&&c.querySelector(Td(T))||r==="script"&&c.querySelector(wd(T))||(r=c.createElement("link"),Ws(r,"link",n),Gn(r),c.head.appendChild(r)))}}function MS(n,r){mc.m(n,r);var o=jh;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+ii(c)+'"][href="'+ii(n)+'"]',T=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=tf(n)}if(!_o.has(T)&&(n=E({rel:"modulepreload",href:n},r),_o.set(T,n),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wd(T)))return}c=o.createElement("link"),Ws(c,"link",n),Gn(c),o.head.appendChild(c)}}}function IS(n,r,o){mc.S(n,r,o);var c=jh;if(c&&n){var m=Qi(c).hoistableStyles,T=$h(n);r=r||"default";var k=m.get(T);if(!k){var B={loading:0,preload:null};if(k=c.querySelector(Td(T)))B.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},o),(o=_o.get(T))&&E_(n,o);var $=k=c.createElement("link");Gn($),Ws($,"link",n),$._p=new Promise(function(Tt,Ot){$.onload=Tt,$.onerror=Ot}),$.addEventListener("load",function(){B.loading|=1}),$.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Yg(k,r,c)}k={type:"stylesheet",instance:k,count:1,state:B},m.set(T,k)}}}function kS(n,r){mc.X(n,r);var o=jh;if(o&&n){var c=Qi(o).hoistableScripts,m=tf(n),T=c.get(m);T||(T=o.querySelector(wd(m)),T||(n=E({src:n,async:!0},r),(r=_o.get(m))&&S_(n,r),T=o.createElement("script"),Gn(T),Ws(T,"link",n),o.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},c.set(m,T))}}function DS(n,r){mc.M(n,r);var o=jh;if(o&&n){var c=Qi(o).hoistableScripts,m=tf(n),T=c.get(m);T||(T=o.querySelector(wd(m)),T||(n=E({src:n,async:!0,type:"module"},r),(r=_o.get(m))&&S_(n,r),T=o.createElement("script"),Gn(T),Ws(T,"link",n),o.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},c.set(m,T))}}function I1(n,r,o,c){var m=(m=Vt.current)?Hg(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=$h(o.href),o=Qi(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=$h(o.href);var T=Qi(m).hoistableStyles,k=T.get(n);if(k||(m=m.ownerDocument||m,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(n,k),(T=m.querySelector(Td(n)))&&!T._p&&(k.instance=T,k.state.loading=5),_o.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_o.set(n,o),T||OS(m,n,o,k.state))),r&&c===null)throw Error(i(528,""));return k}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=tf(o),o=Qi(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function $h(n){return'href="'+ii(n)+'"'}function Td(n){return'link[rel="stylesheet"]['+n+"]"}function k1(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function OS(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Ws(r,"link",o),Gn(r),n.head.appendChild(r))}function tf(n){return'[src="'+ii(n)+'"]'}function wd(n){return"script[async]"+n}function D1(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+ii(o.href)+'"]');if(c)return r.instance=c,Gn(c),c;var m=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Gn(c),Ws(c,"style",m),Yg(c,o.precedence,n),r.instance=c;case"stylesheet":m=$h(o.href);var T=n.querySelector(Td(m));if(T)return r.state.loading|=4,r.instance=T,Gn(T),T;c=k1(o),(m=_o.get(m))&&E_(c,m),T=(n.ownerDocument||n).createElement("link"),Gn(T);var k=T;return k._p=new Promise(function(B,$){k.onload=B,k.onerror=$}),Ws(T,"link",c),r.state.loading|=4,Yg(T,o.precedence,n),r.instance=T;case"script":return T=tf(o.src),(m=n.querySelector(wd(T)))?(r.instance=m,Gn(m),m):(c=o,(m=_o.get(T))&&(c=E({},o),S_(c,m)),n=n.ownerDocument||n,m=n.createElement("script"),Gn(m),Ws(m,"link",c),n.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Yg(c,o.precedence,n));return r.instance}function Yg(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,T=m,k=0;k<c.length;k++){var B=c[k];if(B.dataset.precedence===r)T=B;else if(T!==m)break}T?T.parentNode.insertBefore(n,T.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function E_(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function S_(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Gg=null;function O1(n,r,o){if(Gg===null){var c=new Map,m=Gg=new Map;m.set(o,c)}else m=Gg,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var T=o[m];if(!(T[Ja]||T[Yn]||n==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var k=T.getAttribute(r)||"";k=n+k;var B=c.get(k);B?B.push(T):c.set(k,[T])}}return c}function N1(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function NS(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function P1(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var bd=null;function PS(){}function VS(n,r,o){if(bd===null)throw Error(i(475));var c=bd;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=$h(o.href),T=n.querySelector(Td(m));if(T){n=T._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Xg.bind(c),n.then(c,c)),r.state.loading|=4,r.instance=T,Gn(T);return}T=n.ownerDocument||n,o=k1(o),(m=_o.get(m))&&E_(o,m),T=T.createElement("link"),Gn(T);var k=T;k._p=new Promise(function(B,$){k.onload=B,k.onerror=$}),Ws(T,"link",o),r.instance=T}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Xg.bind(c),n.addEventListener("load",r),n.addEventListener("error",r))}}function LS(){if(bd===null)throw Error(i(475));var n=bd;return n.stylesheets&&n.count===0&&A_(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&A_(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Xg(){if(this.count--,this.count===0){if(this.stylesheets)A_(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wg=null;function A_(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wg=new Map,r.forEach(FS,n),Wg=null,Xg.call(n))}function FS(n,r){if(!(r.state.loading&4)){var o=Wg.get(n);if(o)var c=o.get(null);else{o=new Map,Wg.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<m.length;T++){var k=m[T];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(o.set(k.dataset.precedence,k),c=k)}c&&o.set(null,c)}m=r.instance,k=m.getAttribute("data-precedence"),T=o.get(k)||c,T===c&&o.set(null,m),o.set(k,m),this.count++,c=Xg.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),T?T.parentNode.insertBefore(m,T.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),r.state.loading|=4}}var Ed={$$typeof:st,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function US(n,r,o,c,m,T,k,B){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=T,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function V1(n,r,o,c,m,T,k,B,$,Tt,Ot,Ft){return n=new US(n,r,o,k,B,$,Tt,Ft),r=1,T===!0&&(r|=24),T=pi(3,null,null,r),n.current=T,T.stateNode=n,r=uo(),r.refCount++,n.pooledCache=r,r.refCount++,T.memoizedState={element:c,isDehydrated:o,cache:r},tt(T),n}function L1(n){return n?(n=Nr,n):Nr}function F1(n,r,o,c,m,T){m=L1(m),c.context===null?c.context=m:c.pendingContext=m,c=it(r),c.payload={element:o},T=T===void 0?null:T,T!==null&&(c.callback=T),o=ut(n,c,r),o!==null&&(qa(o,n,r),zt(o,n,r))}function U1(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function C_(n,r){U1(n,r),(n=n.alternate)&&U1(n,r)}function B1(n){if(n.tag===13){var r=ri(n,67108864);r!==null&&qa(r,n,67108864),C_(n,67108864)}}var qg=!0;function BS(n,r,o,c){var m=Y.T;Y.T=null;var T=et.p;try{et.p=2,x_(n,r,o,c)}finally{et.p=T,Y.T=m}}function zS(n,r,o,c){var m=Y.T;Y.T=null;var T=et.p;try{et.p=8,x_(n,r,o,c)}finally{et.p=T,Y.T=m}}function x_(n,r,o,c){if(qg){var m=R_(c);if(m===null)g_(n,r,c,Qg,o),H1(n,c);else if(YS(m,n,r,o,c))c.stopPropagation();else if(H1(n,c),r&4&&-1<HS.indexOf(n)){for(;m!==null;){var T=ys(m);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var k=Wt(T.pendingLanes);if(k!==0){var B=T;for(B.pendingLanes|=2,B.entangledLanes|=2;k;){var $=1<<31-Cn(k);B.entanglements[1]|=$,k&=~$}Il(T),(In&6)===0&&(kg=Qt()+500,md(0))}}break;case 13:B=ri(T,2),B!==null&&qa(B,T,2),Og(),C_(T,2)}if(T=R_(c),T===null&&g_(n,r,c,Qg,o),T===m)break;m=T}m!==null&&c.stopPropagation()}else g_(n,r,c,null,o)}}function R_(n){return n=nr(n),M_(n)}var Qg=null;function M_(n){if(Qg=null,n=Nn(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=u(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Qg=n,null}function z1(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case Zt:return 2;case Jt:return 8;case xe:case Ae:return 32;case He:return 268435456;default:return 32}default:return 32}}var I_=!1,ou=null,lu=null,cu=null,Sd=new Map,Ad=new Map,uu=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H1(n,r){switch(n){case"focusin":case"focusout":ou=null;break;case"dragenter":case"dragleave":lu=null;break;case"mouseover":case"mouseout":cu=null;break;case"pointerover":case"pointerout":Sd.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ad.delete(r.pointerId)}}function Cd(n,r,o,c,m,T){return n===null||n.nativeEvent!==T?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:T,targetContainers:[m]},r!==null&&(r=ys(r),r!==null&&B1(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),n)}function YS(n,r,o,c,m){switch(r){case"focusin":return ou=Cd(ou,n,r,o,c,m),!0;case"dragenter":return lu=Cd(lu,n,r,o,c,m),!0;case"mouseover":return cu=Cd(cu,n,r,o,c,m),!0;case"pointerover":var T=m.pointerId;return Sd.set(T,Cd(Sd.get(T)||null,n,r,o,c,m)),!0;case"gotpointercapture":return T=m.pointerId,Ad.set(T,Cd(Ad.get(T)||null,n,r,o,c,m)),!0}return!1}function Y1(n){var r=Nn(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){n.blockedOn=r,hi(n.priority,function(){if(o.tag===13){var c=Wa();c=ma(c);var m=ri(o,c);m!==null&&qa(m,o,c),C_(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zg(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=R_(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);wa=c,o.target.dispatchEvent(c),wa=null}else return r=ys(o),r!==null&&B1(r),n.blockedOn=o,!1;r.shift()}return!0}function G1(n,r,o){Zg(n)&&o.delete(r)}function GS(){I_=!1,ou!==null&&Zg(ou)&&(ou=null),lu!==null&&Zg(lu)&&(lu=null),cu!==null&&Zg(cu)&&(cu=null),Sd.forEach(G1),Ad.forEach(G1)}function Kg(n,r){n.blockedOn===r&&(n.blockedOn=null,I_||(I_=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,GS)))}var Jg=null;function X1(n){Jg!==n&&(Jg=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Jg===n&&(Jg=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],m=n[r+2];if(typeof c!="function"){if(M_(c||o)===null)continue;break}var T=ys(o);T!==null&&(n.splice(r,3),r-=3,Nh(T,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function xd(n){function r($){return Kg($,n)}ou!==null&&Kg(ou,n),lu!==null&&Kg(lu,n),cu!==null&&Kg(cu,n),Sd.forEach(r),Ad.forEach(r);for(var o=0;o<uu.length;o++){var c=uu[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<uu.length&&(o=uu[0],o.blockedOn===null);)Y1(o),o.blockedOn===null&&uu.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],T=o[c+1],k=m[Be]||null;if(typeof T=="function")k||X1(o);else if(k){var B=null;if(T&&T.hasAttribute("formAction")){if(m=T,k=T[Be]||null)B=k.formAction;else if(M_(m)!==null)continue}else B=k.action;typeof B=="function"?o[c+1]=B:(o.splice(c,3),c-=3),X1(o)}}}function k_(n){this._internalRoot=n}jg.prototype.render=k_.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Wa();F1(o,c,n,r,null,null)},jg.prototype.unmount=k_.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;F1(n.current,2,null,n,null,null),Og(),r[Vs]=null}};function jg(n){this._internalRoot=n}jg.prototype.unstable_scheduleHydration=function(n){if(n){var r=vi();n={blockedOn:null,target:n,priority:r};for(var o=0;o<uu.length&&r!==0&&r<uu[o].priority;o++);uu.splice(o,0,n),o===0&&Y1(n)}};var W1=t.version;if(W1!=="19.1.0")throw Error(i(527,W1,"19.1.0"));et.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=y(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var XS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$g.isDisabled&&$g.supportsFiber)try{Re=$g.inject(XS),Ye=$g}catch{}}return Md.createRoot=function(n,r){if(!a(n))throw Error(i(299));var o=!1,c="",m=ad,T=Bh,k=od,B=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(k=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(B=r.unstable_transitionCallbacks)),r=V1(n,1,!1,null,null,o,c,m,T,k,B,null),n[Vs]=r.current,d_(n),new k_(r)},Md.hydrateRoot=function(n,r,o){if(!a(n))throw Error(i(299));var c=!1,m="",T=ad,k=Bh,B=od,$=null,Tt=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(T=o.onUncaughtError),o.onCaughtError!==void 0&&(k=o.onCaughtError),o.onRecoverableError!==void 0&&(B=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&($=o.unstable_transitionCallbacks),o.formState!==void 0&&(Tt=o.formState)),r=V1(n,1,!0,r,o??null,c,m,T,k,B,$,Tt),r.context=L1(null),o=r.current,c=Wa(),c=ma(c),m=it(c),m.callback=null,ut(o,m,c),o=c,r.current.lanes=o,On(r,o),Il(r),n[Vs]=r.current,d_(n),new jg(r)},Md.version="19.1.0",Md}var nT;function tA(){if(nT)return N_.exports;nT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),N_.exports=$S(),N_.exports}var eA=tA();class Iy{constructor(t,e,i,a){this.canvas=t,this.x=e,this.y=i,this.cor=a,this.ctx=t.getContext("2d"),this._x=e,this._y=i,this._cor=a}ctx;_x;_y;_cor;draw(){this.ctx.beginPath(),this.ctx.fillStyle=this.cor}reset(){this.x=this._x,this.y=this._y}get getX(){return this.x}get getY(){return this.y}get getCor(){return this.cor}set setCor(t){this.cor=t}}class Hl extends Iy{constructor(t,e,i,a,l,u=0,g=0,y="white"){super(t,e,i,y),this.width=a,this.heigth=l,this.velocidadeX=u,this.velocidadeY=g,this.cor=y,this._velocidadeX=u,this._velocidadeY=g,this._width=a,this._heigth=l}_velocidadeX;_velocidadeY;_width;_heigth;draw(t){super.draw(),this.ctx.fillRect(this.x,this.y,this.width,this.heigth)}get getWidth(){return this.width}get getHeigth(){return this.heigth}get getVelocidadeX(){return this.velocidadeX}get getVelocidadeY(){return this.velocidadeY}}class bp extends Hl{constructor(t,e,i,a,l,u=!1,g="white"){super(t,e,i,a,l),this.isOponente=u,this.cor=g,this._cor=g,this.dificuldade=t.height*.7}dificuldade;_hasSuperShot=!1;_hasShrink=!1;update(t,e,i=!1){if(this.isOponente){const a=t-(this.y+this.heigth/2),l=this.dificuldade*e;this.y+=Math.min(Math.abs(a),l)*Math.sign(a)+(i?Math.random()*(40*2)-40:0)}else{const a=i?this.canvas.height-t+this.heigth:t-this.heigth;this.y=a}i?this.heigth=this._heigth*.3:this.heigth=this._heigth}draw(t,e=!1,i=!1,a=""){if(this.ctx.save(),e||this.hasSuperShot?(this.cor="#E53935",this.ctx.shadowColor="#E53935",this.ctx.shadowBlur=20):this.cor=this._cor,a==="dark"){const l=this.ctx.createRadialGradient(t.getX,t.getY,15,t.getX,t.getY,210);for(let u=0;u<=100;u++)l.addColorStop(u*.01,`rgba(255, 255, 255, ${100-u}%)`);this.cor=l}if(super.draw(),i)for(let l=0;l<20;l++)this.ctx.fillStyle=Math.random()>.5?"white":"black",this.ctx.fillRect(Math.random()*(this.width+10)+(this.x-5),Math.random()*(this.heigth+10)+(this.y-5),2,2);this.ctx.restore()}modoFuria(t){t?this.cor="crimson":this.cor="crimson"}sairModoFuria(){this.cor=this._cor}adicionarPower(t){t==="shrink"&&(this._hasShrink=!0),t==="super-shot"&&(this._hasSuperShot=!0)}removerPower(t){t==="shrink"&&(this._hasShrink=!1),t==="super-shot"&&(this._hasSuperShot=!1)}get hasSuperShot(){return this._hasSuperShot}get hasShrink(){return this._hasShrink}}class Rf extends Iy{constructor(t,e,i,a,l=0,u=0,g="white"){super(t,e,i,g),this.raio=a,this.velocidadeX=l,this.velocidadeY=u,this._velocidadeX=l,this._velocidadeY=u}_velocidadeX;_velocidadeY;draw(t){super.draw(),this.ctx.arc(this.x,this.y,this.raio,0,Math.PI*2),this.ctx.fill()}get getVelocidadeX(){return this.velocidadeX}get getVelocidadeY(){return this.velocidadeY}get getRaio(){return this.raio}}class Xw extends Rf{constructor(t,e,i,a,l,u,g="white",y,v,E,A){super(t,e,i,a,l,u,g),this.jogador=y,this.oponente=v,this.hitSynth=E,this.scoreSynth=A}score="";velocidadeXMaxima=1200;colisaoParede(){this.x-this.raio<=0?(this.score="oponente",this.x=this.raio,this.scoreSynth?.current?.triggerAttackRelease("G4","8n"),this.reset()):this.y-this.raio<=0&&(this.y=this.raio,this.velocidadeY*=-1),this.x+this.raio>this.canvas.width?(this.score="jogador",this.x=this.canvas.width-this.raio,this.scoreSynth?.current?.triggerAttackRelease("G4","8n"),this.reset(),this.velocidadeX*=-1):this.y+this.raio>this.canvas.height&&(this.y=this.canvas.height-this.raio,this.velocidadeY*=-1)}colisaoRaquete(t){this.velocidadeX*=-1;const e=(this.y-(t.getY+t.getHeigth/2))/(t.getHeigth/2),i=this.velocidadeX>600?600:400,a=Math.max(-1,Math.min(1,e));this.velocidadeY=i*a}isColisaoRaquete(t){const e=this.y-this.raio,i=this.y+this.raio,a=this.x-this.raio,l=this.x+this.raio,u=t.getY,g=t.getY+t.getHeigth,y=t.getX,v=t.getX+t.getWidth;return!(e>g||i<u||a>v||l<y)}pontoMarcado(t=!1){if(t)return this.score="";if(this.score==="jogador")return"jogador";if(this.score==="oponente")return"oponente"}update(t,e=!1,i=!1,a=!1){if(this.x+=e?this.velocidadeX*t*.2:this.velocidadeX*t,this.y+=e?this.velocidadeY*t*.2:this.velocidadeY*t,this.colisaoParede(),this.isColisaoRaquete(this.jogador)){if(this.velocidadeX*=1.3,Math.abs(this.velocidadeX)>this.velocidadeXMaxima&&(this.velocidadeX=this.velocidadeXMaxima*Math.sign(this.velocidadeX)),this.colisaoRaquete(this.jogador),this.x=this.jogador.getX+this.jogador.getWidth+this.raio,this.hitSynth?.current?.triggerAttackRelease("C2","8n"),i)return this.velocidadeX=this.velocidadeXMaxima*2,this.velocidadeY=this.velocidadeXMaxima*1.1,"super-shot-complete"}else if(this.oponente&&this.isColisaoRaquete(this.oponente)&&(this.velocidadeX*=1.3,Math.abs(this.velocidadeX)>this.velocidadeXMaxima&&(this.velocidadeX=this.velocidadeXMaxima*Math.sign(this.velocidadeX)),this.colisaoRaquete(this.oponente),this.x=this.oponente.getX-this.raio,this.hitSynth?.current?.triggerAttackRelease("C2","8n"),a))return this.velocidadeX=this.velocidadeXMaxima*-2,this.velocidadeY=this.velocidadeXMaxima*1.1*(Math.random()>.5?1:-1),"super-shot-complete"}reset(){super.reset(),this.velocidadeX=this._velocidadeX,this.velocidadeY=this._velocidadeY}draw(t){if(t==="dark"){this.ctx.save();const e=20+Math.abs(this.velocidadeX)/this.velocidadeXMaxima*40;this.ctx.shadowBlur=e,this.ctx.shadowColor="cyan",super.draw(),this.ctx.restore()}else super.draw()}}function nA({className:s=""}){return at.jsx("svg",{className:`${s} shrink`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:at.jsx("path",{d:"M20,21a1,1,0,0,0,1-1V4a1,1,0,0,0-1-1H4A1,1,0,0,0,3,4V20a1,1,0,0,0,1,1ZM5,5H19V19H10V15a1,1,0,0,0-1-1H5Zm6.077,7.382A1.01,1.01,0,0,1,11,12V8.5a1,1,0,0,1,2,0V9.586l2.793-2.793a1,1,0,1,1,1.414,1.414L14.414,11H15.5a1,1,0,0,1,0,2H12a1.01,1.01,0,0,1-.382-.077A1,1,0,0,1,11.077,12.382Z"})})}function iA({className:s=""}){return at.jsx("svg",{className:`${s} slow`,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"-399 401 100 100",children:at.jsx("path",{d:"M-302.1,489c-0.6-0.2-13.8-3.5-21.4-6.3c15.7-3.6,21.3-17.9,21.3-28.8c0-18.1-15-32.8-33.4-32.8s-33.4,14.7-33.4,32.8  c0,4.6,1,9,2.7,12.9l0-0.1l5.6,1c0,0,0,0,0,0c0,0,0,0,0,0c1.8,0.4,6.4,1.3,13.7,2.5c8.2,1.4,13.6,0.3,18.1-3.8  c2.8-2.6,4.5-6.1,4.7-9.9c0.2-3.8-1-7.5-3.5-10.4c-4-4.6-11-5-15.5-0.9c-3.6,3.3-4.1,9-1,12.6c2.4,2.8,6.8,3.1,9.5,0.7  c1-0.9,1.6-2.1,1.6-3.3c0.1-1-0.2-2-0.8-2.7c-0.5-0.6-1.3-0.9-2.2-0.9c-0.6,0-1.4,0.3-2,0.7c-0.1,0.1-0.2,0.1-0.2,0.2c0,0,0,0,0,0  c-0.1,0.1-0.2,0.1-0.3,0.2c0,0-0.1,0-0.1,0c-0.1,0-0.1,0-0.2,0c0,0,0,0,0,0c-0.1,0-0.2,0.1-0.3,0.1c-0.8,0-1.5-0.7-1.5-1.6  c0-0.9,0.7-1.6,1.5-1.6c0.3,0,2.4-0.7,3.3-0.7c1.7-0.2,3.1,0.4,4.3,1.6c1.1,1.3,1.7,2.9,1.6,4.7c-0.1,2.1-1,4-2.6,5.4  c-3.9,3.5-10.1,3.1-13.7-0.9c-4.1-4.8-3.6-12.5,1.3-16.9c5.7-5.2,14.6-4.7,19.7,1.2c3,3.5,4.5,8,4.3,12.6c-0.3,4.7-2.3,8.9-5.7,12  c-3.8,3.5-8.3,5.2-14,5.2c-2,0-4.2-0.2-6.5-0.6c-5-0.9-10.2-1.8-13.8-2.4c-1.4-0.3-2.6-0.5-3.3-0.6c-0.4-0.1-0.7-0.1-0.8-0.1  c-0.5-0.1-1-0.2-1.5-0.3c-5.1-1.2-7.8-13.2-7.8-14.3V433c0-1.6-1.2-2.8-2.8-2.8h-0.5c-1.5,0-2.8,1.3-2.8,2.8v21.8  c-1.3,1.9-3.5,3.1-5.9,3.1c-2.3,0-4.4-1.1-5.7-2.9v-22c0-1.6-1.2-2.8-2.8-2.8h-0.5c-1.5,0-2.8,1.3-2.8,2.8v0.4v22.1  c0,1-2.6,38.5,28.9,38.8c17.6,0.2,67.5,0,67.5,0c1.4,0,2.6-1.2,2.6-2.7S-300.7,489.4-302.1,489z"})})}function Ww({className:s=""}){return at.jsx("svg",{className:`${s} super-shot`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:at.jsx("path",{d:"M53.813 48.094c69.06 40.8 122.263 96.67 124.937 153.312-49.83.664-72.508-14.408-101.97-51 17.725 93.07 55.393 143.855 100.72 156.563-22.006 26.968-60.902 30.456-97.625 25.342 35.897 33.924 95.12 70.913 149.094 84.75-17.05 15.34-38.742 24.516-68 29.157 269.316 114.287 386.556 10.27 295.217-277.376-12.035 25.526-29.11 41.112-60.343 57.5-7.906-55.298-31.41-152.12-95.656-171.75 24.362 41.713 21.98 99.445-4 138.937C268.363 122.72 161.85 54.283 53.813 48.095zm308.28 236.656c26.127-.13 52.073 11.014 70.157 32.72 32.15 38.584 26.96 95.63-11.625 127.78-38.586 32.15-95.632 26.96-127.78-11.625-32.15-38.586-26.962-95.632 11.624-127.78 16.88-14.067 37.303-20.994 57.624-21.095z"})})}function sA({powers:s,isDarkMode:t=!1,isMobile:e=!1,height:i}){const a=Ct.useRef(s),l=Ct.useRef(null),[u,g]=Ct.useState({shrinkPower:!0,slowPower:!0,superShotPower:!0});return Ct.useEffect(()=>(Object.keys(s).forEach(y=>{s[y].carga>a.current[y].carga&&g(v=>({...v,[y]:!0}))}),a.current=s,l.current=setTimeout(()=>g({shrinkPower:!1,slowPower:!1,superShotPower:!1}),3e3),()=>{clearTimeout(l.current||0)}),[s]),at.jsxs("div",{className:`power-ups ${t?"power-ups--dark":""} ${e?"power-ups--mobile":""}`,style:{height:i},children:[at.jsxs("div",{className:`power-ups__power-up ${s.shrinkPower.ativo?"ativo":""} ${!s.shrinkPower.ativo&&s.shrinkPower.carga<1?"cooldown":""} ${u.shrinkPower||s.shrinkPower.ativo?"power-flash":""}`,style:s.shrinkPower.ativo?{animationDuration:`${s.shrinkPower.tempoAnimacao}ms`}:{},onClick:y=>{const v=new KeyboardEvent("keydown",{key:"q",code:"KeyQ"});window.dispatchEvent(v),y.stopPropagation()},children:[at.jsx(nA,{}),at.jsx("p",{children:"Q"}),at.jsx("div",{className:"quantidade",children:s.shrinkPower.carga})]}),at.jsxs("div",{className:`power-ups__power-up ${s.slowPower.ativo?"ativo":""} ${!s.slowPower.ativo&&s.slowPower.carga<1?"cooldown":""} ${u.slowPower||s.slowPower.ativo?"power-flash":""}`,style:s.slowPower.ativo?{animationDuration:`${s.slowPower.tempoAnimacao}ms`}:{},onClick:y=>{const v=new KeyboardEvent("keydown",{key:"w",code:"KeyW"});window.dispatchEvent(v),y.stopPropagation()},children:[at.jsx(iA,{}),at.jsx("p",{children:"W"}),at.jsx("div",{className:"quantidade",children:s.slowPower.carga})]}),at.jsxs("div",{className:`power-ups__power-up ${s.superShotPower.status==="apontar"?"ativo":""} ${s.superShotPower.status!=="apontar"&&s.superShotPower.carga<1?"cooldown":""} ${u.superShotPower||s.superShotPower.status==="apontar"?"power-flash":""}`,onClick:y=>{y.stopPropagation();const v=new KeyboardEvent("keydown",{key:"e",code:"KeyE"});window.dispatchEvent(v)},children:[at.jsx(Ww,{}),at.jsx("p",{children:"E"}),at.jsx("div",{className:"quantidade",children:s.superShotPower.carga})]})]})}function J_(){return at.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"heart-icon",viewBox:"0 0 24 24",fill:"currentColor",children:at.jsx("path",{d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z"})})}function ky({qtd:s=0,game:t,pontosOponente:e,position:i,isMobile:a=!1}){const[l,u]=Ct.useState(Array.from({length:s}));return Ct.useEffect(()=>{s>l.length&&l.length<=10&&u(Array.from({length:s}))},[s]),at.jsx("div",{className:`lifes  lifes__${t} ${a?"lifes--mobile":""}`,style:{right:i},children:e?l.map((g,y)=>at.jsx("div",{className:`lifes__life ${y<e.oponente?"lost":""}`,children:at.jsx(J_,{})},"life"+y)):l.map((g,y)=>at.jsx("div",{className:`lifes__life ${s<=y?"lost":""}`,children:at.jsx(J_,{})},"life"+y))})}const qw="15.1.22",iT=(s,t,e)=>({endTime:t,insertTime:e,type:"exponentialRampToValue",value:s}),sT=(s,t,e)=>({endTime:t,insertTime:e,type:"linearRampToValue",value:s}),j_=(s,t)=>({startTime:t,type:"setValue",value:s}),Qw=(s,t,e)=>({duration:e,startTime:t,type:"setValueCurve",values:s}),Zw=(s,t,{startTime:e,target:i,timeConstant:a})=>i+(t-i)*Math.exp((e-s)/a),lf=s=>s.type==="exponentialRampToValue",Ep=s=>s.type==="linearRampToValue",du=s=>lf(s)||Ep(s),Dy=s=>s.type==="setValue",yc=s=>s.type==="setValueCurve",Sp=(s,t,e,i)=>{const a=s[t];return a===void 0?i:du(a)||Dy(a)?a.value:yc(a)?a.values[a.values.length-1]:Zw(e,Sp(s,t-1,a.startTime,i),a)},rT=(s,t,e,i,a)=>e===void 0?[i.insertTime,a]:du(e)?[e.endTime,e.value]:Dy(e)?[e.startTime,e.value]:yc(e)?[e.startTime+e.duration,e.values[e.values.length-1]]:[e.startTime,Sp(s,t-1,e.startTime,a)],$_=s=>s.type==="cancelAndHold",ty=s=>s.type==="cancelScheduledValues",fu=s=>$_(s)||ty(s)?s.cancelTime:lf(s)||Ep(s)?s.endTime:s.startTime,aT=(s,t,e,{endTime:i,value:a})=>e===a?a:0<e&&0<a||e<0&&a<0?e*(a/e)**((s-t)/(i-t)):0,oT=(s,t,e,{endTime:i,value:a})=>e+(s-t)/(i-t)*(a-e),rA=(s,t)=>{const e=Math.floor(t),i=Math.ceil(t);return e===i?s[e]:(1-(t-e))*s[e]+(1-(i-t))*s[i]},aA=(s,{duration:t,startTime:e,values:i})=>{const a=(s-e)/t*(i.length-1);return rA(i,a)},tp=s=>s.type==="setTarget";class oA{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const e=fu(t);if($_(t)||ty(t)){const i=this._automationEvents.findIndex(l=>ty(t)&&yc(l)?l.startTime+l.duration>=e:fu(l)>=e),a=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),$_(t)){const l=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&du(a)){if(l!==void 0&&tp(l))throw new Error("The internal list is malformed.");const u=l===void 0?a.insertTime:yc(l)?l.startTime+l.duration:fu(l),g=l===void 0?this._defaultValue:yc(l)?l.values[l.values.length-1]:l.value,y=lf(a)?aT(e,u,g,a):oT(e,u,g,a),v=lf(a)?iT(y,e,this._currenTime):sT(y,e,this._currenTime);this._automationEvents.push(v)}if(l!==void 0&&tp(l)&&this._automationEvents.push(j_(this.getValue(e),e)),l!==void 0&&yc(l)&&l.startTime+l.duration>e){const u=e-l.startTime,g=(l.values.length-1)/l.duration,y=Math.max(2,1+Math.ceil(u*g)),v=u/(y-1)*g,E=l.values.slice(0,y);if(v<1)for(let A=1;A<y;A+=1){const C=v*A%1;E[A]=l.values[A-1]*(1-C)+l.values[A]*C}this._automationEvents[this._automationEvents.length-1]=Qw(E,l.startTime,u)}}}else{const i=this._automationEvents.findIndex(u=>fu(u)>e),a=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(a!==void 0&&yc(a)&&fu(a)+a.duration>e)return!1;const l=lf(t)?iT(t.value,t.endTime,this._currenTime):Ep(t)?sT(t.value,e,this._currenTime):t;if(i===-1)this._automationEvents.push(l);else{if(yc(t)&&e+t.duration>fu(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,l)}}return!0}flush(t){const e=this._automationEvents.findIndex(i=>fu(i)>t);if(e>1){const i=this._automationEvents.slice(e-1),a=i[0];tp(a)&&i.unshift(j_(Sp(this._automationEvents,e-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=i}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const e=this._automationEvents.findIndex(u=>fu(u)>t),i=this._automationEvents[e],a=(e===-1?this._automationEvents.length:e)-1,l=this._automationEvents[a];if(l!==void 0&&tp(l)&&(i===void 0||!du(i)||i.insertTime>t))return Zw(t,Sp(this._automationEvents,a-1,l.startTime,this._defaultValue),l);if(l!==void 0&&Dy(l)&&(i===void 0||!du(i)))return l.value;if(l!==void 0&&yc(l)&&(i===void 0||!du(i)||l.startTime+l.duration>t))return t<l.startTime+l.duration?aA(t,l):l.values[l.values.length-1];if(l!==void 0&&du(l)&&(i===void 0||!du(i)))return l.value;if(i!==void 0&&lf(i)){const[u,g]=rT(this._automationEvents,a,l,i,this._defaultValue);return aT(t,u,g,i)}if(i!==void 0&&Ep(i)){const[u,g]=rT(this._automationEvents,a,l,i,this._defaultValue);return oT(t,u,g,i)}return this._defaultValue}}const lA=s=>({cancelTime:s,type:"cancelAndHold"}),cA=s=>({cancelTime:s,type:"cancelScheduledValues"}),uA=(s,t)=>({endTime:t,type:"exponentialRampToValue",value:s}),hA=(s,t)=>({endTime:t,type:"linearRampToValue",value:s}),fA=(s,t,e)=>({startTime:t,target:s,timeConstant:e,type:"setTarget"}),dA=()=>new DOMException("","AbortError"),gA=s=>(t,e,[i,a,l],u)=>{s(t[a],[e,i,l],g=>g[0]===e&&g[1]===i,u)},pA=s=>(t,e,i)=>{const a=[];for(let l=0;l<i.numberOfInputs;l+=1)a.push(new Set);s.set(t,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:e})},mA=s=>(t,e)=>{s.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})},mf=new WeakSet,Kw=new WeakMap,Oy=new WeakMap,Jw=new WeakMap,Ny=new WeakMap,tm=new WeakMap,jw=new WeakMap,ey=new WeakMap,ny=new WeakMap,iy=new WeakMap,$w={construct(){return $w}},_A=s=>{try{const t=new Proxy(s,$w);new t}catch{return!1}return!0},lT=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,cT=(s,t)=>{const e=[];let i=s.replace(/^[\s]+/,""),a=i.match(lT);for(;a!==null;){const l=a[1].slice(1,-1),u=a[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,t).toString());e.push(u),i=i.slice(a[0].length).replace(/^[\s]+/,""),a=i.match(lT)}return[e.join(";"),i]},uT=s=>{if(s!==void 0&&!Array.isArray(s))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},hT=s=>{if(!_A(s))throw new TypeError("The given value for processorCtor should be a constructor.");if(s.prototype===null||typeof s.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},yA=(s,t,e,i,a,l,u,g,y,v,E,A,C)=>{let N=0;return(L,Z,H={credentials:"omit"})=>{const j=E.get(L);if(j!==void 0&&j.has(Z))return Promise.resolve();const lt=v.get(L);if(lt!==void 0){const J=lt.get(Z);if(J!==void 0)return J}const st=l(L),pt=st.audioWorklet===void 0?a(Z).then(([J,rt])=>{const[V,I]=cT(J,rt),P=`${V};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${I}
})})(window,'_AWGS')`;return e(P)}).then(()=>{const J=C._AWGS.pop();if(J===void 0)throw new SyntaxError;i(st.currentTime,st.sampleRate,()=>J(class{},void 0,(rt,V)=>{if(rt.trim()==="")throw t();const I=ny.get(st);if(I!==void 0){if(I.has(rt))throw t();hT(V),uT(V.parameterDescriptors),I.set(rt,V)}else hT(V),uT(V.parameterDescriptors),ny.set(st,new Map([[rt,V]]))},st.sampleRate,void 0,void 0))}):Promise.all([a(Z),Promise.resolve(s(A,A))]).then(([[J,rt],V])=>{const I=N+1;N=I;const[P,U]=cT(J,rt),Pt=`${P};((AudioWorkletProcessor,registerProcessor)=>{${U}
})(${V?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${V?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${V?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${I}',class extends AudioWorkletProcessor{process(){return !1}})`,mt=new Blob([Pt],{type:"application/javascript; charset=utf-8"}),Y=URL.createObjectURL(mt);return st.audioWorklet.addModule(Y,H).then(()=>{if(g(st))return st;const et=u(st);return et.audioWorklet.addModule(Y,H).then(()=>et)}).then(et=>{if(y===null)throw new SyntaxError;try{new y(et,`__sac${I}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Y))});return lt===void 0?v.set(L,new Map([[Z,pt]])):lt.set(Z,pt),pt.then(()=>{const J=E.get(L);J===void 0?E.set(L,new Set([Z])):J.add(Z)}).finally(()=>{const J=v.get(L);J!==void 0&&J.delete(Z)}),pt}},sl=(s,t)=>{const e=s.get(t);if(e===void 0)throw new Error("A value with the given key could not be found.");return e},em=(s,t)=>{const e=Array.from(s).filter(t);if(e.length>1)throw Error("More than one element was found.");if(e.length===0)throw Error("No element was found.");const[i]=e;return s.delete(i),i},tb=(s,t,e,i)=>{const a=sl(s,t),l=em(a,u=>u[0]===e&&u[1]===i);return a.size===0&&s.delete(t),l},sg=s=>sl(jw,s),_f=s=>{if(mf.has(s))throw new Error("The AudioNode is already stored.");mf.add(s),sg(s).forEach(t=>t(!0))},eb=s=>"port"in s,rg=s=>{if(!mf.has(s))throw new Error("The AudioNode is not stored.");mf.delete(s),sg(s).forEach(t=>t(!1))},sy=(s,t)=>{!eb(s)&&t.every(e=>e.size===0)&&rg(s)},vA=(s,t,e,i,a,l,u,g,y,v,E,A,C)=>{const N=new WeakMap;return(L,Z,H,j,lt)=>{const{activeInputs:st,passiveInputs:pt}=l(Z),{outputs:J}=l(L),rt=g(L),V=I=>{const P=y(Z),U=y(L);if(I){const z=tb(pt,L,H,j);s(st,L,z,!1),!lt&&!A(L)&&e(U,P,H,j),C(Z)&&_f(Z)}else{const z=i(st,L,H,j);t(pt,j,z,!1),!lt&&!A(L)&&a(U,P,H,j);const Q=u(Z);if(Q===0)E(Z)&&sy(Z,st);else{const X=N.get(Z);X!==void 0&&clearTimeout(X),N.set(Z,setTimeout(()=>{E(Z)&&sy(Z,st)},Q*1e3))}}};return v(J,[Z,H,j],I=>I[0]===Z&&I[1]===H&&I[2]===j,!0)?(rt.add(V),E(L)?s(st,L,[H,j,V],!0):t(pt,j,[L,H,V],!0),!0):!1}},TA=s=>(t,e,[i,a,l],u)=>{const g=t.get(i);g===void 0?t.set(i,new Set([[a,e,l]])):s(g,[a,e,l],y=>y[0]===a&&y[1]===e,u)},wA=s=>(t,e)=>{const i=s(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(i).connect(t.destination);const a=()=>{e.removeEventListener("ended",a),e.disconnect(i),i.disconnect()};e.addEventListener("ended",a)},bA=s=>(t,e)=>{s(t).add(e)},EA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},SA=(s,t,e,i,a,l)=>class extends s{constructor(g,y){const v=a(g),E={...EA,...y},A=i(v,E),C=l(v)?t():null;super(g,!1,A,C),this._nativeAnalyserNode=A}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(g){this._nativeAnalyserNode.fftSize=g}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(g){const y=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=g,!(g>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=y,e()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(g){const y=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=g,!(this._nativeAnalyserNode.maxDecibels>g))throw this._nativeAnalyserNode.minDecibels=y,e()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(g){this._nativeAnalyserNode.smoothingTimeConstant=g}getByteFrequencyData(g){this._nativeAnalyserNode.getByteFrequencyData(g)}getByteTimeDomainData(g){this._nativeAnalyserNode.getByteTimeDomainData(g)}getFloatFrequencyData(g){this._nativeAnalyserNode.getFloatFrequencyData(g)}getFloatTimeDomainData(g){this._nativeAnalyserNode.getFloatTimeDomainData(g)}},br=(s,t)=>s.context===t,AA=(s,t,e)=>()=>{const i=new WeakMap,a=async(l,u)=>{let g=t(l);if(!br(g,u)){const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,fftSize:g.fftSize,maxDecibels:g.maxDecibels,minDecibels:g.minDecibels,smoothingTimeConstant:g.smoothingTimeConstant};g=s(u,v)}return i.set(u,g),await e(l,u,g),g};return{render(l,u){const g=i.get(u);return g!==void 0?Promise.resolve(g):a(l,u)}}},Ap=s=>{try{s.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Yl=()=>new DOMException("","IndexSizeError"),Py=s=>{s.getChannelData=(t=>e=>{try{return t.call(s,e)}catch(i){throw i.code===12?Yl():i}})(s.getChannelData)},CA={numberOfChannels:1},xA=(s,t,e,i,a,l,u,g)=>{let y=null;return class nb{constructor(E){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:A,numberOfChannels:C,sampleRate:N}={...CA,...E};y===null&&(y=new a(1,1,44100));const L=i!==null&&t(l,l)?new i({length:A,numberOfChannels:C,sampleRate:N}):y.createBuffer(C,A,N);if(L.numberOfChannels===0)throw e();return typeof L.copyFromChannel!="function"?(u(L),Py(L)):t(Ap,()=>Ap(L))||g(L),s.add(L),L}static[Symbol.hasInstance](E){return E!==null&&typeof E=="object"&&Object.getPrototypeOf(E)===nb.prototype||s.has(E)}}},da=-34028234663852886e22,Hr=-da,Tc=s=>mf.has(s),RA={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},MA=(s,t,e,i,a,l,u,g)=>class extends s{constructor(v,E){const A=l(v),C={...RA,...E},N=a(A,C),L=u(A),Z=L?t():null;super(v,!1,N,Z),this._audioBufferSourceNodeRenderer=Z,this._isBufferNullified=!1,this._isBufferSet=C.buffer!==null,this._nativeAudioBufferSourceNode=N,this._onended=null,this._playbackRate=e(this,L,N.playbackRate,Hr,da)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(v){if(this._nativeAudioBufferSourceNode.buffer=v,v!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(v){this._nativeAudioBufferSourceNode.loop=v}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(v){this._nativeAudioBufferSourceNode.loopEnd=v}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(v){this._nativeAudioBufferSourceNode.loopStart=v}get onended(){return this._onended}set onended(v){const E=typeof v=="function"?g(this,v):null;this._nativeAudioBufferSourceNode.onended=E;const A=this._nativeAudioBufferSourceNode.onended;this._onended=A!==null&&A===E?v:A}get playbackRate(){return this._playbackRate}start(v=0,E=0,A){if(this._nativeAudioBufferSourceNode.start(v,E,A),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=A===void 0?[v,E]:[v,E,A]),this.context.state!=="closed"){_f(this);const C=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",C),Tc(this)&&rg(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",C)}}stop(v=0){this._nativeAudioBufferSourceNode.stop(v),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=v)}},IA=(s,t,e,i,a)=>()=>{const l=new WeakMap;let u=null,g=null;const y=async(v,E)=>{let A=e(v);const C=br(A,E);if(!C){const N={buffer:A.buffer,channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,loop:A.loop,loopEnd:A.loopEnd,loopStart:A.loopStart,playbackRate:A.playbackRate.value};A=t(E,N),u!==null&&A.start(...u),g!==null&&A.stop(g)}return l.set(E,A),C?await s(E,v.playbackRate,A.playbackRate):await i(E,v.playbackRate,A.playbackRate),await a(v,E,A),A};return{set start(v){u=v},set stop(v){g=v},render(v,E){const A=l.get(E);return A!==void 0?Promise.resolve(A):y(v,E)}}},kA=s=>"playbackRate"in s,DA=s=>"frequency"in s&&"gain"in s,OA=s=>"offset"in s,NA=s=>!("frequency"in s)&&"gain"in s,PA=s=>"detune"in s&&"frequency"in s&&!("gain"in s),VA=s=>"pan"in s,Yr=s=>sl(Kw,s),ag=s=>sl(Jw,s),ry=(s,t)=>{const{activeInputs:e}=Yr(s);e.forEach(a=>a.forEach(([l])=>{t.includes(s)||ry(l,[...t,s])}));const i=kA(s)?[s.playbackRate]:eb(s)?Array.from(s.parameters.values()):DA(s)?[s.Q,s.detune,s.frequency,s.gain]:OA(s)?[s.offset]:NA(s)?[s.gain]:PA(s)?[s.detune,s.frequency]:VA(s)?[s.pan]:[];for(const a of i){const l=ag(a);l!==void 0&&l.activeInputs.forEach(([u])=>ry(u,t))}Tc(s)&&rg(s)},ib=s=>{ry(s.destination,[])},LA=s=>s===void 0||typeof s=="number"||typeof s=="string"&&(s==="balanced"||s==="interactive"||s==="playback"),FA=(s,t,e,i,a,l,u,g,y)=>class extends s{constructor(E={}){if(y===null)throw new Error("Missing the native AudioContext constructor.");let A;try{A=new y(E)}catch(L){throw L.code===12&&L.message==="sampleRate is not in range"?e():L}if(A===null)throw i();if(!LA(E.latencyHint))throw new TypeError(`The provided value '${E.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(E.sampleRate!==void 0&&A.sampleRate!==E.sampleRate)throw e();super(A,2);const{latencyHint:C}=E,{sampleRate:N}=A;if(this._baseLatency=typeof A.baseLatency=="number"?A.baseLatency:C==="balanced"?512/N:C==="interactive"||C===void 0?256/N:C==="playback"?1024/N:Math.max(2,Math.min(128,Math.round(C*N/128)))*128/N,this._nativeAudioContext=A,y.name==="webkitAudioContext"?(this._nativeGainNode=A.createGain(),this._nativeOscillatorNode=A.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(A.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,A.state==="running"){this._state="suspended";const L=()=>{this._state==="suspended"&&(this._state=null),A.removeEventListener("statechange",L)};A.addEventListener("statechange",L)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ib(this)}))}createMediaElementSource(E){return new a(this,{mediaElement:E})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(E){return new u(this,{mediaStream:E})}createMediaStreamTrackSource(E){return new g(this,{mediaStreamTrack:E})}resume(){return this._state==="suspended"?new Promise((E,A)=>{const C=()=>{this._nativeAudioContext.removeEventListener("statechange",C),this._nativeAudioContext.state==="running"?E():this.resume().then(E,A)};this._nativeAudioContext.addEventListener("statechange",C)}):this._nativeAudioContext.resume().catch(E=>{throw E===void 0||E.code===15?t():E})}suspend(){return this._nativeAudioContext.suspend().catch(E=>{throw E===void 0?t():E})}},UA=(s,t,e,i,a,l,u,g)=>class extends s{constructor(v,E){const A=l(v),C=u(A),N=a(A,E,C),L=C?t(g):null;super(v,!1,N,L),this._isNodeOfNativeOfflineAudioContext=C,this._nativeAudioDestinationNode=N}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(v){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(v>this._nativeAudioDestinationNode.maxChannelCount)throw e();this._nativeAudioDestinationNode.channelCount=v}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(v){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=v}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},BA=s=>{const t=new WeakMap,e=async(i,a)=>{const l=a.destination;return t.set(a,l),await s(i,a,l),l};return{render(i,a){const l=t.get(a);return l!==void 0?Promise.resolve(l):e(i,a)}}},zA=(s,t,e,i,a,l,u,g)=>(y,v)=>{const E=v.listener,A=()=>{const J=new Float32Array(1),rt=t(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),V=u(v);let I=!1,P=[0,0,-1,0,1,0],U=[0,0,0];const z=()=>{if(I)return;I=!0;const mt=i(v,256,9,0);mt.onaudioprocess=({inputBuffer:Y})=>{const et=[l(Y,J,0),l(Y,J,1),l(Y,J,2),l(Y,J,3),l(Y,J,4),l(Y,J,5)];et.some((xt,F)=>xt!==P[F])&&(E.setOrientation(...et),P=et);const bt=[l(Y,J,6),l(Y,J,7),l(Y,J,8)];bt.some((xt,F)=>xt!==U[F])&&(E.setPosition(...bt),U=bt)},rt.connect(mt)},Q=mt=>Y=>{Y!==P[mt]&&(P[mt]=Y,E.setOrientation(...P))},X=mt=>Y=>{Y!==U[mt]&&(U[mt]=Y,E.setPosition(...U))},Pt=(mt,Y,et)=>{const bt=e(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Y});bt.connect(rt,0,mt),bt.start(),Object.defineProperty(bt.offset,"defaultValue",{get(){return Y}});const xt=s({context:y},V,bt.offset,Hr,da);return g(xt,"value",F=>()=>F.call(xt),F=>K=>{try{F.call(xt,K)}catch(dt){if(dt.code!==9)throw dt}z(),V&&et(K)}),xt.cancelAndHoldAtTime=(F=>V?()=>{throw a()}:(...K)=>{const dt=F.apply(xt,K);return z(),dt})(xt.cancelAndHoldAtTime),xt.cancelScheduledValues=(F=>V?()=>{throw a()}:(...K)=>{const dt=F.apply(xt,K);return z(),dt})(xt.cancelScheduledValues),xt.exponentialRampToValueAtTime=(F=>V?()=>{throw a()}:(...K)=>{const dt=F.apply(xt,K);return z(),dt})(xt.exponentialRampToValueAtTime),xt.linearRampToValueAtTime=(F=>V?()=>{throw a()}:(...K)=>{const dt=F.apply(xt,K);return z(),dt})(xt.linearRampToValueAtTime),xt.setTargetAtTime=(F=>V?()=>{throw a()}:(...K)=>{const dt=F.apply(xt,K);return z(),dt})(xt.setTargetAtTime),xt.setValueAtTime=(F=>V?()=>{throw a()}:(...K)=>{const dt=F.apply(xt,K);return z(),dt})(xt.setValueAtTime),xt.setValueCurveAtTime=(F=>V?()=>{throw a()}:(...K)=>{const dt=F.apply(xt,K);return z(),dt})(xt.setValueCurveAtTime),xt};return{forwardX:Pt(0,0,Q(0)),forwardY:Pt(1,0,Q(1)),forwardZ:Pt(2,-1,Q(2)),positionX:Pt(6,0,X(0)),positionY:Pt(7,0,X(1)),positionZ:Pt(8,0,X(2)),upX:Pt(3,0,Q(3)),upY:Pt(4,1,Q(4)),upZ:Pt(5,0,Q(5))}},{forwardX:C,forwardY:N,forwardZ:L,positionX:Z,positionY:H,positionZ:j,upX:lt,upY:st,upZ:pt}=E.forwardX===void 0?A():E;return{get forwardX(){return C},get forwardY(){return N},get forwardZ(){return L},get positionX(){return Z},get positionY(){return H},get positionZ(){return j},get upX(){return lt},get upY(){return st},get upZ(){return pt}}},Cp=s=>"context"in s,og=s=>Cp(s[0]),_h=(s,t,e,i)=>{for(const a of s)if(e(a)){if(i)return!1;throw Error("The set contains at least one similar element.")}return s.add(t),!0},fT=(s,t,[e,i],a)=>{_h(s,[t,e,i],l=>l[0]===t&&l[1]===e,a)},dT=(s,[t,e,i],a)=>{const l=s.get(t);l===void 0?s.set(t,new Set([[e,i]])):_h(l,[e,i],u=>u[0]===e,a)},Mf=s=>"inputs"in s,xp=(s,t,e,i)=>{if(Mf(t)){const a=t.inputs[i];return s.connect(a,e,0),[a,e,0]}return s.connect(t,e,i),[t,e,i]},sb=(s,t,e)=>{for(const i of s)if(i[0]===t&&i[1]===e)return s.delete(i),i;return null},HA=(s,t,e)=>em(s,i=>i[0]===t&&i[1]===e),rb=(s,t)=>{if(!sg(s).delete(t))throw new Error("Missing the expected event listener.")},ab=(s,t,e)=>{const i=sl(s,t),a=em(i,l=>l[0]===e);return i.size===0&&s.delete(t),a},Rp=(s,t,e,i)=>{Mf(t)?s.disconnect(t.inputs[i],e,0):s.disconnect(t,e,i)},ci=s=>sl(Oy,s),zd=s=>sl(Ny,s),dh=s=>ey.has(s),hp=s=>!mf.has(s),gT=(s,t)=>new Promise(e=>{if(t!==null)e(!0);else{const i=s.createScriptProcessor(256,1,1),a=s.createGain(),l=s.createBuffer(1,2,44100),u=l.getChannelData(0);u[0]=1,u[1]=1;const g=s.createBufferSource();g.buffer=l,g.loop=!0,g.connect(i).connect(s.destination),g.connect(a),g.disconnect(a),i.onaudioprocess=y=>{const v=y.inputBuffer.getChannelData(0);Array.prototype.some.call(v,E=>E===1)?e(!0):e(!1),g.stop(),i.onaudioprocess=null,g.disconnect(i),i.disconnect(s.destination)},g.start()}}),F_=(s,t)=>{const e=new Map;for(const i of s)for(const a of i){const l=e.get(a);e.set(a,l===void 0?1:l+1)}e.forEach((i,a)=>t(a,i))},Mp=s=>"context"in s,YA=s=>{const t=new Map;s.connect=(e=>(i,a=0,l=0)=>{const u=Mp(i)?e(i,a,l):e(i,a),g=t.get(i);return g===void 0?t.set(i,[{input:l,output:a}]):g.every(y=>y.input!==l||y.output!==a)&&g.push({input:l,output:a}),u})(s.connect.bind(s)),s.disconnect=(e=>(i,a,l)=>{if(e.apply(s),i===void 0)t.clear();else if(typeof i=="number")for(const[u,g]of t){const y=g.filter(v=>v.output!==i);y.length===0?t.delete(u):t.set(u,y)}else if(t.has(i))if(a===void 0)t.delete(i);else{const u=t.get(i);if(u!==void 0){const g=u.filter(y=>y.output!==a&&(y.input!==l||l===void 0));g.length===0?t.delete(i):t.set(i,g)}}for(const[u,g]of t)g.forEach(y=>{Mp(u)?s.connect(u,y.output,y.input):s.connect(u,y.output)})})(s.disconnect)},GA=(s,t,e,i)=>{const{activeInputs:a,passiveInputs:l}=ag(t),{outputs:u}=Yr(s),g=sg(s),y=v=>{const E=ci(s),A=zd(t);if(v){const C=ab(l,s,e);fT(a,s,C,!1),!i&&!dh(s)&&E.connect(A,e)}else{const C=HA(a,s,e);dT(l,C,!1),!i&&!dh(s)&&E.disconnect(A,e)}};return _h(u,[t,e],v=>v[0]===t&&v[1]===e,!0)?(g.add(y),Tc(s)?fT(a,s,[e,y],!0):dT(l,[s,e,y],!0),!0):!1},XA=(s,t,e,i)=>{const{activeInputs:a,passiveInputs:l}=Yr(t),u=sb(a[i],s,e);return u===null?[tb(l,s,e,i)[2],!1]:[u[2],!0]},WA=(s,t,e)=>{const{activeInputs:i,passiveInputs:a}=ag(t),l=sb(i,s,e);return l===null?[ab(a,s,e)[1],!1]:[l[2],!0]},Vy=(s,t,e,i,a)=>{const[l,u]=XA(s,e,i,a);if(l!==null&&(rb(s,l),u&&!t&&!dh(s)&&Rp(ci(s),ci(e),i,a)),Tc(e)){const{activeInputs:g}=Yr(e);sy(e,g)}},Ly=(s,t,e,i)=>{const[a,l]=WA(s,e,i);a!==null&&(rb(s,a),l&&!t&&!dh(s)&&ci(s).disconnect(zd(e),i))},qA=(s,t)=>{const e=Yr(s),i=[];for(const a of e.outputs)og(a)?Vy(s,t,...a):Ly(s,t,...a),i.push(a[0]);return e.outputs.clear(),i},QA=(s,t,e)=>{const i=Yr(s),a=[];for(const l of i.outputs)l[1]===e&&(og(l)?Vy(s,t,...l):Ly(s,t,...l),a.push(l[0]),i.outputs.delete(l));return a},ZA=(s,t,e,i,a)=>{const l=Yr(s);return Array.from(l.outputs).filter(u=>u[0]===e&&(i===void 0||u[1]===i)&&(a===void 0||u[2]===a)).map(u=>(og(u)?Vy(s,t,...u):Ly(s,t,...u),l.outputs.delete(u),u[0]))},KA=(s,t,e,i,a,l,u,g,y,v,E,A,C,N,L,Z)=>class extends v{constructor(j,lt,st,pt){super(st),this._context=j,this._nativeAudioNode=st;const J=E(j);A(J)&&e(gT,()=>gT(J,Z))!==!0&&YA(st),Oy.set(this,st),jw.set(this,new Set),j.state!=="closed"&&lt&&_f(this),s(this,pt,st)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(j){this._nativeAudioNode.channelCount=j}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(j){this._nativeAudioNode.channelCountMode=j}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(j){this._nativeAudioNode.channelInterpretation=j}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(j,lt=0,st=0){if(lt<0||lt>=this._nativeAudioNode.numberOfOutputs)throw a();const pt=E(this._context),J=L(pt);if(C(j)||N(j))throw l();if(Cp(j)){const I=ci(j);try{const U=xp(this._nativeAudioNode,I,lt,st),z=hp(this);(J||z)&&this._nativeAudioNode.disconnect(...U),this.context.state!=="closed"&&!z&&hp(j)&&_f(j)}catch(U){throw U.code===12?l():U}if(t(this,j,lt,st,J)){const U=y([this],j);F_(U,i(J))}return j}const rt=zd(j);if(rt.name==="playbackRate"&&rt.maxValue===1024)throw u();try{this._nativeAudioNode.connect(rt,lt),(J||hp(this))&&this._nativeAudioNode.disconnect(rt,lt)}catch(I){throw I.code===12?l():I}if(GA(this,j,lt,J)){const I=y([this],j);F_(I,i(J))}}disconnect(j,lt,st){let pt;const J=E(this._context),rt=L(J);if(j===void 0)pt=qA(this,rt);else if(typeof j=="number"){if(j<0||j>=this.numberOfOutputs)throw a();pt=QA(this,rt,j)}else{if(lt!==void 0&&(lt<0||lt>=this.numberOfOutputs)||Cp(j)&&st!==void 0&&(st<0||st>=j.numberOfInputs))throw a();if(pt=ZA(this,rt,j,lt,st),pt.length===0)throw l()}for(const V of pt){const I=y([this],V);F_(I,g)}}},JA=(s,t,e,i,a,l,u,g,y,v,E,A,C)=>(N,L,Z,H=null,j=null)=>{const lt=Z.value,st=new oA(lt),pt=L?i(st):null,J={get defaultValue(){return lt},get maxValue(){return H===null?Z.maxValue:H},get minValue(){return j===null?Z.minValue:j},get value(){return Z.value},set value(rt){Z.value=rt,J.setValueAtTime(rt,N.context.currentTime)},cancelAndHoldAtTime(rt){if(typeof Z.cancelAndHoldAtTime=="function")pt===null&&st.flush(N.context.currentTime),st.add(a(rt)),Z.cancelAndHoldAtTime(rt);else{const V=Array.from(st).pop();pt===null&&st.flush(N.context.currentTime),st.add(a(rt));const I=Array.from(st).pop();Z.cancelScheduledValues(rt),V!==I&&I!==void 0&&(I.type==="exponentialRampToValue"?Z.exponentialRampToValueAtTime(I.value,I.endTime):I.type==="linearRampToValue"?Z.linearRampToValueAtTime(I.value,I.endTime):I.type==="setValue"?Z.setValueAtTime(I.value,I.startTime):I.type==="setValueCurve"&&Z.setValueCurveAtTime(I.values,I.startTime,I.duration))}return J},cancelScheduledValues(rt){return pt===null&&st.flush(N.context.currentTime),st.add(l(rt)),Z.cancelScheduledValues(rt),J},exponentialRampToValueAtTime(rt,V){if(rt===0)throw new RangeError;if(!Number.isFinite(V)||V<0)throw new RangeError;const I=N.context.currentTime;return pt===null&&st.flush(I),Array.from(st).length===0&&(st.add(v(lt,I)),Z.setValueAtTime(lt,I)),st.add(u(rt,V)),Z.exponentialRampToValueAtTime(rt,V),J},linearRampToValueAtTime(rt,V){const I=N.context.currentTime;return pt===null&&st.flush(I),Array.from(st).length===0&&(st.add(v(lt,I)),Z.setValueAtTime(lt,I)),st.add(g(rt,V)),Z.linearRampToValueAtTime(rt,V),J},setTargetAtTime(rt,V,I){return pt===null&&st.flush(N.context.currentTime),st.add(y(rt,V,I)),Z.setTargetAtTime(rt,V,I),J},setValueAtTime(rt,V){return pt===null&&st.flush(N.context.currentTime),st.add(v(rt,V)),Z.setValueAtTime(rt,V),J},setValueCurveAtTime(rt,V,I){const P=rt instanceof Float32Array?rt:new Float32Array(rt);if(A!==null&&A.name==="webkitAudioContext"){const U=V+I,z=N.context.sampleRate,Q=Math.ceil(V*z),X=Math.floor(U*z),Pt=X-Q,mt=new Float32Array(Pt);for(let et=0;et<Pt;et+=1){const bt=(P.length-1)/I*((Q+et)/z-V),xt=Math.floor(bt),F=Math.ceil(bt);mt[et]=xt===F?P[xt]:(1-(bt-xt))*P[xt]+(1-(F-bt))*P[F]}pt===null&&st.flush(N.context.currentTime),st.add(E(mt,V,I)),Z.setValueCurveAtTime(mt,V,I);const Y=X/z;Y<U&&C(J,mt[mt.length-1],Y),C(J,P[P.length-1],U)}else pt===null&&st.flush(N.context.currentTime),st.add(E(P,V,I)),Z.setValueCurveAtTime(P,V,I);return J}};return e.set(J,Z),t.set(J,N),s(J,pt),J},jA=s=>({replay(t){for(const e of s)if(e.type==="exponentialRampToValue"){const{endTime:i,value:a}=e;t.exponentialRampToValueAtTime(a,i)}else if(e.type==="linearRampToValue"){const{endTime:i,value:a}=e;t.linearRampToValueAtTime(a,i)}else if(e.type==="setTarget"){const{startTime:i,target:a,timeConstant:l}=e;t.setTargetAtTime(a,i,l)}else if(e.type==="setValue"){const{startTime:i,value:a}=e;t.setValueAtTime(a,i)}else if(e.type==="setValueCurve"){const{duration:i,startTime:a,values:l}=e;t.setValueCurveAtTime(l,a,i)}else throw new Error("Can't apply an unknown automation.")}});class ob{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((i,a)=>t.call(e,i,a,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const $A={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},tC=(s,t,e,i,a,l,u,g,y,v,E,A,C,N)=>class extends t{constructor(Z,H,j){var lt;const st=g(Z),pt=y(st),J=E({...$A,...j});C(J);const rt=ny.get(st),V=rt?.get(H),I=pt||st.state!=="closed"?st:(lt=u(st))!==null&&lt!==void 0?lt:st,P=a(I,pt?null:Z.baseLatency,v,H,V,J),U=pt?i(H,J,V):null;super(Z,!0,P,U);const z=[];P.parameters.forEach((X,Pt)=>{const mt=e(this,pt,X);z.push([Pt,mt])}),this._nativeAudioWorkletNode=P,this._onprocessorerror=null,this._parameters=new ob(z),pt&&s(st,this);const{activeInputs:Q}=l(this);A(P,Q)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(Z){const H=typeof Z=="function"?N(this,Z):null;this._nativeAudioWorkletNode.onprocessorerror=H;const j=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=j!==null&&j===H?Z:j}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ip(s,t,e,i,a){if(typeof s.copyFromChannel=="function")t[e].byteLength===0&&(t[e]=new Float32Array(128)),s.copyFromChannel(t[e],i,a);else{const l=s.getChannelData(i);if(t[e].byteLength===0)t[e]=l.slice(a,a+128);else{const u=new Float32Array(l.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);t[e].set(u)}}}const lb=(s,t,e,i,a)=>{typeof s.copyToChannel=="function"?t[e].byteLength!==0&&s.copyToChannel(t[e],i,a):t[e].byteLength!==0&&s.getChannelData(i).set(t[e],a)},kp=(s,t)=>{const e=[];for(let i=0;i<s;i+=1){const a=[],l=typeof t=="number"?t:t[i];for(let u=0;u<l;u+=1)a.push(new Float32Array(128));e.push(a)}return e},eC=(s,t)=>{const e=sl(iy,s),i=ci(t);return sl(e,i)},nC=async(s,t,e,i,a,l,u)=>{const g=t===null?Math.ceil(s.context.length/128)*128:t.length,y=i.channelCount*i.numberOfInputs,v=a.reduce((H,j)=>H+j,0),E=v===0?null:e.createBuffer(v,g,e.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const A=Yr(s),C=await eC(e,s),N=kp(i.numberOfInputs,i.channelCount),L=kp(i.numberOfOutputs,a),Z=Array.from(s.parameters.keys()).reduce((H,j)=>({...H,[j]:new Float32Array(128)}),{});for(let H=0;H<g;H+=128){if(i.numberOfInputs>0&&t!==null)for(let j=0;j<i.numberOfInputs;j+=1)for(let lt=0;lt<i.channelCount;lt+=1)Ip(t,N[j],lt,lt,H);l.parameterDescriptors!==void 0&&t!==null&&l.parameterDescriptors.forEach(({name:j},lt)=>{Ip(t,Z,j,y+lt,H)});for(let j=0;j<i.numberOfInputs;j+=1)for(let lt=0;lt<a[j];lt+=1)L[j][lt].byteLength===0&&(L[j][lt]=new Float32Array(128));try{const j=N.map((st,pt)=>A.activeInputs[pt].size===0?[]:st),lt=u(H/e.sampleRate,e.sampleRate,()=>C.process(j,L,Z));if(E!==null)for(let st=0,pt=0;st<i.numberOfOutputs;st+=1){for(let J=0;J<a[st];J+=1)lb(E,L[st],J,pt+J,H);pt+=a[st]}if(!lt)break}catch(j){s.dispatchEvent(new ErrorEvent("processorerror",{colno:j.colno,filename:j.filename,lineno:j.lineno,message:j.message}));break}}return E},iC=(s,t,e,i,a,l,u,g,y,v,E,A,C,N,L,Z)=>(H,j,lt)=>{const st=new WeakMap;let pt=null;const J=async(rt,V)=>{let I=E(rt),P=null;const U=br(I,V),z=Array.isArray(j.outputChannelCount)?j.outputChannelCount:Array.from(j.outputChannelCount);if(A===null){const Q=z.reduce((Y,et)=>Y+et,0),X=a(V,{channelCount:Math.max(1,Q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,Q)}),Pt=[];for(let Y=0;Y<rt.numberOfOutputs;Y+=1)Pt.push(i(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:z[Y]}));const mt=u(V,{channelCount:j.channelCount,channelCountMode:j.channelCountMode,channelInterpretation:j.channelInterpretation,gain:1});mt.connect=t.bind(null,Pt),mt.disconnect=y.bind(null,Pt),P=[X,Pt,mt]}else U||(I=new A(V,H));if(st.set(V,P===null?I:P[2]),P!==null){if(pt===null){if(lt===void 0)throw new Error("Missing the processor constructor.");if(C===null)throw new Error("Missing the native OfflineAudioContext constructor.");const et=rt.channelCount*rt.numberOfInputs,bt=lt.parameterDescriptors===void 0?0:lt.parameterDescriptors.length,xt=et+bt;pt=nC(rt,xt===0?null:await(async()=>{const K=new C(xt,Math.ceil(rt.context.length/128)*128,V.sampleRate),dt=[],ft=[];for(let Vt=0;Vt<j.numberOfInputs;Vt+=1)dt.push(u(K,{channelCount:j.channelCount,channelCountMode:j.channelCountMode,channelInterpretation:j.channelInterpretation,gain:1})),ft.push(a(K,{channelCount:j.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:j.channelCount}));const It=await Promise.all(Array.from(rt.parameters.values()).map(async Vt=>{const ce=l(K,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Vt.value});return await N(K,Vt,ce.offset),ce})),_t=i(K,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,et+bt)});for(let Vt=0;Vt<j.numberOfInputs;Vt+=1){dt[Vt].connect(ft[Vt]);for(let ce=0;ce<j.channelCount;ce+=1)ft[Vt].connect(_t,ce,Vt*j.channelCount+ce)}for(const[Vt,ce]of It.entries())ce.connect(_t,0,et+Vt),ce.start(0);return _t.connect(K.destination),await Promise.all(dt.map(Vt=>L(rt,K,Vt))),Z(K)})(),V,j,z,lt,v)}const Q=await pt,X=e(V,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Pt,mt,Y]=P;Q!==null&&(X.buffer=Q,X.start(0)),X.connect(Pt);for(let et=0,bt=0;et<rt.numberOfOutputs;et+=1){const xt=mt[et];for(let F=0;F<z[et];F+=1)Pt.connect(xt,bt+F,F);bt+=z[et]}return Y}if(U)for(const[Q,X]of rt.parameters.entries())await s(V,X,I.parameters.get(Q));else for(const[Q,X]of rt.parameters.entries())await N(V,X,I.parameters.get(Q));return await L(rt,V,I),I};return{render(rt,V){g(V,rt);const I=st.get(V);return I!==void 0?Promise.resolve(I):J(rt,V)}}},sC=(s,t,e,i,a,l,u,g,y,v,E,A,C,N,L,Z,H,j,lt,st)=>class extends L{constructor(J,rt){super(J,rt),this._nativeContext=J,this._audioWorklet=s===void 0?void 0:{addModule:(V,I)=>s(this,V,I)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new a(this)}createBuffer(J,rt,V){return new e({length:rt,numberOfChannels:J,sampleRate:V})}createBufferSource(){return new i(this)}createChannelMerger(J=6){return new l(this,{numberOfInputs:J})}createChannelSplitter(J=6){return new u(this,{numberOfOutputs:J})}createConstantSource(){return new g(this)}createConvolver(){return new y(this)}createDelay(J=1){return new E(this,{maxDelayTime:J})}createDynamicsCompressor(){return new A(this)}createGain(){return new C(this)}createIIRFilter(J,rt){return new N(this,{feedback:rt,feedforward:J})}createOscillator(){return new Z(this)}createPanner(){return new H(this)}createPeriodicWave(J,rt,V={disableNormalization:!1}){return new j(this,{...V,imag:rt,real:J})}createStereoPanner(){return new lt(this)}createWaveShaper(){return new st(this)}decodeAudioData(J,rt,V){return v(this._nativeContext,J).then(I=>(typeof rt=="function"&&rt(I),I),I=>{throw typeof V=="function"&&V(I),I})}},rC={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},aC=(s,t,e,i,a,l,u,g)=>class extends s{constructor(v,E){const A=l(v),C={...rC,...E},N=a(A,C),L=u(A),Z=L?e():null;super(v,!1,N,Z),this._Q=t(this,L,N.Q,Hr,da),this._detune=t(this,L,N.detune,1200*Math.log2(Hr),-1200*Math.log2(Hr)),this._frequency=t(this,L,N.frequency,v.sampleRate/2,0),this._gain=t(this,L,N.gain,40*Math.log10(Hr),da),this._nativeBiquadFilterNode=N,g(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(v){this._nativeBiquadFilterNode.type=v}getFrequencyResponse(v,E,A){try{this._nativeBiquadFilterNode.getFrequencyResponse(v,E,A)}catch(C){throw C.code===11?i():C}if(v.length!==E.length||E.length!==A.length)throw i()}},oC=(s,t,e,i,a)=>()=>{const l=new WeakMap,u=async(g,y)=>{let v=e(g);const E=br(v,y);if(!E){const A={Q:v.Q.value,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,detune:v.detune.value,frequency:v.frequency.value,gain:v.gain.value,type:v.type};v=t(y,A)}return l.set(y,v),E?(await s(y,g.Q,v.Q),await s(y,g.detune,v.detune),await s(y,g.frequency,v.frequency),await s(y,g.gain,v.gain)):(await i(y,g.Q,v.Q),await i(y,g.detune,v.detune),await i(y,g.frequency,v.frequency),await i(y,g.gain,v.gain)),await a(g,y,v),v};return{render(g,y){const v=l.get(y);return v!==void 0?Promise.resolve(v):u(g,y)}}},lC=(s,t)=>(e,i)=>{const a=t.get(e);if(a!==void 0)return a;const l=s.get(e);if(l!==void 0)return l;try{const u=i();return u instanceof Promise?(s.set(e,u),u.catch(()=>!1).then(g=>(s.delete(e),t.set(e,g),g))):(t.set(e,u),u)}catch{return t.set(e,!1),!1}},cC={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},uC=(s,t,e,i,a)=>class extends s{constructor(u,g){const y=i(u),v={...cC,...g},E=e(y,v),A=a(y)?t():null;super(u,!1,E,A)}},hC=(s,t,e)=>()=>{const i=new WeakMap,a=async(l,u)=>{let g=t(l);if(!br(g,u)){const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,numberOfInputs:g.numberOfInputs};g=s(u,v)}return i.set(u,g),await e(l,u,g),g};return{render(l,u){const g=i.get(u);return g!==void 0?Promise.resolve(g):a(l,u)}}},fC={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},dC=(s,t,e,i,a,l)=>class extends s{constructor(g,y){const v=i(g),E=l({...fC,...y}),A=e(v,E),C=a(v)?t():null;super(g,!1,A,C)}},gC=(s,t,e)=>()=>{const i=new WeakMap,a=async(l,u)=>{let g=t(l);if(!br(g,u)){const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,numberOfOutputs:g.numberOfOutputs};g=s(u,v)}return i.set(u,g),await e(l,u,g),g};return{render(l,u){const g=i.get(u);return g!==void 0?Promise.resolve(g):a(l,u)}}},pC=s=>(t,e,i)=>s(e,t,i),mC=s=>(t,e,i=0,a=0)=>{const l=t[i];if(l===void 0)throw s();return Mp(e)?l.connect(e,0,a):l.connect(e,0)},_C=s=>(t,e)=>{const i=s(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=t.createBuffer(1,2,44100);return i.buffer=a,i.loop=!0,i.connect(e),i.start(),()=>{i.stop(),i.disconnect(e)}},yC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},vC=(s,t,e,i,a,l,u)=>class extends s{constructor(y,v){const E=a(y),A={...yC,...v},C=i(E,A),N=l(E),L=N?e():null;super(y,!1,C,L),this._constantSourceNodeRenderer=L,this._nativeConstantSourceNode=C,this._offset=t(this,N,C.offset,Hr,da),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(y){const v=typeof y=="function"?u(this,y):null;this._nativeConstantSourceNode.onended=v;const E=this._nativeConstantSourceNode.onended;this._onended=E!==null&&E===v?y:E}start(y=0){if(this._nativeConstantSourceNode.start(y),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=y),this.context.state!=="closed"){_f(this);const v=()=>{this._nativeConstantSourceNode.removeEventListener("ended",v),Tc(this)&&rg(this)};this._nativeConstantSourceNode.addEventListener("ended",v)}}stop(y=0){this._nativeConstantSourceNode.stop(y),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=y)}},TC=(s,t,e,i,a)=>()=>{const l=new WeakMap;let u=null,g=null;const y=async(v,E)=>{let A=e(v);const C=br(A,E);if(!C){const N={channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,offset:A.offset.value};A=t(E,N),u!==null&&A.start(u),g!==null&&A.stop(g)}return l.set(E,A),C?await s(E,v.offset,A.offset):await i(E,v.offset,A.offset),await a(v,E,A),A};return{set start(v){u=v},set stop(v){g=v},render(v,E){const A=l.get(E);return A!==void 0?Promise.resolve(A):y(v,E)}}},wC=s=>t=>(s[0]=t,s[0]),bC={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},EC=(s,t,e,i,a,l)=>class extends s{constructor(g,y){const v=i(g),E={...bC,...y},A=e(v,E),N=a(v)?t():null;super(g,!1,A,N),this._isBufferNullified=!1,this._nativeConvolverNode=A,E.buffer!==null&&l(this,E.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(g){if(this._nativeConvolverNode.buffer=g,g===null&&this._nativeConvolverNode.buffer!==null){const y=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=y.createBuffer(1,1,y.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(g){this._nativeConvolverNode.normalize=g}},SC=(s,t,e)=>()=>{const i=new WeakMap,a=async(l,u)=>{let g=t(l);if(!br(g,u)){const v={buffer:g.buffer,channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,disableNormalization:!g.normalize};g=s(u,v)}return i.set(u,g),Mf(g)?await e(l,u,g.inputs[0]):await e(l,u,g),g};return{render(l,u){const g=i.get(u);return g!==void 0?Promise.resolve(g):a(l,u)}}},AC=(s,t)=>(e,i,a)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(e,i,a)}catch(l){throw l.name==="SyntaxError"?s():l}},CC=()=>new DOMException("","DataCloneError"),pT=s=>{const{port1:t,port2:e}=new MessageChannel;return new Promise(i=>{const a=()=>{e.onmessage=null,t.close(),e.close(),i()};e.onmessage=()=>a();try{t.postMessage(s,[s])}catch{}finally{a()}})},xC=(s,t,e,i,a,l,u,g,y,v,E)=>(A,C)=>{const N=u(A)?A:l(A);if(a.has(C)){const L=e();return Promise.reject(L)}try{a.add(C)}catch{}return t(y,()=>y(N))?N.decodeAudioData(C).then(L=>(pT(C).catch(()=>{}),t(g,()=>g(L))||E(L),s.add(L),L)):new Promise((L,Z)=>{const H=async()=>{try{await pT(C)}catch{}},j=lt=>{Z(lt),H()};try{N.decodeAudioData(C,lt=>{typeof lt.copyFromChannel!="function"&&(v(lt),Py(lt)),s.add(lt),H().then(()=>L(lt))},lt=>{j(lt===null?i():lt)})}catch(lt){j(lt)}})},RC=(s,t,e,i,a,l,u,g)=>(y,v)=>{const E=t.get(y);if(E===void 0)throw new Error("Missing the expected cycle count.");const A=l(y.context),C=g(A);if(E===v){if(t.delete(y),!C&&u(y)){const N=i(y),{outputs:L}=e(y);for(const Z of L)if(og(Z)){const H=i(Z[0]);s(N,H,Z[1],Z[2])}else{const H=a(Z[0]);N.connect(H,Z[1])}}}else t.set(y,E-v)},MC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},IC=(s,t,e,i,a,l,u)=>class extends s{constructor(y,v){const E=a(y),A={...MC,...v},C=i(E,A),N=l(E),L=N?e(A.maxDelayTime):null;super(y,!1,C,L),this._delayTime=t(this,N,C.delayTime),u(this,A.maxDelayTime)}get delayTime(){return this._delayTime}},kC=(s,t,e,i,a)=>l=>{const u=new WeakMap,g=async(y,v)=>{let E=e(y);const A=br(E,v);if(!A){const C={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,delayTime:E.delayTime.value,maxDelayTime:l};E=t(v,C)}return u.set(v,E),A?await s(v,y.delayTime,E.delayTime):await i(v,y.delayTime,E.delayTime),await a(y,v,E),E};return{render(y,v){const E=u.get(v);return E!==void 0?Promise.resolve(E):g(y,v)}}},DC=s=>(t,e,i,a)=>s(t[a],l=>l[0]===e&&l[1]===i),OC=s=>(t,e)=>{s(t).delete(e)},NC=s=>"delayTime"in s,PC=(s,t,e)=>function i(a,l){const u=Cp(l)?l:e(s,l);if(NC(u))return[];if(a[0]===u)return[a];if(a.includes(u))return[];const{outputs:g}=t(u);return Array.from(g).map(y=>i([...a,u],y[0])).reduce((y,v)=>y.concat(v),[])},ep=(s,t,e)=>{const i=t[e];if(i===void 0)throw s();return i},VC=s=>(t,e=void 0,i=void 0,a=0)=>e===void 0?t.forEach(l=>l.disconnect()):typeof e=="number"?ep(s,t,e).disconnect():Mp(e)?i===void 0?t.forEach(l=>l.disconnect(e)):a===void 0?ep(s,t,i).disconnect(e,0):ep(s,t,i).disconnect(e,0,a):i===void 0?t.forEach(l=>l.disconnect(e)):ep(s,t,i).disconnect(e,0),LC={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},FC=(s,t,e,i,a,l,u,g)=>class extends s{constructor(v,E){const A=l(v),C={...LC,...E},N=i(A,C),L=u(A),Z=L?e():null;super(v,!1,N,Z),this._attack=t(this,L,N.attack),this._knee=t(this,L,N.knee),this._nativeDynamicsCompressorNode=N,this._ratio=t(this,L,N.ratio),this._release=t(this,L,N.release),this._threshold=t(this,L,N.threshold),g(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(v){const E=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=v,v>2)throw this._nativeDynamicsCompressorNode.channelCount=E,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(v){const E=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=v,v==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=E,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},UC=(s,t,e,i,a)=>()=>{const l=new WeakMap,u=async(g,y)=>{let v=e(g);const E=br(v,y);if(!E){const A={attack:v.attack.value,channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,knee:v.knee.value,ratio:v.ratio.value,release:v.release.value,threshold:v.threshold.value};v=t(y,A)}return l.set(y,v),E?(await s(y,g.attack,v.attack),await s(y,g.knee,v.knee),await s(y,g.ratio,v.ratio),await s(y,g.release,v.release),await s(y,g.threshold,v.threshold)):(await i(y,g.attack,v.attack),await i(y,g.knee,v.knee),await i(y,g.ratio,v.ratio),await i(y,g.release,v.release),await i(y,g.threshold,v.threshold)),await a(g,y,v),v};return{render(g,y){const v=l.get(y);return v!==void 0?Promise.resolve(v):u(g,y)}}},BC=()=>new DOMException("","EncodingError"),zC=s=>t=>new Promise((e,i)=>{if(s===null){i(new SyntaxError);return}const a=s.document.head;if(a===null)i(new SyntaxError);else{const l=s.document.createElement("script"),u=new Blob([t],{type:"application/javascript"}),g=URL.createObjectURL(u),y=s.onerror,v=()=>{s.onerror=y,URL.revokeObjectURL(g)};s.onerror=(E,A,C,N,L)=>{if(A===g||A===s.location.href&&C===1&&N===1)return v(),i(L),!1;if(y!==null)return y(E,A,C,N,L)},l.onerror=()=>{v(),i(new SyntaxError)},l.onload=()=>{v(),e()},l.src=g,l.type="module",a.appendChild(l)}}),HC=s=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,i,a){if(i!==null){let l=this._listeners.get(i);l===void 0&&(l=s(this,i),typeof i=="function"&&this._listeners.set(i,l)),this._nativeEventTarget.addEventListener(e,l,a)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,i,a){const l=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(e,l===void 0?null:l,a)}},YC=s=>(t,e,i)=>{Object.defineProperties(s,{currentFrame:{configurable:!0,get(){return Math.round(t*e)}},currentTime:{configurable:!0,get(){return t}}});try{return i()}finally{s!==null&&(delete s.currentFrame,delete s.currentTime)}},GC=s=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw s()},XC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},WC=(s,t,e,i,a,l)=>class extends s{constructor(g,y){const v=a(g),E={...XC,...y},A=i(v,E),C=l(v),N=C?e():null;super(g,!1,A,N),this._gain=t(this,C,A.gain,Hr,da)}get gain(){return this._gain}},qC=(s,t,e,i,a)=>()=>{const l=new WeakMap,u=async(g,y)=>{let v=e(g);const E=br(v,y);if(!E){const A={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:v.gain.value};v=t(y,A)}return l.set(y,v),E?await s(y,g.gain,v.gain):await i(y,g.gain,v.gain),await a(g,y,v),v};return{render(g,y){const v=l.get(y);return v!==void 0?Promise.resolve(v):u(g,y)}}},QC=(s,t)=>e=>t(s,e),ZC=s=>t=>{const e=s(t);if(e.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer},KC=s=>t=>{var e;return(e=s.get(t))!==null&&e!==void 0?e:0},JC=s=>t=>{const e=s(t);if(e.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return e.renderer},jC=s=>t=>s.get(t),Ds=()=>new DOMException("","InvalidStateError"),$C=s=>t=>{const e=s.get(t);if(e===void 0)throw Ds();return e},tx=(s,t)=>e=>{let i=s.get(e);if(i!==void 0)return i;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new t(1,1,44100),s.set(e,i),i},ex=s=>t=>{const e=s.get(t);if(e===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return e},nm=()=>new DOMException("","InvalidAccessError"),nx=s=>{s.getFrequencyResponse=(t=>(e,i,a)=>{if(e.length!==i.length||i.length!==a.length)throw nm();return t.call(s,e,i,a)})(s.getFrequencyResponse)},ix={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},sx=(s,t,e,i,a,l)=>class extends s{constructor(g,y){const v=i(g),E=a(v),A={...ix,...y},C=t(v,E?null:g.baseLatency,A),N=E?e(A.feedback,A.feedforward):null;super(g,!1,C,N),nx(C),this._nativeIIRFilterNode=C,l(this,1)}getFrequencyResponse(g,y,v){return this._nativeIIRFilterNode.getFrequencyResponse(g,y,v)}},cb=(s,t,e,i,a,l,u,g,y,v,E)=>{const A=v.length;let C=g;for(let N=0;N<A;N+=1){let L=e[0]*v[N];for(let Z=1;Z<a;Z+=1){const H=C-Z&y-1;L+=e[Z]*l[H],L-=s[Z]*u[H]}for(let Z=a;Z<i;Z+=1)L+=e[Z]*l[C-Z&y-1];for(let Z=a;Z<t;Z+=1)L-=s[Z]*u[C-Z&y-1];l[C]=v[N],u[C]=L,C=C+1&y-1,E[N]=L}return C},rx=(s,t,e,i)=>{const a=e instanceof Float64Array?e:new Float64Array(e),l=i instanceof Float64Array?i:new Float64Array(i),u=a.length,g=l.length,y=Math.min(u,g);if(a[0]!==1){for(let L=0;L<u;L+=1)l[L]/=a[0];for(let L=1;L<g;L+=1)a[L]/=a[0]}const v=32,E=new Float32Array(v),A=new Float32Array(v),C=t.createBuffer(s.numberOfChannels,s.length,s.sampleRate),N=s.numberOfChannels;for(let L=0;L<N;L+=1){const Z=s.getChannelData(L),H=C.getChannelData(L);E.fill(0),A.fill(0),cb(a,u,l,g,y,E,A,0,v,Z,H)}return C},ax=(s,t,e,i,a)=>(l,u)=>{const g=new WeakMap;let y=null;const v=async(E,A)=>{let C=null,N=t(E);const L=br(N,A);if(A.createIIRFilter===void 0?C=s(A,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):L||(N=A.createIIRFilter(u,l)),g.set(A,C===null?N:C),C!==null){if(y===null){if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");const H=new e(E.context.destination.channelCount,E.context.length,A.sampleRate);y=(async()=>{await i(E,H,H.destination);const j=await a(H);return rx(j,A,l,u)})()}const Z=await y;return C.buffer=Z,C.start(0),C}return await i(E,A,N),N};return{render(E,A){const C=g.get(A);return C!==void 0?Promise.resolve(C):v(E,A)}}},ox=(s,t,e,i,a,l)=>u=>(g,y)=>{const v=s.get(g);if(v===void 0){if(!u&&l(g)){const E=i(g),{outputs:A}=e(g);for(const C of A)if(og(C)){const N=i(C[0]);t(E,N,C[1],C[2])}else{const N=a(C[0]);E.disconnect(N,C[1])}}s.set(g,y)}else s.set(g,v+y)},lx=(s,t)=>e=>{const i=s.get(e);return t(i)||t(e)},cx=(s,t)=>e=>s.has(e)||t(e),ux=(s,t)=>e=>s.has(e)||t(e),hx=(s,t)=>e=>{const i=s.get(e);return t(i)||t(e)},fx=s=>t=>s!==null&&t instanceof s,dx=s=>t=>s!==null&&typeof s.AudioNode=="function"&&t instanceof s.AudioNode,gx=s=>t=>s!==null&&typeof s.AudioParam=="function"&&t instanceof s.AudioParam,px=(s,t)=>e=>s(e)||t(e),mx=s=>t=>s!==null&&t instanceof s,_x=s=>s!==null&&s.isSecureContext,yx=(s,t,e,i)=>class extends s{constructor(l,u){const g=e(l),y=t(g,u);if(i(g))throw TypeError();super(l,!0,y,null),this._nativeMediaElementAudioSourceNode=y}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},vx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Tx=(s,t,e,i)=>class extends s{constructor(l,u){const g=e(l);if(i(g))throw new TypeError;const y={...vx,...u},v=t(g,y);super(l,!1,v,null),this._nativeMediaStreamAudioDestinationNode=v}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},wx=(s,t,e,i)=>class extends s{constructor(l,u){const g=e(l),y=t(g,u);if(i(g))throw new TypeError;super(l,!0,y,null),this._nativeMediaStreamAudioSourceNode=y}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},bx=(s,t,e)=>class extends s{constructor(a,l){const u=e(a),g=t(u,l);super(a,!0,g,null)}},Ex=(s,t,e,i,a,l)=>class extends e{constructor(g,y){super(g),this._nativeContext=g,tm.set(this,g),i(g)&&a.set(g,new Set),this._destination=new s(this,y),this._listener=t(this,g),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(g){const y=typeof g=="function"?l(this,g):null;this._nativeContext.onstatechange=y;const v=this._nativeContext.onstatechange;this._onstatechange=v!==null&&v===y?g:v}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Hd=s=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const e=s.decodeAudioData(t.buffer,()=>{});return e===void 0?!1:(e.catch(()=>{}),!0)}catch{}return!1},Sx=(s,t)=>(e,i,a)=>{const l=new Set;return e.connect=(u=>(g,y=0,v=0)=>{const E=l.size===0;if(t(g))return u.call(e,g,y,v),s(l,[g,y,v],A=>A[0]===g&&A[1]===y&&A[2]===v,!0),E&&i(),g;u.call(e,g,y),s(l,[g,y],A=>A[0]===g&&A[1]===y,!0),E&&i()})(e.connect),e.disconnect=(u=>(g,y,v)=>{const E=l.size>0;if(g===void 0)u.apply(e),l.clear();else if(typeof g=="number"){u.call(e,g);for(const C of l)C[1]===g&&l.delete(C)}else{t(g)?u.call(e,g,y,v):u.call(e,g,y);for(const C of l)C[0]===g&&(y===void 0||C[1]===y)&&(v===void 0||C[2]===v)&&l.delete(C)}const A=l.size===0;E&&A&&a()})(e.disconnect),e},yi=(s,t,e)=>{const i=t[e];i!==void 0&&i!==s[e]&&(s[e]=i)},_s=(s,t)=>{yi(s,t,"channelCount"),yi(s,t,"channelCountMode"),yi(s,t,"channelInterpretation")},mT=s=>typeof s.getFloatTimeDomainData=="function",Ax=s=>{s.getFloatTimeDomainData=t=>{const e=new Uint8Array(t.length);s.getByteTimeDomainData(e);const i=Math.max(e.length,s.fftSize);for(let a=0;a<i;a+=1)t[a]=(e[a]-128)*.0078125;return t}},Cx=(s,t)=>(e,i)=>{const a=e.createAnalyser();if(_s(a,i),!(i.maxDecibels>i.minDecibels))throw t();return yi(a,i,"fftSize"),yi(a,i,"maxDecibels"),yi(a,i,"minDecibels"),yi(a,i,"smoothingTimeConstant"),s(mT,()=>mT(a))||Ax(a),a},xx=s=>s===null?null:s.hasOwnProperty("AudioBuffer")?s.AudioBuffer:null,Pi=(s,t,e)=>{const i=t[e];i!==void 0&&i!==s[e].value&&(s[e].value=i)},Rx=s=>{s.start=(t=>{let e=!1;return(i=0,a=0,l)=>{if(e)throw Ds();t.call(s,i,a,l),e=!0}})(s.start)},Fy=s=>{s.start=(t=>(e=0,i=0,a)=>{if(typeof a=="number"&&a<0||i<0||e<0)throw new RangeError("The parameters can't be negative.");t.call(s,e,i,a)})(s.start)},Uy=s=>{s.stop=(t=>(e=0)=>{if(e<0)throw new RangeError("The parameter can't be negative.");t.call(s,e)})(s.stop)},Mx=(s,t,e,i,a,l,u,g,y,v,E)=>(A,C)=>{const N=A.createBufferSource();return _s(N,C),Pi(N,C,"playbackRate"),yi(N,C,"buffer"),yi(N,C,"loop"),yi(N,C,"loopEnd"),yi(N,C,"loopStart"),t(e,()=>e(A))||Rx(N),t(i,()=>i(A))||y(N),t(a,()=>a(A))||v(N,A),t(l,()=>l(A))||Fy(N),t(u,()=>u(A))||E(N,A),t(g,()=>g(A))||Uy(N),s(A,N),N},Ix=s=>s===null?null:s.hasOwnProperty("AudioContext")?s.AudioContext:s.hasOwnProperty("webkitAudioContext")?s.webkitAudioContext:null,kx=(s,t)=>(e,i,a)=>{const l=e.destination;if(l.channelCount!==i)try{l.channelCount=i}catch{}a&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:i});const u=s(e,{channelCount:i,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return t(u,"channelCount",g=>()=>g.call(u),g=>y=>{g.call(u,y);try{l.channelCount=y}catch(v){if(y>l.maxChannelCount)throw v}}),t(u,"channelCountMode",g=>()=>g.call(u),g=>y=>{g.call(u,y),l.channelCountMode=y}),t(u,"channelInterpretation",g=>()=>g.call(u),g=>y=>{g.call(u,y),l.channelInterpretation=y}),Object.defineProperty(u,"maxChannelCount",{get:()=>l.maxChannelCount}),u.connect(l),u},Dx=s=>s===null?null:s.hasOwnProperty("AudioWorkletNode")?s.AudioWorkletNode:null,Ox=s=>{const{port1:t}=new MessageChannel;try{t.postMessage(s)}finally{t.close()}},Nx=(s,t,e,i,a)=>(l,u,g,y,v,E)=>{if(g!==null)try{const A=new g(l,y,E),C=new Map;let N=null;if(Object.defineProperties(A,{channelCount:{get:()=>E.channelCount,set:()=>{throw s()}},channelCountMode:{get:()=>"explicit",set:()=>{throw s()}},onprocessorerror:{get:()=>N,set:L=>{typeof N=="function"&&A.removeEventListener("processorerror",N),N=typeof L=="function"?L:null,typeof N=="function"&&A.addEventListener("processorerror",N)}}}),A.addEventListener=(L=>(...Z)=>{if(Z[0]==="processorerror"){const H=typeof Z[1]=="function"?Z[1]:typeof Z[1]=="object"&&Z[1]!==null&&typeof Z[1].handleEvent=="function"?Z[1].handleEvent:null;if(H!==null){const j=C.get(Z[1]);j!==void 0?Z[1]=j:(Z[1]=lt=>{lt.type==="error"?(Object.defineProperties(lt,{type:{value:"processorerror"}}),H(lt)):H(new ErrorEvent(Z[0],{...lt}))},C.set(H,Z[1]))}}return L.call(A,"error",Z[1],Z[2]),L.call(A,...Z)})(A.addEventListener),A.removeEventListener=(L=>(...Z)=>{if(Z[0]==="processorerror"){const H=C.get(Z[1]);H!==void 0&&(C.delete(Z[1]),Z[1]=H)}return L.call(A,"error",Z[1],Z[2]),L.call(A,Z[0],Z[1],Z[2])})(A.removeEventListener),E.numberOfOutputs!==0){const L=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return A.connect(L).connect(l.destination),a(A,()=>L.disconnect(),()=>L.connect(l.destination))}return A}catch(A){throw A.code===11?i():A}if(v===void 0)throw i();return Ox(E),t(l,u,v,E)},ub=(s,t)=>s===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(s*t))))),Px=s=>new Promise((t,e)=>{const{port1:i,port2:a}=new MessageChannel;i.onmessage=({data:l})=>{i.close(),a.close(),t(l)},i.onmessageerror=({data:l})=>{i.close(),a.close(),e(l)},a.postMessage(s)}),Vx=async(s,t)=>{const e=await Px(t);return new s(e)},Lx=(s,t,e,i)=>{let a=iy.get(s);a===void 0&&(a=new WeakMap,iy.set(s,a));const l=Vx(e,i);return a.set(t,l),l},Fx=(s,t,e,i,a,l,u,g,y,v,E,A,C)=>(N,L,Z,H)=>{if(H.numberOfInputs===0&&H.numberOfOutputs===0)throw y();const j=Array.isArray(H.outputChannelCount)?H.outputChannelCount:Array.from(H.outputChannelCount);if(j.some(Mt=>Mt<1))throw y();if(j.length!==H.numberOfOutputs)throw t();if(H.channelCountMode!=="explicit")throw y();const lt=H.channelCount*H.numberOfInputs,st=j.reduce((Mt,kt)=>Mt+kt,0),pt=Z.parameterDescriptors===void 0?0:Z.parameterDescriptors.length;if(lt+pt>6||st>6)throw y();const J=new MessageChannel,rt=[],V=[];for(let Mt=0;Mt<H.numberOfInputs;Mt+=1)rt.push(u(N,{channelCount:H.channelCount,channelCountMode:H.channelCountMode,channelInterpretation:H.channelInterpretation,gain:1})),V.push(a(N,{channelCount:H.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:H.channelCount}));const I=[];if(Z.parameterDescriptors!==void 0)for(const{defaultValue:Mt,maxValue:kt,minValue:Qt,name:Gt}of Z.parameterDescriptors){const Zt=l(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:H.parameterData[Gt]!==void 0?H.parameterData[Gt]:Mt===void 0?0:Mt});Object.defineProperties(Zt.offset,{defaultValue:{get:()=>Mt===void 0?0:Mt},maxValue:{get:()=>kt===void 0?Hr:kt},minValue:{get:()=>Qt===void 0?da:Qt}}),I.push(Zt)}const P=i(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,lt+pt)}),U=ub(L,N.sampleRate),z=g(N,U,lt+pt,Math.max(1,st)),Q=a(N,{channelCount:Math.max(1,st),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,st)}),X=[];for(let Mt=0;Mt<H.numberOfOutputs;Mt+=1)X.push(i(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:j[Mt]}));for(let Mt=0;Mt<H.numberOfInputs;Mt+=1){rt[Mt].connect(V[Mt]);for(let kt=0;kt<H.channelCount;kt+=1)V[Mt].connect(P,kt,Mt*H.channelCount+kt)}const Pt=new ob(Z.parameterDescriptors===void 0?[]:Z.parameterDescriptors.map(({name:Mt},kt)=>{const Qt=I[kt];return Qt.connect(P,0,lt+kt),Qt.start(0),[Mt,Qt.offset]}));P.connect(z);let mt=H.channelInterpretation,Y=null;const et=H.numberOfOutputs===0?[z]:X,bt={get bufferSize(){return U},get channelCount(){return H.channelCount},set channelCount(Mt){throw e()},get channelCountMode(){return H.channelCountMode},set channelCountMode(Mt){throw e()},get channelInterpretation(){return mt},set channelInterpretation(Mt){for(const kt of rt)kt.channelInterpretation=Mt;mt=Mt},get context(){return z.context},get inputs(){return rt},get numberOfInputs(){return H.numberOfInputs},get numberOfOutputs(){return H.numberOfOutputs},get onprocessorerror(){return Y},set onprocessorerror(Mt){typeof Y=="function"&&bt.removeEventListener("processorerror",Y),Y=typeof Mt=="function"?Mt:null,typeof Y=="function"&&bt.addEventListener("processorerror",Y)},get parameters(){return Pt},get port(){return J.port2},addEventListener(...Mt){return z.addEventListener(Mt[0],Mt[1],Mt[2])},connect:s.bind(null,et),disconnect:v.bind(null,et),dispatchEvent(...Mt){return z.dispatchEvent(Mt[0])},removeEventListener(...Mt){return z.removeEventListener(Mt[0],Mt[1],Mt[2])}},xt=new Map;J.port1.addEventListener=(Mt=>(...kt)=>{if(kt[0]==="message"){const Qt=typeof kt[1]=="function"?kt[1]:typeof kt[1]=="object"&&kt[1]!==null&&typeof kt[1].handleEvent=="function"?kt[1].handleEvent:null;if(Qt!==null){const Gt=xt.get(kt[1]);Gt!==void 0?kt[1]=Gt:(kt[1]=Zt=>{E(N.currentTime,N.sampleRate,()=>Qt(Zt))},xt.set(Qt,kt[1]))}}return Mt.call(J.port1,kt[0],kt[1],kt[2])})(J.port1.addEventListener),J.port1.removeEventListener=(Mt=>(...kt)=>{if(kt[0]==="message"){const Qt=xt.get(kt[1]);Qt!==void 0&&(xt.delete(kt[1]),kt[1]=Qt)}return Mt.call(J.port1,kt[0],kt[1],kt[2])})(J.port1.removeEventListener);let F=null;Object.defineProperty(J.port1,"onmessage",{get:()=>F,set:Mt=>{typeof F=="function"&&J.port1.removeEventListener("message",F),F=typeof Mt=="function"?Mt:null,typeof F=="function"&&(J.port1.addEventListener("message",F),J.port1.start())}}),Z.prototype.port=J.port1;let K=null;Lx(N,bt,Z,H).then(Mt=>K=Mt);const ft=kp(H.numberOfInputs,H.channelCount),It=kp(H.numberOfOutputs,j),_t=Z.parameterDescriptors===void 0?[]:Z.parameterDescriptors.reduce((Mt,{name:kt})=>({...Mt,[kt]:new Float32Array(128)}),{});let Vt=!0;const ce=()=>{H.numberOfOutputs>0&&z.disconnect(Q);for(let Mt=0,kt=0;Mt<H.numberOfOutputs;Mt+=1){const Qt=X[Mt];for(let Gt=0;Gt<j[Mt];Gt+=1)Q.disconnect(Qt,kt+Gt,Gt);kt+=j[Mt]}},Bt=new Map;z.onaudioprocess=({inputBuffer:Mt,outputBuffer:kt})=>{if(K!==null){const Qt=A(bt);for(let Gt=0;Gt<U;Gt+=128){for(let Zt=0;Zt<H.numberOfInputs;Zt+=1)for(let Jt=0;Jt<H.channelCount;Jt+=1)Ip(Mt,ft[Zt],Jt,Jt,Gt);Z.parameterDescriptors!==void 0&&Z.parameterDescriptors.forEach(({name:Zt},Jt)=>{Ip(Mt,_t,Zt,lt+Jt,Gt)});for(let Zt=0;Zt<H.numberOfInputs;Zt+=1)for(let Jt=0;Jt<j[Zt];Jt+=1)It[Zt][Jt].byteLength===0&&(It[Zt][Jt]=new Float32Array(128));try{const Zt=ft.map((xe,Ae)=>{if(Qt[Ae].size>0)return Bt.set(Ae,U/128),xe;const as=Bt.get(Ae);return as===void 0?[]:(xe.every(Er=>Er.every(Re=>Re===0))&&(as===1?Bt.delete(Ae):Bt.set(Ae,as-1)),xe)});Vt=E(N.currentTime+Gt/N.sampleRate,N.sampleRate,()=>K.process(Zt,It,_t));for(let xe=0,Ae=0;xe<H.numberOfOutputs;xe+=1){for(let He=0;He<j[xe];He+=1)lb(kt,It[xe],He,Ae+He,Gt);Ae+=j[xe]}}catch(Zt){Vt=!1,bt.dispatchEvent(new ErrorEvent("processorerror",{colno:Zt.colno,filename:Zt.filename,lineno:Zt.lineno,message:Zt.message}))}if(!Vt){for(let Zt=0;Zt<H.numberOfInputs;Zt+=1){rt[Zt].disconnect(V[Zt]);for(let Jt=0;Jt<H.channelCount;Jt+=1)V[Gt].disconnect(P,Jt,Zt*H.channelCount+Jt)}if(Z.parameterDescriptors!==void 0){const Zt=Z.parameterDescriptors.length;for(let Jt=0;Jt<Zt;Jt+=1){const xe=I[Jt];xe.disconnect(P,0,lt+Jt),xe.stop()}}P.disconnect(z),z.onaudioprocess=null,hn?ce():le();break}}}};let hn=!1;const Dn=u(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),We=()=>z.connect(Dn).connect(N.destination),le=()=>{z.disconnect(Dn),Dn.disconnect()},rs=()=>{if(Vt){le(),H.numberOfOutputs>0&&z.connect(Q);for(let Mt=0,kt=0;Mt<H.numberOfOutputs;Mt+=1){const Qt=X[Mt];for(let Gt=0;Gt<j[Mt];Gt+=1)Q.connect(Qt,kt+Gt,Gt);kt+=j[Mt]}}hn=!0},Wi=()=>{Vt&&(We(),ce()),hn=!1};return We(),C(bt,rs,Wi)},hb=(s,t)=>{const e=s.createBiquadFilter();return _s(e,t),Pi(e,t,"Q"),Pi(e,t,"detune"),Pi(e,t,"frequency"),Pi(e,t,"gain"),yi(e,t,"type"),e},Ux=(s,t)=>(e,i)=>{const a=e.createChannelMerger(i.numberOfInputs);return s!==null&&s.name==="webkitAudioContext"&&t(e,a),_s(a,i),a},Bx=s=>{const t=s.numberOfOutputs;Object.defineProperty(s,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Ds()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:e=>{if(e!=="explicit")throw Ds()}}),Object.defineProperty(s,"channelInterpretation",{get:()=>"discrete",set:e=>{if(e!=="discrete")throw Ds()}})},lg=(s,t)=>{const e=s.createChannelSplitter(t.numberOfOutputs);return _s(e,t),Bx(e),e},zx=(s,t,e,i,a)=>(l,u)=>{if(l.createConstantSource===void 0)return e(l,u);const g=l.createConstantSource();return _s(g,u),Pi(g,u,"offset"),t(i,()=>i(l))||Fy(g),t(a,()=>a(l))||Uy(g),s(l,g),g},If=(s,t)=>(s.connect=t.connect.bind(t),s.disconnect=t.disconnect.bind(t),s),Hx=(s,t,e,i)=>(a,{offset:l,...u})=>{const g=a.createBuffer(1,2,44100),y=t(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),v=e(a,{...u,gain:l}),E=g.getChannelData(0);E[0]=1,E[1]=1,y.buffer=g,y.loop=!0;const A={get bufferSize(){},get channelCount(){return v.channelCount},set channelCount(L){v.channelCount=L},get channelCountMode(){return v.channelCountMode},set channelCountMode(L){v.channelCountMode=L},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(L){v.channelInterpretation=L},get context(){return v.context},get inputs(){return[]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get offset(){return v.gain},get onended(){return y.onended},set onended(L){y.onended=L},addEventListener(...L){return y.addEventListener(L[0],L[1],L[2])},dispatchEvent(...L){return y.dispatchEvent(L[0])},removeEventListener(...L){return y.removeEventListener(L[0],L[1],L[2])},start(L=0){y.start.call(y,L)},stop(L=0){y.stop.call(y,L)}},C=()=>y.connect(v),N=()=>y.disconnect(v);return s(a,y),i(If(A,v),C,N)},Yx=(s,t)=>(e,i)=>{const a=e.createConvolver();if(_s(a,i),i.disableNormalization===a.normalize&&(a.normalize=!i.disableNormalization),yi(a,i,"buffer"),i.channelCount>2||(t(a,"channelCount",l=>()=>l.call(a),l=>u=>{if(u>2)throw s();return l.call(a,u)}),i.channelCountMode==="max"))throw s();return t(a,"channelCountMode",l=>()=>l.call(a),l=>u=>{if(u==="max")throw s();return l.call(a,u)}),a},fb=(s,t)=>{const e=s.createDelay(t.maxDelayTime);return _s(e,t),Pi(e,t,"delayTime"),e},Gx=s=>(t,e)=>{const i=t.createDynamicsCompressor();if(_s(i,e),e.channelCount>2||e.channelCountMode==="max")throw s();return Pi(i,e,"attack"),Pi(i,e,"knee"),Pi(i,e,"ratio"),Pi(i,e,"release"),Pi(i,e,"threshold"),i},pa=(s,t)=>{const e=s.createGain();return _s(e,t),Pi(e,t,"gain"),e},Xx=s=>(t,e,i)=>{if(t.createIIRFilter===void 0)return s(t,e,i);const a=t.createIIRFilter(i.feedforward,i.feedback);return _s(a,i),a};function Wx(s,t){const e=t[0]*t[0]+t[1]*t[1];return[(s[0]*t[0]+s[1]*t[1])/e,(s[1]*t[0]-s[0]*t[1])/e]}function qx(s,t){return[s[0]*t[0]-s[1]*t[1],s[0]*t[1]+s[1]*t[0]]}function _T(s,t){let e=[0,0];for(let i=s.length-1;i>=0;i-=1)e=qx(e,t),e[0]+=s[i];return e}const Qx=(s,t,e,i)=>(a,l,{channelCount:u,channelCountMode:g,channelInterpretation:y,feedback:v,feedforward:E})=>{const A=ub(l,a.sampleRate),C=v instanceof Float64Array?v:new Float64Array(v),N=E instanceof Float64Array?E:new Float64Array(E),L=C.length,Z=N.length,H=Math.min(L,Z);if(L===0||L>20)throw i();if(C[0]===0)throw t();if(Z===0||Z>20)throw i();if(N[0]===0)throw t();if(C[0]!==1){for(let I=0;I<Z;I+=1)N[I]/=C[0];for(let I=1;I<L;I+=1)C[I]/=C[0]}const j=e(a,A,u,u);j.channelCount=u,j.channelCountMode=g,j.channelInterpretation=y;const lt=32,st=[],pt=[],J=[];for(let I=0;I<u;I+=1){st.push(0);const P=new Float32Array(lt),U=new Float32Array(lt);P.fill(0),U.fill(0),pt.push(P),J.push(U)}j.onaudioprocess=I=>{const P=I.inputBuffer,U=I.outputBuffer,z=P.numberOfChannels;for(let Q=0;Q<z;Q+=1){const X=P.getChannelData(Q),Pt=U.getChannelData(Q);st[Q]=cb(C,L,N,Z,H,pt[Q],J[Q],st[Q],lt,X,Pt)}};const rt=a.sampleRate/2;return If({get bufferSize(){return A},get channelCount(){return j.channelCount},set channelCount(I){j.channelCount=I},get channelCountMode(){return j.channelCountMode},set channelCountMode(I){j.channelCountMode=I},get channelInterpretation(){return j.channelInterpretation},set channelInterpretation(I){j.channelInterpretation=I},get context(){return j.context},get inputs(){return[j]},get numberOfInputs(){return j.numberOfInputs},get numberOfOutputs(){return j.numberOfOutputs},addEventListener(...I){return j.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return j.dispatchEvent(I[0])},getFrequencyResponse(I,P,U){if(I.length!==P.length||P.length!==U.length)throw s();const z=I.length;for(let Q=0;Q<z;Q+=1){const X=-Math.PI*(I[Q]/rt),Pt=[Math.cos(X),Math.sin(X)],mt=_T(N,Pt),Y=_T(C,Pt),et=Wx(mt,Y);P[Q]=Math.sqrt(et[0]*et[0]+et[1]*et[1]),U[Q]=Math.atan2(et[1],et[0])}},removeEventListener(...I){return j.removeEventListener(I[0],I[1],I[2])}},j)},Zx=(s,t)=>s.createMediaElementSource(t.mediaElement),Kx=(s,t)=>{const e=s.createMediaStreamDestination();return _s(e,t),e.numberOfOutputs===1&&Object.defineProperty(e,"numberOfOutputs",{get:()=>0}),e},Jx=(s,{mediaStream:t})=>{const e=t.getAudioTracks();e.sort((l,u)=>l.id<u.id?-1:l.id>u.id?1:0);const i=e.slice(0,1),a=s.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(a,"mediaStream",{value:t}),a},jx=(s,t)=>(e,{mediaStreamTrack:i})=>{if(typeof e.createMediaStreamTrackSource=="function")return e.createMediaStreamTrackSource(i);const a=new MediaStream([i]),l=e.createMediaStreamSource(a);if(i.kind!=="audio")throw s();if(t(e))throw new TypeError;return l},$x=s=>s===null?null:s.hasOwnProperty("OfflineAudioContext")?s.OfflineAudioContext:s.hasOwnProperty("webkitOfflineAudioContext")?s.webkitOfflineAudioContext:null,tR=(s,t,e,i,a,l)=>(u,g)=>{const y=u.createOscillator();return _s(y,g),Pi(y,g,"detune"),Pi(y,g,"frequency"),g.periodicWave!==void 0?y.setPeriodicWave(g.periodicWave):yi(y,g,"type"),t(e,()=>e(u))||Fy(y),t(i,()=>i(u))||l(y,u),t(a,()=>a(u))||Uy(y),s(u,y),y},eR=s=>(t,e)=>{const i=t.createPanner();return i.orientationX===void 0?s(t,e):(_s(i,e),Pi(i,e,"orientationX"),Pi(i,e,"orientationY"),Pi(i,e,"orientationZ"),Pi(i,e,"positionX"),Pi(i,e,"positionY"),Pi(i,e,"positionZ"),yi(i,e,"coneInnerAngle"),yi(i,e,"coneOuterAngle"),yi(i,e,"coneOuterGain"),yi(i,e,"distanceModel"),yi(i,e,"maxDistance"),yi(i,e,"panningModel"),yi(i,e,"refDistance"),yi(i,e,"rolloffFactor"),i)},nR=(s,t,e,i,a,l,u,g,y,v)=>(E,{coneInnerAngle:A,coneOuterAngle:C,coneOuterGain:N,distanceModel:L,maxDistance:Z,orientationX:H,orientationY:j,orientationZ:lt,panningModel:st,positionX:pt,positionY:J,positionZ:rt,refDistance:V,rolloffFactor:I,...P})=>{const U=E.createPanner();if(P.channelCount>2||P.channelCountMode==="max")throw u();_s(U,P);const z={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},Q=e(E,{...z,channelInterpretation:"speakers",numberOfInputs:6}),X=i(E,{...P,gain:1}),Pt=i(E,{...z,gain:1}),mt=i(E,{...z,gain:0}),Y=i(E,{...z,gain:0}),et=i(E,{...z,gain:0}),bt=i(E,{...z,gain:0}),xt=i(E,{...z,gain:0}),F=a(E,256,6,1),K=l(E,{...z,curve:new Float32Array([1,1]),oversample:"none"});let dt=[H,j,lt],ft=[pt,J,rt];const It=new Float32Array(1);F.onaudioprocess=({inputBuffer:Bt})=>{const hn=[y(Bt,It,0),y(Bt,It,1),y(Bt,It,2)];hn.some((We,le)=>We!==dt[le])&&(U.setOrientation(...hn),dt=hn);const Dn=[y(Bt,It,3),y(Bt,It,4),y(Bt,It,5)];Dn.some((We,le)=>We!==ft[le])&&(U.setPosition(...Dn),ft=Dn)},Object.defineProperty(mt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(et.gain,"defaultValue",{get:()=>0}),Object.defineProperty(bt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(xt.gain,"defaultValue",{get:()=>0});const _t={get bufferSize(){},get channelCount(){return U.channelCount},set channelCount(Bt){if(Bt>2)throw u();X.channelCount=Bt,U.channelCount=Bt},get channelCountMode(){return U.channelCountMode},set channelCountMode(Bt){if(Bt==="max")throw u();X.channelCountMode=Bt,U.channelCountMode=Bt},get channelInterpretation(){return U.channelInterpretation},set channelInterpretation(Bt){X.channelInterpretation=Bt,U.channelInterpretation=Bt},get coneInnerAngle(){return U.coneInnerAngle},set coneInnerAngle(Bt){U.coneInnerAngle=Bt},get coneOuterAngle(){return U.coneOuterAngle},set coneOuterAngle(Bt){U.coneOuterAngle=Bt},get coneOuterGain(){return U.coneOuterGain},set coneOuterGain(Bt){if(Bt<0||Bt>1)throw t();U.coneOuterGain=Bt},get context(){return U.context},get distanceModel(){return U.distanceModel},set distanceModel(Bt){U.distanceModel=Bt},get inputs(){return[X]},get maxDistance(){return U.maxDistance},set maxDistance(Bt){if(Bt<0)throw new RangeError;U.maxDistance=Bt},get numberOfInputs(){return U.numberOfInputs},get numberOfOutputs(){return U.numberOfOutputs},get orientationX(){return Pt.gain},get orientationY(){return mt.gain},get orientationZ(){return Y.gain},get panningModel(){return U.panningModel},set panningModel(Bt){U.panningModel=Bt},get positionX(){return et.gain},get positionY(){return bt.gain},get positionZ(){return xt.gain},get refDistance(){return U.refDistance},set refDistance(Bt){if(Bt<0)throw new RangeError;U.refDistance=Bt},get rolloffFactor(){return U.rolloffFactor},set rolloffFactor(Bt){if(Bt<0)throw new RangeError;U.rolloffFactor=Bt},addEventListener(...Bt){return X.addEventListener(Bt[0],Bt[1],Bt[2])},dispatchEvent(...Bt){return X.dispatchEvent(Bt[0])},removeEventListener(...Bt){return X.removeEventListener(Bt[0],Bt[1],Bt[2])}};A!==_t.coneInnerAngle&&(_t.coneInnerAngle=A),C!==_t.coneOuterAngle&&(_t.coneOuterAngle=C),N!==_t.coneOuterGain&&(_t.coneOuterGain=N),L!==_t.distanceModel&&(_t.distanceModel=L),Z!==_t.maxDistance&&(_t.maxDistance=Z),H!==_t.orientationX.value&&(_t.orientationX.value=H),j!==_t.orientationY.value&&(_t.orientationY.value=j),lt!==_t.orientationZ.value&&(_t.orientationZ.value=lt),st!==_t.panningModel&&(_t.panningModel=st),pt!==_t.positionX.value&&(_t.positionX.value=pt),J!==_t.positionY.value&&(_t.positionY.value=J),rt!==_t.positionZ.value&&(_t.positionZ.value=rt),V!==_t.refDistance&&(_t.refDistance=V),I!==_t.rolloffFactor&&(_t.rolloffFactor=I),(dt[0]!==1||dt[1]!==0||dt[2]!==0)&&U.setOrientation(...dt),(ft[0]!==0||ft[1]!==0||ft[2]!==0)&&U.setPosition(...ft);const Vt=()=>{X.connect(U),s(X,K,0,0),K.connect(Pt).connect(Q,0,0),K.connect(mt).connect(Q,0,1),K.connect(Y).connect(Q,0,2),K.connect(et).connect(Q,0,3),K.connect(bt).connect(Q,0,4),K.connect(xt).connect(Q,0,5),Q.connect(F).connect(E.destination)},ce=()=>{X.disconnect(U),g(X,K,0,0),K.disconnect(Pt),Pt.disconnect(Q),K.disconnect(mt),mt.disconnect(Q),K.disconnect(Y),Y.disconnect(Q),K.disconnect(et),et.disconnect(Q),K.disconnect(bt),bt.disconnect(Q),K.disconnect(xt),xt.disconnect(Q),Q.disconnect(F),F.disconnect(E.destination)};return v(If(_t,U),Vt,ce)},iR=s=>(t,{disableNormalization:e,imag:i,real:a})=>{const l=i instanceof Float32Array?i:new Float32Array(i),u=a instanceof Float32Array?a:new Float32Array(a),g=t.createPeriodicWave(u,l,{disableNormalization:e});if(Array.from(i).length<2)throw s();return g},cg=(s,t,e,i)=>s.createScriptProcessor(t,e,i),sR=(s,t)=>(e,i)=>{const a=i.channelCountMode;if(a==="clamped-max")throw t();if(e.createStereoPanner===void 0)return s(e,i);const l=e.createStereoPanner();return _s(l,i),Pi(l,i,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>a,set:u=>{if(u!==a)throw t()}}),l},rR=(s,t,e,i,a,l)=>{const g=new Float32Array([1,1]),y=Math.PI/2,v={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E={...v,oversample:"none"},A=(L,Z,H,j)=>{const lt=new Float32Array(16385),st=new Float32Array(16385);for(let P=0;P<16385;P+=1){const U=P/16384*y;lt[P]=Math.cos(U),st[P]=Math.sin(U)}const pt=e(L,{...v,gain:0}),J=i(L,{...E,curve:lt}),rt=i(L,{...E,curve:g}),V=e(L,{...v,gain:0}),I=i(L,{...E,curve:st});return{connectGraph(){Z.connect(pt),Z.connect(rt.inputs===void 0?rt:rt.inputs[0]),Z.connect(V),rt.connect(H),H.connect(J.inputs===void 0?J:J.inputs[0]),H.connect(I.inputs===void 0?I:I.inputs[0]),J.connect(pt.gain),I.connect(V.gain),pt.connect(j,0,0),V.connect(j,0,1)},disconnectGraph(){Z.disconnect(pt),Z.disconnect(rt.inputs===void 0?rt:rt.inputs[0]),Z.disconnect(V),rt.disconnect(H),H.disconnect(J.inputs===void 0?J:J.inputs[0]),H.disconnect(I.inputs===void 0?I:I.inputs[0]),J.disconnect(pt.gain),I.disconnect(V.gain),pt.disconnect(j,0,0),V.disconnect(j,0,1)}}},C=(L,Z,H,j)=>{const lt=new Float32Array(16385),st=new Float32Array(16385),pt=new Float32Array(16385),J=new Float32Array(16385),rt=Math.floor(16385/2);for(let et=0;et<16385;et+=1)if(et>rt){const bt=(et-rt)/(16384-rt)*y;lt[et]=Math.cos(bt),st[et]=Math.sin(bt),pt[et]=0,J[et]=1}else{const bt=et/(16384-rt)*y;lt[et]=1,st[et]=0,pt[et]=Math.cos(bt),J[et]=Math.sin(bt)}const V=t(L,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),I=e(L,{...v,gain:0}),P=i(L,{...E,curve:lt}),U=e(L,{...v,gain:0}),z=i(L,{...E,curve:st}),Q=i(L,{...E,curve:g}),X=e(L,{...v,gain:0}),Pt=i(L,{...E,curve:pt}),mt=e(L,{...v,gain:0}),Y=i(L,{...E,curve:J});return{connectGraph(){Z.connect(V),Z.connect(Q.inputs===void 0?Q:Q.inputs[0]),V.connect(I,0),V.connect(U,0),V.connect(X,1),V.connect(mt,1),Q.connect(H),H.connect(P.inputs===void 0?P:P.inputs[0]),H.connect(z.inputs===void 0?z:z.inputs[0]),H.connect(Pt.inputs===void 0?Pt:Pt.inputs[0]),H.connect(Y.inputs===void 0?Y:Y.inputs[0]),P.connect(I.gain),z.connect(U.gain),Pt.connect(X.gain),Y.connect(mt.gain),I.connect(j,0,0),X.connect(j,0,0),U.connect(j,0,1),mt.connect(j,0,1)},disconnectGraph(){Z.disconnect(V),Z.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),V.disconnect(I,0),V.disconnect(U,0),V.disconnect(X,1),V.disconnect(mt,1),Q.disconnect(H),H.disconnect(P.inputs===void 0?P:P.inputs[0]),H.disconnect(z.inputs===void 0?z:z.inputs[0]),H.disconnect(Pt.inputs===void 0?Pt:Pt.inputs[0]),H.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),P.disconnect(I.gain),z.disconnect(U.gain),Pt.disconnect(X.gain),Y.disconnect(mt.gain),I.disconnect(j,0,0),X.disconnect(j,0,0),U.disconnect(j,0,1),mt.disconnect(j,0,1)}}},N=(L,Z,H,j,lt)=>{if(Z===1)return A(L,H,j,lt);if(Z===2)return C(L,H,j,lt);throw a()};return(L,{channelCount:Z,channelCountMode:H,pan:j,...lt})=>{if(H==="max")throw a();const st=s(L,{...lt,channelCount:1,channelCountMode:H,numberOfInputs:2}),pt=e(L,{...lt,channelCount:Z,channelCountMode:H,gain:1}),J=e(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:j});let{connectGraph:rt,disconnectGraph:V}=N(L,Z,pt,J,st);Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"maxValue",{get:()=>1}),Object.defineProperty(J.gain,"minValue",{get:()=>-1});const I={get bufferSize(){},get channelCount(){return pt.channelCount},set channelCount(Q){pt.channelCount!==Q&&(P&&V(),{connectGraph:rt,disconnectGraph:V}=N(L,Q,pt,J,st),P&&rt()),pt.channelCount=Q},get channelCountMode(){return pt.channelCountMode},set channelCountMode(Q){if(Q==="clamped-max"||Q==="max")throw a();pt.channelCountMode=Q},get channelInterpretation(){return pt.channelInterpretation},set channelInterpretation(Q){pt.channelInterpretation=Q},get context(){return pt.context},get inputs(){return[pt]},get numberOfInputs(){return pt.numberOfInputs},get numberOfOutputs(){return pt.numberOfOutputs},get pan(){return J.gain},addEventListener(...Q){return pt.addEventListener(Q[0],Q[1],Q[2])},dispatchEvent(...Q){return pt.dispatchEvent(Q[0])},removeEventListener(...Q){return pt.removeEventListener(Q[0],Q[1],Q[2])}};let P=!1;const U=()=>{rt(),P=!0},z=()=>{V(),P=!1};return l(If(I,st),U,z)}},aR=(s,t,e,i,a,l,u)=>(g,y)=>{const v=g.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&g.createGain().gain.automationRate===void 0)return e(g,y);_s(v,y);const E=y.curve===null||y.curve instanceof Float32Array?y.curve:new Float32Array(y.curve);if(E!==null&&E.length<2)throw t();yi(v,{curve:E},"curve"),yi(v,y,"oversample");let A=null,C=!1;return u(v,"curve",Z=>()=>Z.call(v),Z=>H=>(Z.call(v,H),C&&(i(H)&&A===null?A=s(g,v):!i(H)&&A!==null&&(A(),A=null)),H)),a(v,()=>{C=!0,i(v.curve)&&(A=s(g,v))},()=>{C=!1,A!==null&&(A(),A=null)})},oR=(s,t,e,i,a)=>(l,{curve:u,oversample:g,...y})=>{const v=l.createWaveShaper(),E=l.createWaveShaper();_s(v,y),_s(E,y);const A=e(l,{...y,gain:1}),C=e(l,{...y,gain:-1}),N=e(l,{...y,gain:1}),L=e(l,{...y,gain:-1});let Z=null,H=!1,j=null;const lt={get bufferSize(){},get channelCount(){return v.channelCount},set channelCount(J){A.channelCount=J,C.channelCount=J,v.channelCount=J,N.channelCount=J,E.channelCount=J,L.channelCount=J},get channelCountMode(){return v.channelCountMode},set channelCountMode(J){A.channelCountMode=J,C.channelCountMode=J,v.channelCountMode=J,N.channelCountMode=J,E.channelCountMode=J,L.channelCountMode=J},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(J){A.channelInterpretation=J,C.channelInterpretation=J,v.channelInterpretation=J,N.channelInterpretation=J,E.channelInterpretation=J,L.channelInterpretation=J},get context(){return v.context},get curve(){return j},set curve(J){if(J!==null&&J.length<2)throw t();if(J===null)v.curve=J,E.curve=J;else{const rt=J.length,V=new Float32Array(rt+2-rt%2),I=new Float32Array(rt+2-rt%2);V[0]=J[0],I[0]=-J[rt-1];const P=Math.ceil((rt+1)/2),U=(rt+1)/2-1;for(let z=1;z<P;z+=1){const Q=z/P*U,X=Math.floor(Q),Pt=Math.ceil(Q);V[z]=X===Pt?J[X]:(1-(Q-X))*J[X]+(1-(Pt-Q))*J[Pt],I[z]=X===Pt?-J[rt-1-X]:-((1-(Q-X))*J[rt-1-X])-(1-(Pt-Q))*J[rt-1-Pt]}V[P]=rt%2===1?J[P-1]:(J[P-2]+J[P-1])/2,v.curve=V,E.curve=I}j=J,H&&(i(j)&&Z===null?Z=s(l,A):Z!==null&&(Z(),Z=null))},get inputs(){return[A]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get oversample(){return v.oversample},set oversample(J){v.oversample=J,E.oversample=J},addEventListener(...J){return A.addEventListener(J[0],J[1],J[2])},dispatchEvent(...J){return A.dispatchEvent(J[0])},removeEventListener(...J){return A.removeEventListener(J[0],J[1],J[2])}};u!==null&&(lt.curve=u instanceof Float32Array?u:new Float32Array(u)),g!==lt.oversample&&(lt.oversample=g);const st=()=>{A.connect(v).connect(N),A.connect(C).connect(E).connect(L).connect(N),H=!0,i(j)&&(Z=s(l,A))},pt=()=>{A.disconnect(v),v.disconnect(N),A.disconnect(C),C.disconnect(E),E.disconnect(L),L.disconnect(N),H=!1,Z!==null&&(Z(),Z=null)};return a(If(lt,N),st,pt)},Xr=()=>new DOMException("","NotSupportedError"),lR={numberOfChannels:1},cR=(s,t,e,i,a)=>class extends s{constructor(u,g,y){let v;if(typeof u=="number"&&g!==void 0&&y!==void 0)v={length:g,numberOfChannels:u,sampleRate:y};else if(typeof u=="object")v=u;else throw new Error("The given parameters are not valid.");const{length:E,numberOfChannels:A,sampleRate:C}={...lR,...v},N=i(A,E,C);t(Hd,()=>Hd(N))||N.addEventListener("statechange",(()=>{let L=0;const Z=H=>{this._state==="running"&&(L>0?(N.removeEventListener("statechange",Z),H.stopImmediatePropagation(),this._waitForThePromiseToSettle(H)):L+=1)};return Z})()),super(N,A),this._length=E,this._nativeOfflineAudioContext=N,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(e()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ib(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},uR={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},hR=(s,t,e,i,a,l,u)=>class extends s{constructor(y,v){const E=a(y),A={...uR,...v},C=e(E,A),N=l(E),L=N?i():null,Z=y.sampleRate/2;super(y,!1,C,L),this._detune=t(this,N,C.detune,153600,-153600),this._frequency=t(this,N,C.frequency,Z,-Z),this._nativeOscillatorNode=C,this._onended=null,this._oscillatorNodeRenderer=L,this._oscillatorNodeRenderer!==null&&A.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=A.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(y){const v=typeof y=="function"?u(this,y):null;this._nativeOscillatorNode.onended=v;const E=this._nativeOscillatorNode.onended;this._onended=E!==null&&E===v?y:E}get type(){return this._nativeOscillatorNode.type}set type(y){this._nativeOscillatorNode.type=y,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(y){this._nativeOscillatorNode.setPeriodicWave(y),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=y)}start(y=0){if(this._nativeOscillatorNode.start(y),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=y),this.context.state!=="closed"){_f(this);const v=()=>{this._nativeOscillatorNode.removeEventListener("ended",v),Tc(this)&&rg(this)};this._nativeOscillatorNode.addEventListener("ended",v)}}stop(y=0){this._nativeOscillatorNode.stop(y),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=y)}},fR=(s,t,e,i,a)=>()=>{const l=new WeakMap;let u=null,g=null,y=null;const v=async(E,A)=>{let C=e(E);const N=br(C,A);if(!N){const L={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,detune:C.detune.value,frequency:C.frequency.value,periodicWave:u===null?void 0:u,type:C.type};C=t(A,L),g!==null&&C.start(g),y!==null&&C.stop(y)}return l.set(A,C),N?(await s(A,E.detune,C.detune),await s(A,E.frequency,C.frequency)):(await i(A,E.detune,C.detune),await i(A,E.frequency,C.frequency)),await a(E,A,C),C};return{set periodicWave(E){u=E},set start(E){g=E},set stop(E){y=E},render(E,A){const C=l.get(A);return C!==void 0?Promise.resolve(C):v(E,A)}}},dR={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},gR=(s,t,e,i,a,l,u)=>class extends s{constructor(y,v){const E=a(y),A={...dR,...v},C=e(E,A),N=l(E),L=N?i():null;super(y,!1,C,L),this._nativePannerNode=C,this._orientationX=t(this,N,C.orientationX,Hr,da),this._orientationY=t(this,N,C.orientationY,Hr,da),this._orientationZ=t(this,N,C.orientationZ,Hr,da),this._positionX=t(this,N,C.positionX,Hr,da),this._positionY=t(this,N,C.positionY,Hr,da),this._positionZ=t(this,N,C.positionZ,Hr,da),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(y){this._nativePannerNode.coneInnerAngle=y}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(y){this._nativePannerNode.coneOuterAngle=y}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(y){this._nativePannerNode.coneOuterGain=y}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(y){this._nativePannerNode.distanceModel=y}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(y){this._nativePannerNode.maxDistance=y}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(y){this._nativePannerNode.panningModel=y}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(y){this._nativePannerNode.refDistance=y}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(y){this._nativePannerNode.rolloffFactor=y}},pR=(s,t,e,i,a,l,u,g,y,v)=>()=>{const E=new WeakMap;let A=null;const C=async(N,L)=>{let Z=null,H=l(N);const j={channelCount:H.channelCount,channelCountMode:H.channelCountMode,channelInterpretation:H.channelInterpretation},lt={...j,coneInnerAngle:H.coneInnerAngle,coneOuterAngle:H.coneOuterAngle,coneOuterGain:H.coneOuterGain,distanceModel:H.distanceModel,maxDistance:H.maxDistance,panningModel:H.panningModel,refDistance:H.refDistance,rolloffFactor:H.rolloffFactor},st=br(H,L);if("bufferSize"in H)Z=i(L,{...j,gain:1});else if(!st){const pt={...lt,orientationX:H.orientationX.value,orientationY:H.orientationY.value,orientationZ:H.orientationZ.value,positionX:H.positionX.value,positionY:H.positionY.value,positionZ:H.positionZ.value};H=a(L,pt)}if(E.set(L,Z===null?H:Z),Z!==null){if(A===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const z=new u(6,N.context.length,L.sampleRate),Q=t(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});Q.connect(z.destination),A=(async()=>{const X=await Promise.all([N.orientationX,N.orientationY,N.orientationZ,N.positionX,N.positionY,N.positionZ].map(async(Pt,mt)=>{const Y=e(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:mt===0?1:0});return await g(z,Pt,Y.offset),Y}));for(let Pt=0;Pt<6;Pt+=1)X[Pt].connect(Q,0,Pt),X[Pt].start(0);return v(z)})()}const pt=await A,J=i(L,{...j,gain:1});await y(N,L,J);const rt=[];for(let z=0;z<pt.numberOfChannels;z+=1)rt.push(pt.getChannelData(z));let V=[rt[0][0],rt[1][0],rt[2][0]],I=[rt[3][0],rt[4][0],rt[5][0]],P=i(L,{...j,gain:1}),U=a(L,{...lt,orientationX:V[0],orientationY:V[1],orientationZ:V[2],positionX:I[0],positionY:I[1],positionZ:I[2]});J.connect(P).connect(U.inputs[0]),U.connect(Z);for(let z=128;z<pt.length;z+=128){const Q=[rt[0][z],rt[1][z],rt[2][z]],X=[rt[3][z],rt[4][z],rt[5][z]];if(Q.some((Pt,mt)=>Pt!==V[mt])||X.some((Pt,mt)=>Pt!==I[mt])){V=Q,I=X;const Pt=z/L.sampleRate;P.gain.setValueAtTime(0,Pt),P=i(L,{...j,gain:0}),U=a(L,{...lt,orientationX:V[0],orientationY:V[1],orientationZ:V[2],positionX:I[0],positionY:I[1],positionZ:I[2]}),P.gain.setValueAtTime(1,Pt),J.connect(P).connect(U.inputs[0]),U.connect(Z)}}return Z}return st?(await s(L,N.orientationX,H.orientationX),await s(L,N.orientationY,H.orientationY),await s(L,N.orientationZ,H.orientationZ),await s(L,N.positionX,H.positionX),await s(L,N.positionY,H.positionY),await s(L,N.positionZ,H.positionZ)):(await g(L,N.orientationX,H.orientationX),await g(L,N.orientationY,H.orientationY),await g(L,N.orientationZ,H.orientationZ),await g(L,N.positionX,H.positionX),await g(L,N.positionY,H.positionY),await g(L,N.positionZ,H.positionZ)),Mf(H)?await y(N,L,H.inputs[0]):await y(N,L,H),H};return{render(N,L){const Z=E.get(L);return Z!==void 0?Promise.resolve(Z):C(N,L)}}},mR={disableNormalization:!1},_R=(s,t,e,i)=>class db{constructor(l,u){const g=t(l),y=i({...mR,...u}),v=s(g,y);return e.add(v),v}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===db.prototype||e.has(l)}},yR=(s,t)=>(e,i,a)=>(s(i).replay(a),t(i,e,a)),vR=(s,t,e)=>async(i,a,l)=>{const u=s(i);await Promise.all(u.activeInputs.map((g,y)=>Array.from(g).map(async([v,E])=>{const C=await t(v).render(v,a),N=i.context.destination;!e(v)&&(i!==N||!e(i))&&C.connect(l,E,y)})).reduce((g,y)=>[...g,...y],[]))},TR=(s,t,e)=>async(i,a,l)=>{const u=t(i);await Promise.all(Array.from(u.activeInputs).map(async([g,y])=>{const E=await s(g).render(g,a);e(g)||E.connect(l,y)}))},wR=(s,t,e,i)=>a=>s(Hd,()=>Hd(a))?Promise.resolve(s(i,i)).then(l=>{if(!l){const u=e(a,512,0,1);a.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>a.currentTime,u.connect(a.destination)}return a.startRendering()}):new Promise(l=>{const u=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=g=>{u.disconnect(),l(g.renderedBuffer)},u.connect(a.destination),a.startRendering()}),bR=s=>(t,e)=>{s.set(t,e)},ER=s=>(t,e)=>s.set(t,e),SR=(s,t,e,i,a,l,u,g)=>(y,v)=>e(y).render(y,v).then(()=>Promise.all(Array.from(i(v)).map(E=>e(E).render(E,v)))).then(()=>a(v)).then(E=>(typeof E.copyFromChannel!="function"?(u(E),Py(E)):t(l,()=>l(E))||g(E),s.add(E),E)),AR={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},CR=(s,t,e,i,a,l)=>class extends s{constructor(g,y){const v=a(g),E={...AR,...y},A=e(v,E),C=l(v),N=C?i():null;super(g,!1,A,N),this._pan=t(this,C,A.pan)}get pan(){return this._pan}},xR=(s,t,e,i,a)=>()=>{const l=new WeakMap,u=async(g,y)=>{let v=e(g);const E=br(v,y);if(!E){const A={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,pan:v.pan.value};v=t(y,A)}return l.set(y,v),E?await s(y,g.pan,v.pan):await i(y,g.pan,v.pan),Mf(v)?await a(g,y,v.inputs[0]):await a(g,y,v),v};return{render(g,y){const v=l.get(y);return v!==void 0?Promise.resolve(v):u(g,y)}}},RR=s=>()=>{if(s===null)return!1;try{new s({length:1,sampleRate:44100})}catch{return!1}return!0},MR=(s,t)=>async()=>{if(s===null)return!0;if(t===null)return!1;const e=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new t(1,128,44100),a=URL.createObjectURL(e);let l=!1,u=!1;try{await i.audioWorklet.addModule(a);const g=new s(i,"a",{numberOfOutputs:0}),y=i.createOscillator();g.port.onmessage=()=>l=!0,g.onprocessorerror=()=>u=!0,y.connect(g),y.start(0),await i.startRendering(),await new Promise(v=>setTimeout(v))}catch{}finally{URL.revokeObjectURL(a)}return l&&!u},IR=(s,t)=>()=>{if(t===null)return Promise.resolve(!1);const e=new t(1,1,44100),i=s(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{e.oncomplete=()=>{i.disconnect(),a(e.currentTime!==0)},e.startRendering()})},kR=()=>new DOMException("","UnknownError"),DR={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},OR=(s,t,e,i,a,l,u)=>class extends s{constructor(y,v){const E=a(y),A={...DR,...v},C=e(E,A),L=l(E)?i():null;super(y,!0,C,L),this._isCurveNullified=!1,this._nativeWaveShaperNode=C,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(y){if(y===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(y.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=y}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(y){this._nativeWaveShaperNode.oversample=y}},NR=(s,t,e)=>()=>{const i=new WeakMap,a=async(l,u)=>{let g=t(l);if(!br(g,u)){const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,curve:g.curve,oversample:g.oversample};g=s(u,v)}return i.set(u,g),Mf(g)?await e(l,u,g.inputs[0]):await e(l,u,g),g};return{render(l,u){const g=i.get(u);return g!==void 0?Promise.resolve(g):a(l,u)}}},PR=()=>typeof window>"u"?null:window,VR=(s,t)=>e=>{e.copyFromChannel=(i,a,l=0)=>{const u=s(l),g=s(a);if(g>=e.numberOfChannels)throw t();const y=e.length,v=e.getChannelData(g),E=i.length;for(let A=u<0?-u:0;A+u<y&&A<E;A+=1)i[A]=v[A+u]},e.copyToChannel=(i,a,l=0)=>{const u=s(l),g=s(a);if(g>=e.numberOfChannels)throw t();const y=e.length,v=e.getChannelData(g),E=i.length;for(let A=u<0?-u:0;A+u<y&&A<E;A+=1)v[A+u]=i[A]}},LR=s=>t=>{t.copyFromChannel=(e=>(i,a,l=0)=>{const u=s(l),g=s(a);if(u<t.length)return e.call(t,i,g,u)})(t.copyFromChannel),t.copyToChannel=(e=>(i,a,l=0)=>{const u=s(l),g=s(a);if(u<t.length)return e.call(t,i,g,u)})(t.copyToChannel)},FR=s=>(t,e)=>{const i=e.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=i),s(t,"buffer",a=>()=>{const l=a.call(t);return l===i?null:l},a=>l=>a.call(t,l===null?i:l))},UR=(s,t)=>(e,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw s()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw s()}});const a=e.createBufferSource();t(i,()=>{const g=i.numberOfInputs;for(let y=0;y<g;y+=1)a.connect(i,0,y)},()=>a.disconnect(i))},gb=(s,t,e)=>s.copyFromChannel===void 0?s.getChannelData(e)[0]:(s.copyFromChannel(t,e),t[0]),pb=s=>{if(s===null)return!1;const t=s.length;return t%2!==0?s[Math.floor(t/2)]!==0:s[t/2-1]+s[t/2]!==0},ug=(s,t,e,i)=>{let a=s;for(;!a.hasOwnProperty(t);)a=Object.getPrototypeOf(a);const{get:l,set:u}=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(s,t,{get:e(l),set:i(u)})},BR=s=>({...s,outputChannelCount:s.outputChannelCount!==void 0?s.outputChannelCount:s.numberOfInputs===1&&s.numberOfOutputs===1?[s.channelCount]:Array.from({length:s.numberOfOutputs},()=>1)}),zR=s=>({...s,channelCount:s.numberOfOutputs}),HR=s=>{const{imag:t,real:e}=s;return t===void 0?e===void 0?{...s,imag:[0,0],real:[0,0]}:{...s,imag:Array.from(e,()=>0),real:e}:e===void 0?{...s,imag:t,real:Array.from(t,()=>0)}:{...s,imag:t,real:e}},mb=(s,t,e)=>{try{s.setValueAtTime(t,e)}catch(i){if(i.code!==9)throw i;mb(s,t,e+1e-7)}},YR=s=>{const t=s.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},GR=s=>{const t=s.createBufferSource(),e=s.createBuffer(1,1,44100);t.buffer=e;try{t.start(0,1)}catch{return!1}return!0},XR=s=>{const t=s.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},By=s=>{const t=s.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},_b=s=>{const t=s.createBuffer(1,1,44100),e=s.createBufferSource();e.buffer=t,e.start(),e.stop();try{return e.stop(),!0}catch{return!1}},zy=s=>{const t=s.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},WR=s=>{const{port1:t,port2:e}=new MessageChannel;try{t.postMessage(s)}finally{t.close(),e.close()}},qR=s=>{s.start=(t=>(e=0,i=0,a)=>{const l=s.buffer,u=l===null?i:Math.min(l.duration,i);l!==null&&u>l.duration-.5/s.context.sampleRate?t.call(s,e,0,0):t.call(s,e,u,a)})(s.start)},yb=(s,t)=>{const e=t.createGain();s.connect(e);const i=(a=>()=>{a.call(s,e),s.removeEventListener("ended",i)})(s.disconnect);s.addEventListener("ended",i),If(s,e),s.stop=(a=>{let l=!1;return(u=0)=>{if(l)try{a.call(s,u)}catch{e.gain.setValueAtTime(0,u)}else a.call(s,u),l=!0}})(s.stop)},kf=(s,t)=>e=>{const i={value:s};return Object.defineProperties(e,{currentTarget:i,target:i}),typeof t=="function"?t.call(s,e):t.handleEvent.call(s,e)},QR=gA(_h),ZR=TA(_h),KR=DC(em),vb=new WeakMap,JR=KC(vb),ll=lC(new Map,new WeakMap),Fl=PR(),Tb=Cx(ll,Yl),Hy=ZC(Yr),Ks=vR(Yr,Hy,dh),jR=AA(Tb,ci,Ks),ei=$C(tm),Mc=$x(Fl),zn=mx(Mc),wb=new WeakMap,bb=HC(kf),hg=Ix(Fl),Yy=fx(hg),Gy=dx(Fl),Eb=gx(Fl),Yd=Dx(Fl),Xi=KA(pA(Kw),vA(QR,ZR,xp,KR,Rp,Yr,JR,sg,ci,_h,Tc,dh,hp),ll,ox(ey,Rp,Yr,ci,zd,Tc),Yl,nm,Xr,RC(xp,ey,Yr,ci,zd,ei,Tc,zn),PC(wb,Yr,sl),bb,ei,Yy,Gy,Eb,zn,Yd),$R=SA(Xi,jR,Yl,Tb,ei,zn),Xy=new WeakSet,yT=xx(Fl),Sb=wC(new Uint32Array(1)),Wy=VR(Sb,Yl),qy=LR(Sb),Ab=xA(Xy,ll,Xr,yT,Mc,RR(yT),Wy,qy),im=wA(pa),Cb=TR(Hy,ag,dh),Gl=pC(Cb),Df=Mx(im,ll,YR,GR,XR,By,_b,zy,qR,FR(ug),yb),Xl=yR(JC(ag),Cb),t4=IA(Gl,Df,ci,Xl,Ks),cl=JA(mA(Jw),wb,Ny,jA,lA,cA,uA,hA,fA,j_,Qw,hg,mb),e4=MA(Xi,t4,cl,Ds,Df,ei,zn,kf),n4=UA(Xi,BA,Yl,Ds,kx(pa,ug),ei,zn,Ks),i4=oC(Gl,hb,ci,Xl,Ks),yh=ER(vb),s4=aC(Xi,cl,i4,nm,hb,ei,zn,yh),Mu=Sx(_h,Gy),r4=UR(Ds,Mu),Iu=Ux(hg,r4),a4=hC(Iu,ci,Ks),o4=uC(Xi,a4,Iu,ei,zn),l4=gC(lg,ci,Ks),c4=dC(Xi,l4,lg,ei,zn,zR),u4=Hx(im,Df,pa,Mu),Of=zx(im,ll,u4,By,zy),h4=TC(Gl,Of,ci,Xl,Ks),f4=vC(Xi,cl,h4,Of,ei,zn,kf),xb=Yx(Xr,ug),d4=SC(xb,ci,Ks),g4=EC(Xi,d4,xb,ei,zn,yh),p4=kC(Gl,fb,ci,Xl,Ks),m4=IC(Xi,cl,p4,fb,ei,zn,yh),Rb=Gx(Xr),_4=UC(Gl,Rb,ci,Xl,Ks),y4=FC(Xi,cl,_4,Rb,Xr,ei,zn,yh),v4=qC(Gl,pa,ci,Xl,Ks),T4=WC(Xi,cl,v4,pa,ei,zn),w4=Qx(nm,Ds,cg,Xr),sm=wR(ll,pa,cg,IR(pa,Mc)),b4=ax(Df,ci,Mc,Ks,sm),E4=Xx(w4),S4=sx(Xi,E4,b4,ei,zn,yh),A4=zA(cl,Iu,Of,cg,Xr,gb,zn,ug),Mb=new WeakMap,C4=Ex(n4,A4,bb,zn,Mb,kf),Ib=tR(im,ll,By,_b,zy,yb),x4=fR(Gl,Ib,ci,Xl,Ks),R4=hR(Xi,cl,Ib,x4,ei,zn,kf),kb=_C(Df),M4=oR(kb,Ds,pa,pb,Mu),rm=aR(kb,Ds,M4,pb,Mu,hg,ug),I4=nR(xp,Ds,Iu,pa,cg,rm,Xr,Rp,gb,Mu),Db=eR(I4),k4=pR(Gl,Iu,Of,pa,Db,ci,Mc,Xl,Ks,sm),D4=gR(Xi,cl,Db,k4,ei,zn,yh),O4=iR(Yl),N4=_R(O4,ei,new WeakSet,HR),P4=rR(Iu,lg,pa,rm,Xr,Mu),Ob=sR(P4,Xr),V4=xR(Gl,Ob,ci,Xl,Ks),L4=CR(Xi,cl,Ob,V4,ei,zn),F4=NR(rm,ci,Ks),U4=OR(Xi,Ds,rm,F4,ei,zn,yh),Nb=_x(Fl),Qy=YC(Fl),Pb=new WeakMap,B4=tx(Pb,Mc),z4=Nb?yA(ll,Xr,zC(Fl),Qy,GC(dA),ei,B4,zn,Yd,new WeakMap,new WeakMap,MR(Yd,Mc),Fl):void 0,H4=px(Yy,zn),Y4=xC(Xy,ll,CC,BC,new WeakSet,ei,H4,Ap,Hd,Wy,qy),Vb=sC(z4,$R,Ab,e4,s4,o4,c4,f4,g4,Y4,m4,y4,T4,S4,C4,R4,D4,N4,L4,U4),G4=yx(Xi,Zx,ei,zn),X4=Tx(Xi,Kx,ei,zn),W4=wx(Xi,Jx,ei,zn),q4=jx(Ds,zn),Q4=bx(Xi,q4,ei),Z4=FA(Vb,Ds,Xr,kR,G4,X4,W4,Q4,hg),Zy=ex(Mb),K4=bA(Zy),Lb=mC(Yl),J4=OC(Zy),Fb=VC(Yl),Ub=new WeakMap,j4=QC(Ub,sl),$4=Fx(Lb,Yl,Ds,Iu,lg,Of,pa,cg,Xr,Fb,Qy,j4,Mu),t3=Nx(Ds,$4,pa,Xr,Mu),e3=iC(Gl,Lb,Df,Iu,lg,Of,pa,J4,Fb,Qy,ci,Yd,Mc,Xl,Ks,sm),n3=jC(Pb),i3=bR(Ub),vT=Nb?tC(K4,Xi,cl,e3,t3,Yr,n3,ei,zn,Yd,BR,i3,WR,kf):void 0,s3=AC(Xr,Mc),r3=SR(Xy,ll,Hy,Zy,sm,Ap,Wy,qy),a3=cR(Vb,ll,Ds,s3,r3),o3=lx(tm,Yy),l3=cx(Oy,Gy),c3=ux(Ny,Eb),u3=hx(tm,zn);function wo(s){return s===void 0}function je(s){return s!==void 0}function h3(s){return typeof s=="function"}function Ec(s){return typeof s=="number"}function hh(s){return Object.prototype.toString.call(s)==="[object Object]"&&s.constructor===Object}function f3(s){return typeof s=="boolean"}function Ka(s){return Array.isArray(s)}function Sc(s){return typeof s=="string"}function np(s){return Sc(s)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(s)}function Te(s,t){if(!s)throw new Error(t)}function Ac(s,t,e=1/0){if(!(t<=s&&s<=e))throw new RangeError(`Value must be within [${t}, ${e}], got: ${s}`)}function Bb(s){!s.isOffline&&s.state!=="running"&&am('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let zb=!1,TT=!1;function wT(s){zb=s}function d3(s){wo(s)&&zb&&!TT&&(TT=!0,am("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Hb=console;function g3(...s){Hb.log(...s)}function am(...s){Hb.warn(...s)}function p3(s){return new Z4(s)}function m3(s,t,e){return new a3(s,t,e)}const Qa=typeof self=="object"?self:null,_3=Qa&&(Qa.hasOwnProperty("AudioContext")||Qa.hasOwnProperty("webkitAudioContext"));function y3(s,t,e){return Te(je(vT),"AudioWorkletNode only works in a secure context (https or localhost)"),new(s instanceof Qa?.BaseAudioContext?Qa?.AudioWorkletNode:vT)(s,t,e)}function ul(s,t,e,i){var a=arguments.length,l=a<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(s,t,e,i);else for(var g=s.length-1;g>=0;g--)(u=s[g])&&(l=(a<3?u(l):a>3?u(t,e,l):u(t,e))||l);return a>3&&l&&Object.defineProperty(t,e,l),l}function is(s,t,e,i){function a(l){return l instanceof e?l:new e(function(u){u(l)})}return new(e||(e=Promise))(function(l,u){function g(E){try{v(i.next(E))}catch(A){u(A)}}function y(E){try{v(i.throw(E))}catch(A){u(A)}}function v(E){E.done?l(E.value):a(E.value).then(g,y)}v((i=i.apply(s,t||[])).next())})}class v3{constructor(t,e,i,a){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),e=URL.createObjectURL(t),i=new Worker(e);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((e=this._worker)===null||e===void 0||e.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function gh(s){return c3(s)}function pu(s){return l3(s)}function fp(s){return u3(s)}function nf(s){return o3(s)}function T3(s){return s instanceof Ab}function w3(s,t){return s==="value"||gh(t)||pu(t)||T3(t)}function wc(s,...t){if(!t.length)return s;const e=t.shift();if(hh(s)&&hh(e))for(const i in e)w3(i,e[i])?s[i]=e[i]:hh(e[i])?(s[i]||Object.assign(s,{[i]:{}}),wc(s[i],e[i])):Object.assign(s,{[i]:e[i]});return wc(s,...t)}function b3(s,t){return s.length===t.length&&s.every((e,i)=>t[i]===e)}function ae(s,t,e=[],i){const a={},l=Array.from(t);if(hh(l[0])&&i&&!Reflect.has(l[0],i)&&(Object.keys(l[0]).some(g=>Reflect.has(s,g))||(wc(a,{[i]:l[0]}),e.splice(e.indexOf(i),1),l.shift())),l.length===1&&hh(l[0]))wc(a,l[0]);else for(let u=0;u<e.length;u++)je(l[u])&&(a[e[u]]=l[u]);return wc(s,a)}function E3(s){return s.constructor.getDefaults()}function hf(s,t){return wo(s)?t:s}function Ol(s,t){return t.forEach(e=>{Reflect.has(s,e)&&delete s[e]}),s}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Ic{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Qa&&this.toString()===Qa.TONE_DEBUG_CLASS)&&g3(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ic.version=qw;const Ky=1e-6;function yf(s,t){return s>t+Ky}function ay(s,t){return yf(s,t)||el(s,t)}function Dp(s,t){return s+Ky<t}function el(s,t){return Math.abs(s-t)<Ky}function S3(s,t,e){return Math.max(Math.min(s,e),t)}class bo extends Ic{constructor(){super(),this.name="Timeline",this._timeline=[];const t=ae(bo.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Te(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Te(ay(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(t){const e=this._timeline.indexOf(t);return e!==-1&&this._timeline.splice(e,1),this}get(t,e="time"){const i=this._search(t,e);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const i=this._search(t,e);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const i=this._search(t);return i-1>=0?this._timeline[i-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(el(this._timeline[e].time,t)){for(let i=e;i>=0&&el(this._timeline[i].time,t);i--)e=i;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else this._timeline.length===1&&ay(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(this._timeline.length===0)return-1;let i=0;const a=this._timeline.length;let l=a;if(a>0&&this._timeline[a-1][e]<=t)return a-1;for(;i<l;){let u=Math.floor(i+(l-i)/2);const g=this._timeline[u],y=this._timeline[u+1];if(el(g[e],t)){for(let v=u;v<this._timeline.length;v++){const E=this._timeline[v];if(el(E[e],t))u=v;else break}return u}else{if(Dp(g[e],t)&&yf(y[e],t))return u;yf(g[e],t)?l=u:i=u+1}}return-1}_iterate(t,e=0,i=this._timeline.length-1){this._timeline.slice(e,i+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const i=this._search(t);return i!==-1&&this._iterate(e,0,i),this}forEachAfter(t,e){const i=this._search(t);return this._iterate(e,i+1),this}forEachBetween(t,e,i){let a=this._search(t),l=this._search(e);return a!==-1&&l!==-1?(this._timeline[a].time!==t&&(a+=1),this._timeline[l].time===e&&(l-=1),this._iterate(i,a,l)):a===-1&&this._iterate(i,0,l),this}forEachFrom(t,e){let i=this._search(t);for(;i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this}forEachAtTime(t,e){const i=this._search(t);if(i!==-1&&el(this._timeline[i].time,t)){let a=i;for(let l=i;l>=0&&el(this._timeline[l].time,t);l--)a=l;this._iterate(l=>{e(l)},a,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Yb=[];function om(s){Yb.push(s)}function A3(s){Yb.forEach(t=>t(s))}const Gb=[];function lm(s){Gb.push(s)}function C3(s){Gb.forEach(t=>t(s))}class fg extends Ic{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach(a=>{wo(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(e)}),this}once(t,e){const i=(...a)=>{e(...a),this.off(t,i)};return this.on(t,i),this}off(t,e){return t.split(/\W+/).forEach(a=>{if(wo(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(wo(e))this._events[a]=[];else{const l=this._events[a];for(let u=l.length-1;u>=0;u--)l[u]===e&&l.splice(u,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const i=this._events[t].slice(0);for(let a=0,l=i.length;a<l;a++)i[a].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const i=Object.getOwnPropertyDescriptor(fg.prototype,e);Object.defineProperty(t.prototype,e,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class Xb extends fg{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class dg extends Xb{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new bo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=ae(dg.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=p3({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new v3(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((e=arguments[0])===null||e===void 0)&&e.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(A3(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,i){return this._context.createBuffer(t,e,i)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,i){return this._context.createPeriodicWave(t,e,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Te(nf(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Te(nf(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Te(nf(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Te(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Te(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Te(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Te(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return y3(this.rawContext,t,e)}addAudioWorkletModule(t){return is(this,void 0,void 0,function*(){Te(je(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return is(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return nf(this._context)?this._context.resume():Promise.resolve()}close(){return is(this,void 0,void 0,function*(){nf(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&C3(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),i=e.getChannelData(0);for(let l=0;l<i.length;l++)i[l]=t;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=e,a.loop=!0,a.start(0),this._constants.set(t,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();this._timeouts.forEachBefore(t,e=>{e.callback(),this._timeouts.remove(e)})}setTimeout(t,e){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:i+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const i=++this._timeoutIds,a=()=>{const l=this.now();this._timeouts.add({callback:()=>{t(),a()},id:i,time:l+e})};return a(),i}}class x3 extends Xb{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,i){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return is(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function wn(s,t){Ka(t)?t.forEach(e=>wn(s,e)):Object.defineProperty(s,t,{enumerable:!0,writable:!1})}function Jy(s,t){Ka(t)?t.forEach(e=>Jy(s,e)):Object.defineProperty(s,t,{writable:!0})}const Sn=()=>{};class Bn extends Ic{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Sn;const t=ae(Bn.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,Sc(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:Sn,onload:Sn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:To().sampleRate}set(t){return t instanceof Bn?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return is(this,void 0,void 0,function*(){const e=Bn.load(t).then(i=>{this.set(i),this.onload(this)});Bn.downloads.push(e);try{yield e}finally{const i=Bn.downloads.indexOf(e);Bn.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Ka(t)&&t[0].length>0,i=e?t.length:1,a=e?t[0].length:t.length,l=To(),u=l.createBuffer(i,a,l.sampleRate),g=!e&&i===1?[t]:t;for(let y=0;y<i;y++)u.copyToChannel(g[y],y);return this._buffer=u,this}toMono(t){if(Ec(t))this.fromArray(this.toArray(t));else{let e=new Float32Array(this.length);const i=this.numberOfChannels;for(let a=0;a<i;a++){const l=this.toArray(a);for(let u=0;u<l.length;u++)e[u]+=l[u]}e=e.map(a=>a/i),this.fromArray(e)}return this}toArray(t){if(Ec(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const e=[];for(let i=0;i<this.numberOfChannels;i++)e[i]=this.getChannelData(i);return e}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){Te(this.loaded,"Buffer is not loaded");const i=Math.floor(t*this.sampleRate),a=Math.floor(e*this.sampleRate);Te(i<a,"The start time must be less than the end time");const l=a-i,u=To().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let g=0;g<this.numberOfChannels;g++)u.copyToChannel(this.getChannelData(g).subarray(i,a),g);return new Bn(u)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new Bn().fromArray(t)}static fromUrl(t){return is(this,void 0,void 0,function*(){return yield new Bn().load(t)})}static load(t){return is(this,void 0,void 0,function*(){const e=Bn.baseUrl===""||Bn.baseUrl.endsWith("/")?Bn.baseUrl:Bn.baseUrl+"/",i=yield fetch(e+t);if(!i.ok)throw new Error(`could not load url: ${t}`);const a=yield i.arrayBuffer();return yield To().decodeAudioData(a)})}static supportsType(t){const e=t.split("."),i=e[e.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return is(this,void 0,void 0,function*(){for(yield Promise.resolve();Bn.downloads.length;)yield Bn.downloads[0]})}}Bn.baseUrl="";Bn.downloads=[];class jy extends dg{constructor(){super({clockSource:"offline",context:fp(arguments[0])?arguments[0]:m3(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:fp(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=fp(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return is(this,void 0,void 0,function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const i=Math.floor(this.sampleRate/128);t&&e%i===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return is(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Bn(e)})}close(){return Promise.resolve()}}const Wb=new x3;let lh=Wb;function To(){return lh===Wb&&_3&&R3(new dg),lh}function R3(s,t=!1){t&&lh.dispose(),nf(s)?lh=new dg(s):fp(s)?lh=new jy(s):lh=s}function M3(){return lh.resume()}if(Qa&&!Qa.TONE_SILENCE_LOGGING){const t=` * Tone.js v${qw} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function I3(s){return Math.pow(10,s/20)}function k3(s){return 20*(Math.log(s)/Math.LN10)}function qb(s){return Math.pow(2,s/12)}let cm=440;function D3(){return cm}function O3(s){cm=s}function ch(s){return Math.round(Qb(s))}function Qb(s){return 69+12*Math.log2(s/cm)}function Zb(s){return cm*Math.pow(2,(s-69)/12)}class $y extends Ic{constructor(t,e,i){super(),this.defaultUnits="s",this._val=e,this._units=i,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const i=parseInt(t,10),a=e==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/i)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(e)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,e,i)=>{let a=0;return t&&t!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&e!=="0"&&(a+=this._beatsToUnits(parseFloat(e))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof $y&&this.fromType(this._val),wo(this._val))return this._noArg();if(Sc(this._val)&&wo(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(hh(this._val)){let t=0;for(const e in this._val)if(je(this._val[e])){const i=this._val[e],a=new this.constructor(this.context,e).valueOf()*i;t+=a}return t}if(je(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}else return Sc(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class nl extends $y{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new nl(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const i=new this.constructor(this.context,t).valueOf(),a=this.valueOf(),g=Math.round(a/i)*i-a;return a+g*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let l=1;l<9;l++){const u=Math.pow(2,l);e.push(u+"n."),e.push(u+"n"),e.push(u+"t")}e.push("0");let i=e[0],a=new nl(this.context,e[0]).toSeconds();return e.forEach(l=>{const u=new nl(this.context,l).toSeconds();Math.abs(u-t)<Math.abs(a-t)&&(i=l,a=u)}),i}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const i=Math.floor(e/this._getTimeSignature());let a=e%1*4;e=Math.floor(e)%this._getTimeSignature();const l=a.toString();return l.length>3&&(a=parseFloat(parseFloat(l).toFixed(3))),[i,e,a].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ch(this.toFrequency())}_now(){return this.context.now()}}class Za extends nl{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return D3()}static set A4(t){O3(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:Za.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const a=N3[t.toLowerCase()]+(parseInt(e,10)+1)*12;return this.defaultUnits==="midi"?a:Za.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,i){let a=1;return t&&t!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&e!=="0"&&(a*=this._beatsToUnits(parseFloat(e))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i)/4)),a}}})}transpose(t){return new Za(this.context,this.valueOf()*qb(t))}harmonize(t){return t.map(e=>this.transpose(e))}toMidi(){return ch(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Za.A4);let i=Math.round(12*e)+57;const a=Math.floor(i/12);return a<0&&(i+=-12*a),P3[i%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Zb(t)}static ftom(t){return ch(t)}}const N3={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},P3=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Pd extends nl{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ga extends Ic{constructor(){super();const t=ae(ga.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:To()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return d3(t),new nl(this.context,t).toSeconds()}toFrequency(t){return new Za(this.context,t).toFrequency()}toTicks(t){return new Pd(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(i=>{wo(t[i])&&delete e[i]}),e}get(){const t=E3(this);return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const i=this[e];je(i)&&je(i.value)&&je(i.setValueAtTime)?t[e]=i.value:i instanceof ga?t[e]=i._getPartialProperties(t[e]):Ka(i)||Ec(i)||Sc(i)||f3(i)?t[e]=i:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&je(this[e])&&(this[e]&&je(this[e].value)&&je(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof ga?this[e].set(t[e]):this[e]=t[e])}),this}}class t0 extends bo{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return e!==null?e.state:this._initial}setStateAtTime(t,e,i){return Ac(e,0),this.add(Object.assign({},i,{state:t,time:e})),this}getLastState(t,e){const i=this._search(e);for(let a=i;a>=0;a--){const l=this._timeline[a];if(l.state===t)return l}}getNextState(t,e){const i=this._search(e);if(i!==-1)for(let a=i;a<this._timeline.length;a++){const l=this._timeline[a];if(l.state===t)return l}}}class on extends ga{constructor(){const t=ae(on.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Te(je(t.param)&&(gh(t.param)||t.param instanceof on),"param must be an AudioParam");!gh(t.param);)t.param=t.param._param;this._swappable=je(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new bo(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,je(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(ga.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return je(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return je(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return je(this.maxValue)&&je(this.minValue)&&Ac(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?I3(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?k3(t):t}setValueAtTime(t,e){const i=this.toSeconds(e),a=this._fromType(t);return Te(isFinite(a)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",t,i),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),i=this._events.getAfter(e),a=this._events.get(e);let l=this._initialValue;if(a===null)l=this._initialValue;else if(a.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const u=this._events.getBefore(a.time);let g;u===null?g=this._initialValue:g=u.value,a.type==="setTargetAtTime"&&(l=this._exponentialApproach(a.time,g,a.value,a.constant,e))}else if(i===null)l=a.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let u=a.value;if(a.type==="setTargetAtTime"){const g=this._events.getBefore(a.time);g===null?u=this._initialValue:u=g.value}i.type==="linearRampToValueAtTime"?l=this._linearInterpolate(a.time,u,i.time,i.value,e):l=this._exponentialInterpolate(a.time,u,i.time,i.value,e)}else l=a.value;return this._toType(l)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(e)===0&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const i=this._fromType(t),a=this.toSeconds(e);return Te(isFinite(i)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this._events.add({time:a,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",t,a),this._param.linearRampToValueAtTime(i,a),this}exponentialRampToValueAtTime(t,e){let i=this._fromType(t);i=el(i,0)?this._minOutput:i,this._assertRange(i);const a=this.toSeconds(e);return Te(isFinite(i)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",t,a),this._param.exponentialRampToValueAtTime(i,a),this}exponentialRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this}linearRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this}targetRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this}exponentialApproachValueAtTime(t,e,i){e=this.toSeconds(e),i=this.toSeconds(i);const a=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(t,e,a),this.cancelAndHoldAtTime(e+i*.9),this.linearRampToValueAtTime(t,e+i),this}setTargetAtTime(t,e,i){const a=this._fromType(t);Te(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(e);return this._assertRange(a),Te(isFinite(a)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:i,time:l,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",t,l,i),this._param.setTargetAtTime(a,l,i),this}setValueCurveAtTime(t,e,i,a=1){i=this.toSeconds(i),e=this.toSeconds(e);const l=this._fromType(t[0])*a;this.setValueAtTime(this._toType(l),e);const u=i/(t.length-1);for(let g=1;g<t.length;g++){const y=this._fromType(t[g])*a;this.linearRampToValueAtTime(this._toType(y),e+g*u)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Te(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),i=this._fromType(this.getValueAtTime(e));Te(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+i);const a=this._events.get(e),l=this._events.getAfter(e);return a&&el(a.time,e)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),e):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),e)),this._events.add({time:e,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,e),this}rampTo(t,e=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,e,i):this.linearRampTo(t,e,i),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const i=this._events.get(e);if(i&&i.type==="setTargetAtTime"){const a=this._events.getAfter(i.time),l=a?a.time:e+2,u=(l-e)/10;for(let g=e;g<l;g+=u)t.linearRampToValueAtTime(this.getValueAtTime(g),g)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?t.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?t.setTargetAtTime(a.value,a.time,a.constant):t[a.type](a.value,a.time)}),this}setParam(t){Te(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,i,a,l){return i+(e-i)*Math.exp(-(l-t)/a)}_linearInterpolate(t,e,i,a,l){return e+(a-e)*((l-t)/(i-t))}_exponentialInterpolate(t,e,i,a,l){return e*Math.pow(a/e,(l-t)/(i-t))}}class oe extends ga{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return je(this.input)?gh(this.input)||this.input instanceof on?1:this.input.numberOfInputs:0}get numberOfOutputs(){return je(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return je(t)&&(t instanceof oe||pu(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(i=>{i.channelCount=t.channelCount,i.channelCountMode=t.channelCountMode,i.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();Te(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,i=0){return rl(this,t,e,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return am("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,i=0){return Kb(this,t,e,i),this}chain(...t){return wu(this,...t),this}fan(...t){return t.forEach(e=>this.connect(e)),this}dispose(){return super.dispose(),je(this.input)&&(this.input instanceof oe?this.input.dispose():pu(this.input)&&this.input.disconnect()),je(this.output)&&(this.output instanceof oe?this.output.dispose():pu(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function wu(...s){const t=s.shift();s.reduce((e,i)=>(e instanceof oe?e.connect(i):pu(e)&&rl(e,i),i),t)}function rl(s,t,e=0,i=0){for(Te(je(s),"Cannot connect from undefined node"),Te(je(t),"Cannot connect to undefined node"),(t instanceof oe||pu(t))&&Te(t.numberOfInputs>0,"Cannot connect to node with no inputs"),Te(s.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof oe||t instanceof on;)je(t.input)&&(t=t.input);for(;s instanceof oe;)je(s.output)&&(s=s.output);gh(t)?s.connect(t,e):s.connect(t,e,i)}function Kb(s,t,e=0,i=0){if(je(t))for(;t instanceof oe;)t=t.input;for(;!pu(s);)je(s.output)&&(s=s.output);gh(t)?s.disconnect(t,e):pu(t)?s.disconnect(t,e,i):s.disconnect()}class ln extends oe{constructor(){const t=ae(ln.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new on({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),wn(this,"gain")}static getDefaults(){return Object.assign(oe.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class vf extends oe{constructor(t){super(t),this.onended=Sn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ln({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const i=this.toSeconds(e);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(oe.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Sn})}_startGain(t,e=1){Te(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=t+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(e,t+i):this._gainNode.gain.exponentialApproachValueAtTime(e,t,i)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Te(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.now()),e>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?e*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Sn&&(this.onended(this),this.onended=Sn,!this.context.isOffline)){const t=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(t):setTimeout(t,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Te(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Sn,this}}class e0 extends vf{constructor(){const t=ae(e0.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),rl(this._source,this._gainNode),this.offset=new on({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(vf.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class _n extends oe{constructor(){const t=ae(_n.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new e0({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(oe.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,i=0){return um(this,t,e,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,i){return this._param.exponentialRampTo(t,e,i),this}linearRampTo(t,e,i){return this._param.linearRampTo(t,e,i),this}targetRampTo(t,e,i){return this._param.targetRampTo(t,e,i),this}exponentialApproachValueAtTime(t,e,i){return this._param.exponentialApproachValueAtTime(t,e,i),this}setTargetAtTime(t,e,i){return this._param.setTargetAtTime(t,e,i),this}setValueCurveAtTime(t,e,i,a){return this._param.setValueCurveAtTime(t,e,i,a),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,i){return this._param.rampTo(t,e,i),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function um(s,t,e,i){(t instanceof on||gh(t)||t instanceof _n&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof _n&&(t.overridden=!0)),rl(s,t,e,i)}class n0 extends on{constructor(){const t=ae(n0.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new bo(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(on.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,i){e=this.toSeconds(e),this.setRampPoint(e);const a=this._fromType(t),l=this._events.get(e),u=Math.round(Math.max(1/i,1));for(let g=0;g<=u;g++){const y=i*g+e,v=this._exponentialApproach(l.time,l.value,a,i,y);this.linearRampToValueAtTime(this._toType(v),y)}return this}setValueAtTime(t,e){const i=this.toSeconds(e);super.setValueAtTime(t,e);const a=this._events.get(i),l=this._events.previousEvent(a),u=this._getTicksUntilEvent(l,i);return a.ticks=Math.max(u,0),this}linearRampToValueAtTime(t,e){const i=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const a=this._events.get(i),l=this._events.previousEvent(a),u=this._getTicksUntilEvent(l,i);return a.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const i=this._fromType(t),a=this._events.get(e),l=Math.round(Math.max((e-a.time)*10,1)),u=(e-a.time)/l;for(let g=0;g<=l;g++){const y=u*g+a.time,v=this._exponentialInterpolate(a.time,a.value,e,i,y);this.linearRampToValueAtTime(this._toType(v),y)}return this}_getTicksUntilEvent(t,e){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(wo(t.ticks)){const u=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(u,t.time)}const i=this._fromType(this.getValueAtTime(t.time));let a=this._fromType(this.getValueAtTime(e));const l=this._events.get(e);return l&&l.time===e&&l.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(i+a)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),i=this._events.get(e);return Math.max(this._getTicksUntilEvent(i,e),0)}getDurationOfTicks(t,e){const i=this.toSeconds(e),a=this.getTicksAtTime(e);return this.getTimeOfTick(a+t)-i}getTimeOfTick(t){const e=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&i&&i.type==="linearRampToValueAtTime"&&e.value!==i.value){const a=this._fromType(this.getValueAtTime(e.time)),u=(this._fromType(this.getValueAtTime(i.time))-a)/(i.time-e.time),g=Math.sqrt(Math.pow(a,2)-2*u*(e.ticks-t)),y=(-a+g)/u,v=(-a-g)/u;return(y>0?y:v)+e.time}else return e?e.value===0?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const i=this.toSeconds(e),a=this.toSeconds(t),l=this.getTicksAtTime(i);return this.getTicksAtTime(i+a)-l}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class i0 extends _n{constructor(){const t=ae(i0.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new n0({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(_n.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class s0 extends ga{constructor(){const t=ae(s0.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new t0,this._tickOffset=new bo,this._ticksAtTime=new bo,this._secondsAtTime=new bo,this.frequency=new i0({context:this.context,units:t.units,value:t.frequency}),wn(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ga.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const i=this.toSeconds(t);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),je(e)&&this.setTicksAtTime(e,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(t){const e=this.toSeconds(t);if(this._state.getValueAtTime(e)==="stopped"){const i=this._state.get(e);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)==="started"&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),i=this._state.getLastState("stopped",e),a=this._ticksAtTime.get(e),l={state:"paused",time:e};this._state.add(l);let u=a||i,g=a?a.ticks:0,y=null;return this._state.forEachBetween(u.time,e+this.sampleTime,v=>{let E=u.time;const A=this._tickOffset.get(v.time);A&&A.time>=u.time&&(g=A.ticks,E=A.time),u.state==="started"&&v.state!=="started"&&(g+=this.frequency.getTicksAtTime(v.time)-this.frequency.getTicksAtTime(E),v.time!==l.time&&(y={state:v.state,time:v.time,ticks:g})),u=v}),this._state.remove(l),y&&this._ticksAtTime.add(y),g}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),i=this.frequency.timeToTicks(t,e);this.setTicksAtTime(i,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),i={state:"paused",time:t};this._state.add(i);const a=this._secondsAtTime.get(t);let l=a||e,u=a?a.seconds:0,g=null;return this._state.forEachBetween(l.time,t+this.sampleTime,y=>{let v=l.time;const E=this._tickOffset.get(y.time);E&&E.time>=l.time&&(u=E.seconds,v=E.time),l.state==="started"&&y.state!=="started"&&(u+=y.time-v,y.time!==i.time&&(g={state:y.state,time:y.time,seconds:u})),l=y}),this._state.remove(i),g&&this._secondsAtTime.add(g),u}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const i=this._tickOffset.get(e),a=this._state.get(e),l=Math.max(i.time,a.time),u=this.frequency.getTicksAtTime(l)+t-i.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(t,e,i){let a=this._state.get(t);this._state.forEachBetween(t,e,u=>{a&&a.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(a.time,t),u.time-this.sampleTime,i),a=u});let l=null;if(a&&a.state==="started"){const u=Math.max(a.time,t),g=this.frequency.getTicksAtTime(u),y=this.frequency.getTicksAtTime(a.time),v=g-y;let E=Math.ceil(v)-v;E=el(E,1)?0:E;let A=this.frequency.getTimeOfTick(g+E);for(;A<e;){try{i(A,Math.round(this.getTicksAtTime(A)))}catch(C){l=C;break}A+=this.frequency.getDurationOfTicks(1,A)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class hm extends ga{constructor(){const t=ae(hm.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=Sn,this._lastUpdate=0,this._state=new t0("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new s0({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,wn(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ga.getDefaults(),{callback:Sn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Bb(this.context);const i=this.toSeconds(t);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,e),i<this._lastUpdate&&this.emit("start",i,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)==="started"&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const i=this.toSeconds(e),a=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(a+t,i)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,i=>{switch(i.state){case"started":const a=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,a);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(t,e,(i,a)=>{this.callback(i,a)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}fg.mixin(hm);class Nf extends oe{constructor(){const t=ae(Nf.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new ln({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,wn(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(oe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class r0 extends oe{constructor(){const t=ae(r0.getDefaults(),arguments);super(t),this.name="Destination",this.input=new Nf({context:this.context}),this.output=new ln({context:this.context}),this.volume=this.input.volume,wu(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(oe.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),wu(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}om(s=>{s.destination=new r0({context:s})});lm(s=>{s.destination.dispose()});class V3 extends oe{constructor(){super(...arguments),this.name="Listener",this.positionX=new on({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new on({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new on({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new on({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new on({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new on({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new on({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new on({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new on({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(oe.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}om(s=>{s.listener=new V3({context:s})});lm(s=>{s.listener.dispose()});class a0 extends Ic{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=ae(a0.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++;const i=t.urls[e];this.add(e,i,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Sn,onload:Sn,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Te(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,i=Sn,a=Sn){return Sc(e)?(this.baseUrl&&e.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new Bn(this.baseUrl+e,i,a))):this._buffers.set(t.toString(),new Bn(e,i,a)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Op extends Za{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return ch(super._frequencyToUnits(t))}_ticksToUnits(t){return ch(super._ticksToUnits(t))}_beatsToUnits(t){return ch(super._beatsToUnits(t))}_secondsToUnits(t){return ch(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Zb(this.toMidi())}transpose(t){return new Op(this.context,this.toMidi()+t)}}class cf extends Pd{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class L3 extends ga{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new bo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;this._events.forEachBefore(t+this.anticipation,e=>{t-e.time<=this.expiration&&e.callback(),this._events.remove(e)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}om(s=>{s.draw=new L3({context:s})});lm(s=>{s.draw.dispose()});class F3 extends Ic{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Te(je(t.time),"Events must have a time property"),Te(je(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new U3(t.time,t.time+t.duration,t);for(this._root===null?this._root=e:this._root.insert(e),this._length++;e!==null;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(this._root!==null){const e=[];this._root.search(t.time,e);for(const i of e)if(i.event===t){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,e=>this.remove(e)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,e){t.parent!==null?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const e=t.getBalance();let i,a=null;if(e>0)if(t.left.right===null)i=t.left,i.right=t.right,a=i;else{for(i=t.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,a=i.parent,i.left=t.left,i.right=t.right)}else if(t.right.left===null)i=t.right,i.left=t.left,a=i;else{for(i=t.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,a=i.parent,i.left=t.left,i.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=i:t.parent.right=i:this._setRoot(i),a&&this._rebalance(a)}t.dispose()}_rotateLeft(t){const e=t.parent,i=t.isLeftChild(),a=t.right;a&&(t.right=a.left,a.left=t),e!==null?i?e.left=a:e.right=a:this._setRoot(a)}_rotateRight(t){const e=t.parent,i=t.isLeftChild(),a=t.left;a&&(t.left=a.right,a.right=t),e!==null?i?e.left=a:e.right=a:this._setRoot(a)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const e=[];if(this._root.search(t,e),e.length>0){let i=e[0];for(let a=1;a<e.length;a++)e[a].low>i.low&&(i=e[a]);return i.event}}return null}forEach(t){if(this._root!==null){const e=[];this._root.traverse(i=>e.push(i)),e.forEach(i=>{i.event&&t(i.event)})}return this}forEachAtTime(t,e){if(this._root!==null){const i=[];this._root.search(t,i),i.forEach(a=>{a.event&&e(a.event)})}return this}forEachFrom(t,e){if(this._root!==null){const i=[];this._root.searchAfter(t,i),i.forEach(a=>{a.event&&e(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class U3{constructor(t,e,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(this.left!==null&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),this.left!==null&&this.left.searchAfter(t,e)),this.right!==null&&this.right.searchAfter(t,e)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class B3 extends Ic{constructor(t){super(),this.name="TimelineValue",this._timeline=new bo({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Ul extends oe{constructor(){super(ae(Ul.getDefaults(),arguments,["context"]))}connect(t,e=0,i=0){return um(this,t,e,i),this}}class Pf extends Ul{constructor(){const t=ae(Pf.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Ka(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):h3(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(_n.getDefaults(),{length:1024})}setMap(t,e=1024){const i=new Float32Array(e);for(let a=0,l=e;a<l;a++){const u=a/(l-1)*2-1;i[a]=t(u,a)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const e=["none","2x","4x"].some(i=>i.includes(t));Te(e,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class fm extends Ul{constructor(){const t=ae(fm.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new Pf({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Ul.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class bu{constructor(t,e){this.id=bu._eventId++,this._remainderTime=0;const i=Object.assign(bu.getDefaults(),e);this.transport=t,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Sn,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}bu._eventId=0;class o0 extends bu{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(o0.getDefaults(),e);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},bu.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Dp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new cf(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Dp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new cf(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);yf(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class dm extends ga{constructor(){const t=ae(dm.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new B3(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new bo,this._repeatedEvents=new F3,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new hm({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),wn(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(ga.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(this._swingTicks*2)!==0){const i=e%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(i*Math.PI)*this._swingAmount;t+=new cf(this.context,this._swingTicks*2/3).toSeconds()*a}wT(!0),this._timeline.forEachAtTime(e,i=>i.invoke(t)),wT(!1)}schedule(t,e){const i=new bu(this,{callback:t,time:new Pd(this.context,e).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(t,e,i,a=1/0){const l=new o0(this,{callback:t,duration:new nl(this.context,a).toTicks(),interval:new nl(this.context,e).toTicks(),time:new Pd(this.context,i).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(t,e){const i=new bu(this,{callback:t,once:!0,time:new Pd(this.context,e).toTicks()});return this._addEvent(i,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(e,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new cf(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){this.context.resume();let i;return je(e)&&(i=this.toTicks(e)),this._clock.start(t,i),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Ka(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new nl(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new nl(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new cf(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new cf(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),i=this._clock.frequency.timeToTicks(t,e);this.ticks=i}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(e),a=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,e),l=e+a;this.emit("stop",l),this._clock.setTicksAtTime(t,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const e=this.now(),i=this.getTicksAtTime(e),a=t-i%t;return this._clock.nextTickTime(a,e)}}syncSignal(t,e){const i=this.now();let a=this.bpm,l=1/(60/a.getValueAtTime(i)/this.PPQ),u=[];if(t.units==="time"){const y=.015625/l,v=new ln(y),E=new fm(-1),A=new ln(y);a.chain(v,E,A),a=A,l=1/l,u=[v,E,A]}e||(t.getValueAtTime(i)!==0?e=t.getValueAtTime(i)/l:e=0);const g=new ln(e);return a.connect(g),g.connect(t._param),u.push(g),this._syncedSignals.push({initial:t.value,nodes:u,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const i=this._syncedSignals[e];i.signal===t&&(i.nodes.forEach(a=>a.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Jy(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}fg.mixin(dm);om(s=>{s.transport=new dm({context:s})});lm(s=>{s.transport.dispose()});class Os extends oe{constructor(t){super(t),this.input=void 0,this._state=new t0("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Sn,this._syncedStop=Sn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Nf({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,wn(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(oe.getDefaults(),{mute:!1,onstop:Sn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,i){let a=wo(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Te(yf(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,e,i);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const l=this._state.get(a);l&&(l.offset=this.toSeconds(hf(e,0)),l.duration=i?this.toSeconds(i):void 0);const u=this.context.transport.schedule(g=>{this._start(g,e,i)},a);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Bb(this.context),this._start(a,e,i);return this}stop(t){let e=wo(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),this._state.getValueAtTime(e)==="started"||je(this._state.getNextState("started",e))){if(this.log("stop",e),!this._synced)this._stop(e);else{const i=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(i)}this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,i){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,e,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(yf(e,0)){const i=this._state.get(e);if(i&&i.state==="started"&&i.time!==e){const a=e-this.toSeconds(i.time);let l;i.duration&&(l=this.toSeconds(i.duration)-a),this._start(t,this.toSeconds(i.offset)+a,l)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Sn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class gg extends vf{constructor(){const t=ae(gg.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,rl(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new on({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Bn(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(vf.getDefaults(),{url:new Bn,loop:!1,loopEnd:0,loopStart:0,onload:Sn,onerror:Sn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,i,a=1){Te(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(t);this._startGain(l,a),this.loop?e=hf(e,this.loopStart):e=hf(e,0);let u=Math.max(this.toSeconds(e),0);if(this.loop){const g=this.toSeconds(this.loopEnd)||this.buffer.duration,y=this.toSeconds(this.loopStart),v=g-y;ay(u,g)&&(u=(u-y)%v+y),el(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Dp(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,u)),je(i)){let g=this.toSeconds(i);g=Math.max(g,0),this.stop(l+g)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Gd extends Os{constructor(){const t=ae(Gd.getDefaults(),arguments,["type"]);super(t),this.name="Noise",this._source=null,this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Os.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(Te(t in bT,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,this.state==="started")){const e=this.now();this._stop(e),this._start(e)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=bT[this._type];this._source=new gg({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const ef=44100*5,U_=2,_c={brown:null,pink:null,white:null},bT={get brown(){if(!_c.brown){const s=[];for(let t=0;t<U_;t++){const e=new Float32Array(ef);s[t]=e;let i=0;for(let a=0;a<ef;a++){const l=Math.random()*2-1;e[a]=(i+.02*l)/1.02,i=e[a],e[a]*=3.5}}_c.brown=new Bn().fromArray(s)}return _c.brown},get pink(){if(!_c.pink){const s=[];for(let t=0;t<U_;t++){const e=new Float32Array(ef);s[t]=e;let i,a,l,u,g,y,v;i=a=l=u=g=y=v=0;for(let E=0;E<ef;E++){const A=Math.random()*2-1;i=.99886*i+A*.0555179,a=.99332*a+A*.0750759,l=.969*l+A*.153852,u=.8665*u+A*.3104856,g=.55*g+A*.5329522,y=-.7616*y-A*.016898,e[E]=i+a+l+u+g+y+v+A*.5362,e[E]*=.11,v=A*.115926}}_c.pink=new Bn().fromArray(s)}return _c.pink},get white(){if(!_c.white){const s=[];for(let t=0;t<U_;t++){const e=new Float32Array(ef);s[t]=e;for(let i=0;i<ef;i++)e[i]=Math.random()*2-1}_c.white=new Bn().fromArray(s)}return _c.white}};function vh(s,t){return is(this,void 0,void 0,function*(){const e=t/s.context.sampleRate,i=new jy(1,e,s.context.sampleRate);return new s.constructor(Object.assign(s.get(),{frequency:2/e,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class l0 extends vf{constructor(){const t=ae(l0.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],rl(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new on({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new on({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),wn(this,["frequency","detune"])}static getDefaults(){return Object.assign(vf.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Vi extends Os{constructor(){const t=ae(Vi.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new _n({context:this.context,units:"frequency",value:t.frequency}),wn(this,"frequency"),this.detune=new _n({context:this.context,units:"cents",value:t.detune}),wn(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Os.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),i=new l0({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Vi._periodicWaveCache.find(e=>e.phase===this._phase&&b3(e.partials,this._partials));{const t=Vi._periodicWaveCache.find(e=>e.type===this._type&&e.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&e)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const i=this._getCachedPeriodicWave();if(je(i)){const{partials:a,wave:l}=i;this._wave=l,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,l]=this._getRealImaginary(t,this._phase),u=this.context.createPeriodicWave(a,l);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Vi._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Vi._periodicWaveCache.length>100&&Vi._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Ac(t,0);let e=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(e=i[1]),this._type!=="custom")t===0?this.type=e:this.type=e+t.toString();else{const a=new Float32Array(t);this._partials.forEach((l,u)=>a[u]=l),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(t,e){let a=2048;const l=new Float32Array(a),u=new Float32Array(a);let g=1;if(t==="custom"){if(g=this._partials.length+1,this._partialCount=this._partials.length,a=g,this._partials.length===0)return[l,u]}else{const y=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);y?(g=parseInt(y[2],10)+1,this._partialCount=parseInt(y[2],10),t=y[1],g=Math.max(g,2),a=g):this._partialCount=0,this._partials=[]}for(let y=1;y<a;++y){const v=2/(y*Math.PI);let E;switch(t){case"sine":E=y<=g?1:0,this._partials[y-1]=E;break;case"square":E=y&1?2*v:0,this._partials[y-1]=E;break;case"sawtooth":E=v*(y&1?1:-1),this._partials[y-1]=E;break;case"triangle":y&1?E=2*(v*v)*(y-1>>1&1?-1:1):E=0,this._partials[y-1]=E;break;case"custom":E=this._partials[y-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}E!==0?(l[y]=-E*Math.sin(e*y),u[y]=E*Math.cos(e*y)):(l[y]=0,u[y]=0)}return[l,u]}_inverseFFT(t,e,i){let a=0;const l=t.length;for(let u=0;u<l;u++)a+=t[u]*Math.cos(u*i)+e[u]*Math.sin(u*i);return a}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let i=0;const a=Math.PI*2,l=32;for(let u=0;u<l;u++)i=Math.max(this._inverseFFT(t,e,u/l*a),i);return S3(-this._inverseFFT(t,e,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return is(this,arguments,void 0,function*(t=1024){return vh(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Vi._periodicWaveCache=[];class c0 extends Ul{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Pf({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Bl extends _n{constructor(){const t=ae(Bl.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ln({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(_n.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class gm extends Os{constructor(){const t=ae(gm.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new c0({context:this.context}),this._modulationNode=new ln({context:this.context}),this._carrier=new Vi({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Vi({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Bl({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),wn(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Vi.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return is(this,arguments,void 0,function*(t=1024){return vh(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class pg extends Os{constructor(){const t=ae(pg.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new ln({context:this.context,gain:0}),this._carrier=new Vi({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new _n({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Vi({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Bl({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Bl({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),wn(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Vi.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return is(this,arguments,void 0,function*(t=1024){return vh(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class mg extends Os{constructor(){const t=ae(mg.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new ln({context:this.context,gain:0}),this._thresh=new Pf({context:this.context,mapping:e=>e<=0?-1:1}),this.width=new _n({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Vi({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),wn(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Os.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return is(this,arguments,void 0,function*(t=1024){return vh(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class pm extends Os{constructor(){const t=ae(pm.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new _n({context:this.context,units:"frequency",value:t.frequency}),this.detune=new _n({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,wn(this,["frequency","detune"])}static getDefaults(){return Object.assign(Vi.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,i=t/(this._oscillators.length-1);this._forEach((a,l)=>a.detune.value=e+i*l)}}get count(){return this._oscillators.length}set count(t){if(Ac(t,1),this._oscillators.length!==t){this._forEach(e=>e.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const i=new Vi({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:e===0?()=>this.onstop(this):Sn});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[e]=i}this.spread=this._spread,this.state==="started"&&this._forEach(e=>e.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((e,i)=>e.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(){return is(this,arguments,void 0,function*(t=1024){return vh(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class mm extends Os{constructor(){const t=ae(mm.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Bl({context:this.context,value:2}),this._pulse=new mg({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Vi({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),wn(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Os.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return is(this,arguments,void 0,function*(t=1024){return vh(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ET={am:gm,fat:pm,fm:pg,oscillator:Vi,pulse:mg,pwm:mm};class Tf extends Os{constructor(){const t=ae(Tf.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new _n({context:this.context,units:"frequency",value:t.frequency}),this.detune=new _n({context:this.context,units:"cents",value:t.detune}),wn(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Vi.getDefaults(),pg.getDefaults(),gm.getDefaults(),pm.getDefaults(),mg.getDefaults(),mm.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(e=>this._sourceType===e)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=ET[t],i=this.now();if(this._oscillator){const a=this._oscillator;a.stop(i),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(e=this._oscillator.type),t==="fm"?this.type="fm"+e:t==="am"?this.type="am"+e:t==="fat"?this.type="fat"+e:t==="oscillator"?this.type=e:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,e){return t instanceof ET[e]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&Ec(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&Ec(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Sc(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return is(this,arguments,void 0,function*(t=1024){return vh(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class u0 extends _n{constructor(){super(ae(u0.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ln({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,wu(this._constantSource,this._sum)}static getDefaults(){return Object.assign(_n.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class _g extends Ul{constructor(){const t=ae(_g.getDefaults(),arguments,["min","max"]);super(t),this.name="Scale",this._mult=this.input=new Bl({context:this.context,value:t.max-t.min}),this._add=this.output=new u0({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Ul.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class h0 extends Ul{constructor(){super(ae(h0.getDefaults(),arguments)),this.name="Zero",this._gain=new ln({context:this.context}),this.output=this._gain,this.input=void 0,rl(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Kb(this.context.getConstant(0),this._gain),this}}class Xd extends oe{constructor(){const t=ae(Xd.getDefaults(),arguments,["frequency","min","max"]);super(t),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=on.prototype._fromType,this._toType=on.prototype._toType,this._is=on.prototype._is,this._clampValue=on.prototype._clampValue,this._oscillator=new Vi(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new ln({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new _n({context:this.context,units:"audioRange",value:0}),this._zeros=new h0({context:this.context}),this._a2g=new c0({context:this.context}),this._scaler=this.output=new _g({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),wn(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(Vi.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,i=this.max;this._units=t,this.min=e,this.max=i}get state(){return this._oscillator.state}connect(t,e,i){return(t instanceof on||t instanceof _n)&&(this.convert=t.convert,this.units=t.units),um(this,t,e,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Jb(s,t=1/0){const e=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return e.get(this)},set:function(l){Ac(l,s,t),e.set(this,l)}})}}function kc(s,t=1/0){const e=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return e.get(this)},set:function(l){Ac(this.toSeconds(l),s,t),e.set(this,l)}})}}class yg extends Os{constructor(){const t=ae(yg.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new Bn({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Os.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Sn,onerror:Sn,playbackRate:1,reverse:!1})}load(t){return is(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=Sn){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,i){return super.start(t,e,i),this}_start(t,e,i){this._loop?e=hf(e,this._loopStart):e=hf(e,0);const a=this.toSeconds(e),l=i;i=hf(i,Math.max(this._buffer.duration-a,0));let u=this.toSeconds(i);u=u/this._playbackRate,t=this.toSeconds(t);const g=new gg({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+u),this._state.setStateAtTime("stopped",t+u,{implicitEnd:!0})),this._activeSources.add(g),this._loop&&wo(l)?g.start(t,a):g.start(t,a,u-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(i=>i.stop(e))}restart(t,e,i){return super.restart(t,e,i),this}_restart(t,e,i){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(t),this._start(t,e,i)}seek(t,e){const i=this.toSeconds(e);if(this._state.getValueAtTime(i)==="started"){const a=this.toSeconds(t);this._stop(i),this._start(i,a)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Ac(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Ac(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),i=this._state.getNextState("stopped",e);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}ul([kc(0)],yg.prototype,"fadeIn",void 0);ul([kc(0)],yg.prototype,"fadeOut",void 0);class z3 extends Ul{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Pf({context:this.context,mapping:t=>Math.abs(t)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Gr extends oe{constructor(){const t=ae(Gr.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new _n({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(oe.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Sc(t))return t;{let i;for(i in ip)if(ip[i][e]===t)return i;return t}}_setCurve(t,e,i){if(Sc(i)&&Reflect.has(ip,i)){const a=ip[i];hh(a)?t!=="_decayCurve"&&(this[t]=a[e]):this[t]=a}else if(Ka(i)&&t!=="_decayCurve")this[t]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let a=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),u=this.getValueAtTime(t);if(u>0){const g=1/a;a=(1-u)/g}if(a<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(e,a,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(e,a,t);else{this._sig.cancelAndHoldAtTime(t);let g=this._attackCurve;for(let y=1;y<g.length;y++)if(g[y-1]<=u&&u<=g[y]){g=this._attackCurve.slice(y),g[0]=u;break}this._sig.setValueCurveAtTime(g,t,a,e)}if(l&&this.sustain<1){const g=e*this.sustain,y=t+a;this.log("decay",y),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(g,l+y):this._sig.exponentialApproachValueAtTime(g,y,l)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,t):(Te(Ka(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,i,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,i=1){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,i=0){return um(this,t,e,i),this}asArray(){return is(this,arguments,void 0,function*(t=1024){const e=t/this.context.sampleRate,i=new jy(1,e,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=a+this.toSeconds(this.release),u=l*.1,g=l+u,y=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/g,decay:e*this.toSeconds(this.decay)/g,release:e*this.toSeconds(this.release)/g,context:i}));return y._sig.toDestination(),y.triggerAttackRelease(e*(a+u)/g,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}ul([kc(0)],Gr.prototype,"attack",void 0);ul([kc(0)],Gr.prototype,"decay",void 0);ul([Jb(0,1)],Gr.prototype,"sustain",void 0);ul([kc(0)],Gr.prototype,"release",void 0);const ip=(()=>{let t,e;const i=[];for(t=0;t<128;t++)i[t]=Math.sin(t/127*(Math.PI/2));const a=[],l=6.4;for(t=0;t<127;t++){e=t/127;const C=Math.sin(e*(Math.PI*2)*l-Math.PI/2)+1;a[t]=C/10+e*.83}a[127]=1;const u=[],g=5;for(t=0;t<128;t++)u[t]=Math.ceil(t/127*g)/g;const y=[];for(t=0;t<128;t++)e=t/127,y[t]=.5*(1-Math.cos(Math.PI*e));const v=[];for(t=0;t<128;t++){e=t/127;const C=Math.pow(e,3)*4+.2,N=Math.cos(C*Math.PI*2*e);v[t]=Math.abs(N*(1-e))}function E(C){const N=new Array(C.length);for(let L=0;L<C.length;L++)N[L]=1-C[L];return N}function A(C){return C.slice(0).reverse()}return{bounce:{In:E(v),Out:v},cosine:{In:i,Out:A(i)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:E(a)},sine:{In:y,Out:E(y)},step:{In:u,Out:E(u)}}})();class Eo extends oe{constructor(){const t=ae(Eo.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=e=>this._original_triggerRelease(e),this._volume=this.output=new Nf({context:this.context,volume:t.volume}),this.volume=this._volume.volume,wn(this,"volume")}static getDefaults(){return Object.assign(oe.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const i=this["_original_"+t]=this[t];this[t]=(...a)=>{const l=a[e],u=this.context.transport.schedule(g=>{a[e]=g,i.apply(this,a)},l);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,e,i,a){const l=this.toSeconds(i),u=this.toSeconds(e);return this.triggerAttack(t,l,a),this.triggerRelease(l+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class al extends Eo{constructor(){const t=ae(al.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Eo.getDefaults(),{detune:0,onsilence:Sn,portamento:0})}triggerAttack(t,e,i=1){this.log("triggerAttack",t,e,i);const a=this.toSeconds(e);return this._triggerEnvelopeAttack(a,i),this.setNote(t,a),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const i=this.toSeconds(e),a=t instanceof Za?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,l,i)}else this.frequency.setValueAtTime(a,i);return this}}ul([kc(0)],al.prototype,"portamento",void 0);class _m extends Gr{constructor(){super(ae(_m.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ln({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class zr extends al{constructor(){const t=ae(zr.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new Tf(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new _m(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),wn(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(al.getDefaults(),{envelope:Object.assign(Ol(Gr.getDefaults(),Object.keys(oe.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ol(Tf.getDefaults(),[...Object.keys(Os.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+i+a)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Wd extends al{constructor(){const t=ae(Wd.getDefaults(),arguments);super(t),this.name="ModulationSynth",this._carrier=new zr({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new zr({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new _n({context:this.context,units:"frequency"}),this.detune=new _n({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new Bl({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new ln({context:this.context,gain:0}),wn(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(al.getDefaults(),{harmonicity:3,oscillator:Object.assign(Ol(Tf.getDefaults(),[...Object.keys(Os.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Ol(Gr.getDefaults(),Object.keys(oe.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Ol(Tf.getDefaults(),[...Object.keys(Os.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Ol(Gr.getDefaults(),Object.keys(oe.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class f0 extends Wd{constructor(){super(ae(f0.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new c0({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Np extends oe{constructor(){const t=ae(Np.getDefaults(),arguments,["frequency","type"]);super(t),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new on({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new on({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new on({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new on({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(oe.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Te(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let u=0;u<t;u++){const y=Math.pow(u/t,2)*19980+20;e[u]=y}const i=new Float32Array(t),a=new Float32Array(t),l=this.context.createBiquadFilter();return l.type=this.type,l.Q.value=this.Q.value,l.frequency.value=this.frequency.value,l.gain.value=this.gain.value,l.getFrequencyResponse(e,i,a),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}let d0=class jb extends oe{constructor(){const t=ae(jb.getDefaults(),arguments,["frequency","type","rolloff"]);super(t),this.name="Filter",this.input=new ln({context:this.context}),this.output=new ln({context:this.context}),this._filters=[],this._filters=[],this.Q=new _n({context:this.context,units:"positive",value:t.Q}),this.frequency=new _n({context:this.context,units:"frequency",value:t.frequency}),this.detune=new _n({context:this.context,units:"cents",value:t.detune}),this.gain=new _n({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,wn(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(oe.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){Te(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._type=t,this._filters.forEach(i=>i.type=t)}get rolloff(){return this._rolloff}set rolloff(t){const e=Ec(t)?t:parseInt(t,10),i=[-12,-24,-48,-96];let a=i.indexOf(e);Te(a!==-1,`rolloff can only be ${i.join(", ")}`),a+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach(l=>l.disconnect()),this._filters=new Array(a);for(let l=0;l<a;l++){const u=new Np({context:this.context});u.type=this._type,this.frequency.connect(u.frequency),this.detune.connect(u.detune),this.Q.connect(u.Q),this.gain.connect(u.gain),this._filters[l]=u}this._internalChannels=this._filters,wu(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new Np({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{e.getFrequencyResponse(t).forEach((l,u)=>i[u]*=l)}),e.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),Jy(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}};class g0 extends Gr{constructor(){const t=ae(g0.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="FrequencyEnvelope",this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new fm({context:this.context,value:t.exponent}),this._scale=this.output=new _g({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Gr.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);Ac(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Pp extends Wd{constructor(){const t=ae(Pp.getDefaults(),arguments);super(t),this.name="FMSynth",this.modulationIndex=new Bl({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Wd.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const ST=[1,1.483,1.932,2.546,2.63,3.897];class p0 extends al{constructor(){const t=ae(p0.getDefaults(),arguments);super(t),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[],this.detune=new _n({context:this.context,units:"cents",value:t.detune}),this.frequency=new _n({context:this.context,units:"frequency"}),this._amplitude=new ln({context:this.context,gain:0}).connect(this.output),this._highpass=new d0({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<ST.length;e++){const i=new pg({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:e===0?()=>this.onsilence(this):Sn,type:"square"});i.connect(this._highpass),this._oscillators[e]=i;const a=new Bl({context:this.context,value:ST[e]});this._freqMultipliers[e]=a,this.frequency.chain(a,i.frequency),this.detune.connect(i.detune)}this._filterFreqScaler=new _g({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new Gr({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return wc(al.getDefaults(),{envelope:Object.assign(Ol(Gr.getDefaults(),Object.keys(oe.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach(i=>i.start(t)),this.envelope.sustain===0&&this._oscillators.forEach(i=>{i.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach(e=>e.stop(t+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach(e=>e.modulationIndex.value=t)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach(e=>e.harmonicity.value=t)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=>t.dispose()),this._freqMultipliers.forEach(t=>t.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class fh extends zr{constructor(){const t=ae(fh.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,wn(this,["oscillator","envelope"])}static getDefaults(){return wc(al.getDefaults(),zr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const i=this.toSeconds(e),a=this.toFrequency(t instanceof Za?t.toFrequency():t),l=a*this.octaves;return this.oscillator.frequency.setValueAtTime(l,i),this.oscillator.frequency.exponentialRampToValueAtTime(a,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ul([Jb(0)],fh.prototype,"octaves",void 0);ul([kc(0)],fh.prototype,"pitchDecay",void 0);class vc extends Eo{constructor(){const t=ae(vc.getDefaults(),arguments);super(t),this.name="NoiseSynth",this.noise=new Gd(Object.assign({context:this.context},t.noise)),this.envelope=new _m(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Eo.getDefaults(),{envelope:Object.assign(Ol(Gr.getDefaults(),Object.keys(oe.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Ol(Gd.getDefaults(),Object.keys(Os.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),this.envelope.sustain===0&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,i=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const m0=new Set;function _0(s){m0.add(s)}function $b(s,t){const e=`registerProcessor("${s}", ${t})`;m0.add(e)}function H3(){return Array.from(m0).join(`
`)}class Y3 extends oe{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Sn;const e=URL.createObjectURL(new Blob([H3()],{type:"text/javascript"})),i=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(i,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const G3=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;_0(G3);const X3=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;_0(X3);const W3=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;_0(W3);const tE="feedback-comb-filter",q3=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;$b(tE,q3);class y0 extends Y3{constructor(){const t=ae(y0.getDefaults(),arguments,["delayTime","resonance"]);super(t),this.name="FeedbackCombFilter",this.input=new ln({context:this.context}),this.output=new ln({context:this.context}),this.delayTime=new on({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new on({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),wn(this,["resonance","delayTime"])}_audioWorkletName(){return tE}static getDefaults(){return Object.assign(oe.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){wu(this.input,t,this.output);const e=t.parameters.get("delayTime");this.delayTime.setParam(e);const i=t.parameters.get("feedback");this.resonance.setParam(i)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class v0 extends oe{constructor(){const t=ae(v0.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OnePoleFilter",this._frequency=t.frequency,this._type=t.type,this.input=new ln({context:this.context}),this.output=new ln({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(oe.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),i=1/(2*Math.PI*e);if(this._type==="lowpass"){const a=1/(i*this.context.sampleRate),l=a-1;this._filter=this.context.createIIRFilter([a,0],[1,l])}else{const a=1/(i*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,a])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let l=0;l<t;l++){const g=Math.pow(l/t,2)*19980+20;e[l]=g}const i=new Float32Array(t),a=new Float32Array(t);return this._filter.getFrequencyResponse(e,i,a),i}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class T0 extends oe{constructor(){const t=ae(T0.getDefaults(),arguments,["delayTime","resonance","dampening"]);super(t),this.name="LowpassCombFilter",this._combFilter=this.output=new y0({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new v0({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(oe.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class w0 extends Eo{constructor(){const t=ae(w0.getDefaults(),arguments);super(t),this.name="PluckSynth",this._noise=new Gd({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new T0({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return wc(Eo.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const i=this.toFrequency(t);e=this.toSeconds(e);const a=1/i;return this._lfcf.delayTime.setValueAtTime(a,e),this._noise.start(e),this._noise.stop(e+a*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class b0 extends Eo{constructor(){const t=ae(b0.getDefaults(),arguments,["voice","options"]);super(t),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Te(!Ec(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Eo.getDefaults(),{maxPolyphony:32,options:{},voice:zr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex(i=>i.voice===t);this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Te(t instanceof al,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}else am("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,i){t.forEach(a=>{const l=new Op(this.context,a).toMidi(),u=this._getNextAvailableVoice();u&&(u.triggerAttack(a,e,i),this._activeVoices.push({midi:l,voice:u,released:!1}),this.log("triggerAttack",a,e))})}_triggerRelease(t,e){t.forEach(i=>{const a=new Op(this.context,i).toMidi(),l=this._activeVoices.find(({midi:u,released:g})=>u===a&&!g);l&&(l.voice.triggerRelease(e),l.released=!0,this.log("triggerRelease",i,e))})}_scheduleEvent(t,e,i,a){Te(!this.disposed,"Synth was already disposed"),i<=this.now()?t==="attack"?this._triggerAttack(e,i,a):this._triggerRelease(e,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(t,e,i,a)},i-this.now())}triggerAttack(t,e,i){Array.isArray(t)||(t=[t]);const a=this.toSeconds(e);return this._scheduleEvent("attack",t,a,i),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const i=this.toSeconds(e);return this._scheduleEvent("release",t,i),this}triggerAttackRelease(t,e,i,a){const l=this.toSeconds(i);if(this.triggerAttack(t,l,a),Ka(e)){Te(Ka(t),"If the duration is an array, the notes must also be an array"),t=t;for(let u=0;u<t.length;u++){const g=e[Math.min(u,e.length-1)],y=this.toSeconds(g);Te(y>0,"The duration must be greater than 0"),this.triggerRelease(t[u],l+y)}}else{const u=this.toSeconds(e);Te(u>0,"The duration must be greater than 0"),this.triggerRelease(t,l+u)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const e=Ol(t,["onsilence","context"]);return this.options=wc(this.options,e),this._voices.forEach(i=>i.set(e)),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(e)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class ym extends Eo{constructor(){const t=ae(ym.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const e={};Object.keys(t.urls).forEach(i=>{const a=parseInt(i,10);if(Te(np(i)||Ec(a)&&isFinite(a),`url key is neither a note or midi pitch: ${i}`),np(i)){const l=new Za(this.context,i).toMidi();e[l]=t.urls[i]}else Ec(a)&&isFinite(a)&&(e[a]=t.urls[a])}),this._buffers=new a0({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Eo.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Sn,onerror:Sn,release:.1,urls:{}})}_findClosest(t){let i=0;for(;i<96;){if(this._buffers.has(t+i))return-i;if(this._buffers.has(t-i))return i;i++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,i=1){return this.log("triggerAttack",t,e,i),Array.isArray(t)||(t=[t]),t.forEach(a=>{const l=Qb(new Za(this.context,a).toFrequency()),u=Math.round(l),g=l-u,y=this._findClosest(u),v=u-y,E=this._buffers.get(v),A=qb(y+g),C=new gg({url:E,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:A}).connect(this.output);C.start(e,0,E.duration/A,i),Ka(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(C),C.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const N=this._activeSources.get(u),L=N.indexOf(C);L!==-1&&N.splice(L,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(i=>{const a=new Za(this.context,i).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const l=this._activeSources.get(a);e=this.toSeconds(e),l.forEach(u=>{u.stop(e)}),this._activeSources.set(a,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(e)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,i,a=1){const l=this.toSeconds(i);return this.triggerAttack(t,l,a),Ka(e)?(Te(Ka(t),"notes must be an array when duration is array"),t.forEach((u,g)=>{const y=e[Math.min(g,e.length-1)];this.triggerRelease(u,l+this.toSeconds(y))})):this.triggerRelease(t,l+this.toSeconds(e)),this}add(t,e,i){if(Te(np(t)||isFinite(t),`note must be a pitch or midi: ${t}`),np(t)){const a=new Za(this.context,t).toMidi();this._buffers.add(a,e,i)}else this._buffers.add(t,e,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(e=>e.dispose())}),this._activeSources.clear(),this}}ul([kc(0)],ym.prototype,"attack",void 0);ul([kc(0)],ym.prototype,"release",void 0);class vm extends oe{constructor(){const t=ae(vm.getDefaults(),arguments,["fade"]);super(t),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new z3({context:this.context}),this.a=new ln({context:this.context,gain:0}),this.b=new ln({context:this.context,gain:0}),this.output=new ln({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new _n({context:this.context,units:"normalRange",value:t.fade}),wn(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",rl(this._split,this.a.gain,0),rl(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(oe.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class AT extends oe{constructor(t){super(t),this.name="Effect",this._dryWet=new vm({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ln({context:this.context}),this.effectReturn=new ln({context:this.context}),this.input=new ln({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],wn(this,"wet")}static getDefaults(){return Object.assign(oe.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class CT extends AT{constructor(t){super(t),this.name="LFOEffect",this._lfo=new Xd({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,wn(this,["frequency","depth"])}static getDefaults(){return Object.assign(AT.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Vp extends CT{constructor(){const t=ae(Vp.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);super(t),this.name="AutoFilter",this.filter=new d0(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(CT.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class E0 extends oe{constructor(){const t=ae(E0.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new on({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",wn(this,"pan")}static getDefaults(){return Object.assign(oe.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Q3="bit-crusher",Z3=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;$b(Q3,Z3);class S0 extends oe{constructor(){const t=ae(S0.getDefaults(),arguments,["channels"]);super(t),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(oe.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class A0 extends oe{constructor(){const t=ae(A0.getDefaults(),arguments,["channels"]);super(t),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(oe.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class xT extends oe{constructor(t){super(t),this.name="StereoEffect",this.input=new ln({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new vm({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new S0({context:this.context,channels:2}),this._merge=new A0({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),wn(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),wu(...t),rl(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),wu(...t),rl(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(oe.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class C0 extends xT{constructor(){const t=ae(C0.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);super(t),this.name="Phaser",this._lfoL=new Xd({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Xd({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new _n({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),wn(this,["frequency","Q"])}static getDefaults(){return Object.assign(xT.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const i=[];for(let a=0;a<t;a++){const l=this.context.createBiquadFilter();l.type="allpass",this.Q.connect(l.Q),e.connect(l.frequency),i.push(l)}return i}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=>t.disconnect()),this._filtersR.forEach(t=>t.disconnect()),this.frequency.dispose(),this}}class es extends oe{constructor(){const t=ae(es.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new ln({context:this.context}),es._allSolos.has(this.context)||es._allSolos.set(this.context,new Set),es._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(oe.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),es._allSolos.get(this.context).forEach(e=>e._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){es._soloed.has(this.context)||es._soloed.set(this.context,new Set),es._soloed.get(this.context).add(this)}_removeSolo(){es._soloed.has(this.context)&&es._soloed.get(this.context).delete(this)}_isSoloed(){return es._soloed.has(this.context)&&es._soloed.get(this.context).has(this)}_noSolos(){return!es._soloed.has(this.context)||es._soloed.has(this.context)&&es._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),es._allSolos.get(this.context).delete(this),this._removeSolo(),this}}es._allSolos=new Map;es._soloed=new Map;class x0 extends oe{constructor(){const t=ae(x0.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new E0({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Nf({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,wn(this,["pan","volume"])}static getDefaults(){return Object.assign(oe.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class uf extends oe{constructor(){const t=ae(uf.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new es({solo:t.solo,context:this.context}),this._panVol=this.output=new x0({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),wn(this,["pan","volume"])}static getDefaults(){return Object.assign(oe.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return uf.buses.has(t)||uf.buses.set(t,new ln({context:this.context})),uf.buses.get(t)}send(t,e=0){const i=this._getBus(t),a=new ln({context:this.context,units:"decibels",gain:e});return this.connect(a),a.connect(i),a}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}uf.buses=new Map;To().transport;function B_(){return To().transport}To().destination;To().destination;To().listener;To().draw;To();function K3(){return Bn.loaded()}const eE=Ct.createContext(null),Tm=()=>Ct.useContext(eE);function J3({children:s}){const[t,e]=Ct.useState(!1),i=Ct.useRef(null),a=Ct.useRef(null),l=Ct.useRef(null),u=Ct.useRef(null),g=Ct.useRef(null),y=Ct.useRef(null),v=Ct.useRef(null),E=Ct.useRef(null),A=Ct.useRef(null),C=Ct.useRef(null),N=Ct.useRef(null),L=Ct.useRef(null),Z=Ct.useRef(null),H=Ct.useRef(null),j=Ct.useRef(null),lt=Ct.useRef(null),st=Ct.useRef(null),pt=Ct.useRef(null),J=Ct.useRef(null),rt=Ct.useRef(null),V=Ct.useRef(null),I=Ct.useRef(!1),P=async bt=>{const xt=new yg(bt).toDestination();return await K3(),xt.loop=!0,xt.volume.value=-10,xt.sync(),xt},et={hitSynth:i,scoreSynth:a,startAudio:async()=>{if(!I.current){if(I.current=!0,M3(),v.current=await P("./battle-of-pogs.mp3"),E.current=await P("./The-Pirate-And-The Dancer.mp3"),A.current=await P("./8-Bit-Epic-Gameboy.mp3"),e(!0),i.current||(i.current=new zr().toDestination()),a.current||(a.current=new zr({oscillator:{type:"triangle"}}).toDestination()),u.current||(u.current=new zr({oscillator:{type:"sine"},envelope:{attack:.5,decay:.1,sustain:1,release:1}}).toDestination()),!l.current){const bt=new vc({noise:{type:"pink"},envelope:{attack:.05,decay:.1,sustain:.5,release:.5}}).toDestination(),xt=new Vp("3n").toDestination().start();bt.connect(xt),bt.volume.value=-10,l.current=bt}if(g.current||(g.current=new f0({harmonicity:1.5,envelope:{attack:.1,sustain:1,release:.5},volume:10}).toDestination()),!y.current){const bt=new zr({oscillator:{type:"sine",volume:10}}).toDestination(),xt=new g0({attack:.01,baseFrequency:"G2",octaves:-3,release:.4}).connect(bt.frequency);bt.trigger=xt,y.current=bt}if(N.current||(N.current=new zr({oscillator:{type:"square"},envelope:{attack:.005,decay:.1,sustain:0,release:.1}}).toDestination()),!C.current){const bt=new vc({noise:{type:"white"},envelope:{attack:.005,decay:.2,sustain:0}}).toDestination(),xt=new Vp("2n").toDestination().start();xt.baseFrequency=400,xt.octaves=4,bt.connect(xt),C.current=bt}if(L.current||(L.current=new vc({noise:{type:"white"},envelope:{attack:.001,decay:.05,sustain:0}}).toDestination()),Z.current||(Z.current=new fh({pitchDecay:.01,octaves:1,oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:0,release:.01}}).toDestination()),H.current||(H.current=new b0(zr,{oscillator:{type:"fatsawtooth"},envelope:{attack:.01,decay:.1,sustain:.2,release:.2}}).toDestination()),j.current||(j.current=new zr({oscillator:{type:"pulse",width:.2},envelope:{attack:.4,decay:.1,sustain:.8,release:.5}}).toDestination()),!lt.current){const bt=new vc({noise:{type:"brown"},envelope:{attack:.01,decay:.5,sustain:0}}).toDestination(),xt=new d0(100,"lowpass").toDestination();bt.connect(xt),lt.current=bt}if(st.current||(st.current=new Pp({harmonicity:2,modulationIndex:10,envelope:{attack:.2,decay:.3,sustain:.1,release:1},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:.1}}).toDestination()),pt.current||(pt.current=new w0({attackNoise:1,dampening:4e3,resonance:.9}).toDestination()),!J.current){const bt=new p0({envelope:{attack:.01,decay:.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5}).toDestination();bt.frequency.value=100;const xt=new C0({frequency:15,octaves:5,baseFrequency:1e3}).toDestination();bt.connect(xt),J.current=bt}V.current||(V.current=new zr({oscillator:{type:"square"},envelope:{attack:.005,decay:.05,sustain:0,release:.1},volume:-10}).toDestination()),rt.current||(rt.current=new Pp({harmonicity:.5,modulationIndex:10,envelope:{attack:1,decay:.2,sustain:.1,release:1},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination())}},shrinkSynth:l,slowSynth:u,superShotApontar:g,superShotFogo:y,moveMenu:N,movePage:C,powerUpDropSynth:H,bigPaddleSynth:j,explosionSynth:lt,extraLifeSynth:st,multiballSynth:pt,barrierSynth:J,playerShootSynth:V,bossAppearanceSynth:rt,alienExplosionSound:()=>{const bt=new vc({noise:{type:"white"},envelope:{attack:.001,decay:.05,sustain:0},volume:-15}).toDestination();bt.triggerAttackRelease("32n"),setTimeout(()=>bt.dispose(),200)},bigExplosionSound:()=>{const bt=new vc({noise:{type:"pink"},envelope:{attack:.01,decay:.4,sustain:0},volume:-5}).toDestination(),xt=new fh({pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4},volume:0}).toDestination();bt.triggerAttackRelease("0.5s"),xt.triggerAttackRelease("C1","0.5s"),setTimeout(()=>{bt.dispose(),xt.dispose()},2e3)},brickBreakSynth:()=>{const bt=new vc({noise:{type:"white"},envelope:{attack:.001,decay:.05,sustain:0}}).toDestination(),xt=new fh({pitchDecay:.01,octaves:1,oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:0,release:.01}}).toDestination();bt.triggerAttackRelease("8n"),xt.triggerAttackRelease("C2","8n"),setTimeout(()=>{bt.dispose(),xt.dispose()},500)},playMusic:bt=>{switch(bt){case"Pong":E.current?.stop(),A.current?.stop(),v.current?.start(0);break;case"Breakout":v.current?.stop(),A.current?.stop(),E.current?.start(0);break;case"Invaders":v.current?.stop(),E.current?.stop(),A.current?.start(0);break}B_().start()},stopMusic:()=>{B_().stop()},pauseMusic:()=>{B_().pause()},isMusic:t};return at.jsx(eE.Provider,{value:et,children:s})}function wm(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function j3(s){const t=s.width*.015,e=s.height*.15,i=s.height/2-e/2,a=Math.floor(s.width*.012);return{raqueteWidth:t,raqueteHeigth:e,raqueteY:i,bolaRaio:a}}function $3({visible:s,gameState:t,mode:e,onGameOver:i}){const[a,l]=Ct.useState({shrinkPower:{ativo:!1,carga:1,tempoAnimacao:5e3},slowPower:{ativo:!1,carga:1,tempoAnimacao:5e3},superShotPower:{status:"preparar",carga:1}}),[u,g]=Ct.useState({isShrink:!1,isSuperShot:!1}),[y,v]=Ct.useState({jogador:0,oponente:0}),[E,A]=Ct.useState(null),C=Ct.useRef(a),N=Ct.useRef(e),L=Ct.useRef(null),Z=Ct.useRef(0),H=Ct.useRef(null),j=Ct.useRef(0),lt=Ct.useRef(null),st=Ct.useRef(null),pt=Ct.useRef(null),J=Ct.useRef({x:null,y:null}),rt=wm(),V=rt?{canvasHeigth:window.innerWidth-window.innerWidth/6,canvasWidth:window.innerHeight-window.innerHeight/8}:{canvasHeigth:window.innerHeight-window.innerHeight/8,canvasWidth:window.innerWidth-window.innerWidth/6},I=7,{hitSynth:P,scoreSynth:U,shrinkSynth:z,slowSynth:Q,superShotApontar:X,superShotFogo:Pt}=Tm();return Ct.useEffect(()=>{N.current=e},[e]),Ct.useEffect(()=>{if(e==="challenge"||e==="dark"){if(y.jogador>=I)return i(!0);if(y.oponente>=I)return i(!1);y.jogador===5&&E==="jogador"&&(st.current?.adicionarPower("shrink"),z.current?.triggerAttack("0.5s"),g(mt=>({...mt,isShrink:!0}))),y.jogador===6&&E==="jogador"&&(st.current?.adicionarPower("super-shot"),X.current?.triggerAttackRelease("C2","0.5s"),g(mt=>({...mt,isSuperShot:!0}))),y.oponente===6&&E==="oponente"&&l(mt=>({...mt,shrinkPower:{...mt.shrinkPower,carga:mt.shrinkPower.carga+1},slowPower:{...mt.slowPower,carga:mt.slowPower.carga+1},superShotPower:{...mt.superShotPower,carga:mt.superShotPower.carga+1}}))}else if(e==="infinite"){if(y.oponente>=3)return i(!1,y.jogador);if(y.jogador>0&&y.jogador%3===0&&E==="jogador"){const mt=Math.random();st.current?.adicionarPower(mt>.5?"super-shot":"shrink");const Y=mt>.5?"isSuperShot":"isShrink";g(et=>({...et,[Y]:!0}))}}y.jogador>0&&(y.jogador%3===0&&E==="jogador"&&l(mt=>({...mt,superShotPower:{carga:mt.superShotPower.carga+1,status:mt.superShotPower.status}})),y.jogador%2===0&&E==="jogador"&&l(mt=>({...mt,shrinkPower:{...mt.shrinkPower,carga:mt.shrinkPower.carga+1},slowPower:{...mt.slowPower,carga:mt.slowPower.carga+1}})))},[y]),Ct.useEffect(()=>{C.current=a},[a]),Ct.useEffect(()=>{const mt=L.current,Y=mt?.getContext("2d");if(!mt||!Y)return;mt.height=V.canvasHeigth,mt.width=V.canvasWidth;const et=j3(mt);lt.current=new bp(mt,et.raqueteWidth,et.raqueteY,et.raqueteWidth,et.raqueteHeigth),st.current=new bp(mt,mt.width-et.raqueteWidth*2,et.raqueteY,et.raqueteWidth,et.raqueteHeigth,!0),pt.current=new Xw(mt,mt.width/2,mt.height/2,et.bolaRaio,200,200,"white",lt.current,st.current,P,U);const bt=dt=>{dt.key==="w"&&!C.current.slowPower.ativo&&C.current.slowPower.carga>0&&(l(ft=>({...ft,slowPower:{ativo:!0,carga:ft.slowPower.carga-1,tempoAnimacao:5e3}})),Q.current?.triggerAttack("C2"),H.current=setTimeout(()=>{l(ft=>({...ft,slowPower:{ativo:!1,carga:ft.slowPower.carga,tempoAnimacao:5e3}})),Q.current?.triggerRelease()},C.current.slowPower.tempoAnimacao)),dt.key==="q"&&!C.current.shrinkPower.ativo&&C.current.shrinkPower.carga>0&&(l(ft=>({...ft,shrinkPower:{ativo:!0,carga:ft.shrinkPower.carga-1,tempoAnimacao:5e3}})),z.current?.triggerAttack(),H.current=setTimeout(()=>{l(ft=>({...ft,shrinkPower:{ativo:!1,carga:ft.shrinkPower.carga,tempoAnimacao:5e3}})),z.current?.triggerRelease()},C.current.shrinkPower.tempoAnimacao)),dt.key==="e"&&C.current.superShotPower.status==="preparar"&&C.current.superShotPower.carga>0&&(l(ft=>({...ft,superShotPower:{status:"apontar",carga:ft.superShotPower.carga-1}})),X.current?.triggerAttackRelease("C2","0.5s"))};window.addEventListener("keydown",bt);const xt=dt=>{if(!lt.current||!st.current||!pt.current)throw new Error("Erro");const ft=(dt-j.current)/1e3;if(j.current=dt,t.current==="play"){J.current.y&&lt.current.update(J.current.y,ft,st.current.hasShrink),st.current.update(pt.current.getY,ft,C.current.shrinkPower.ativo);const It=pt.current.update(ft,C.current.slowPower.ativo,C.current.superShotPower.status==="apontar",st.current.hasSuperShot);pt.current.pontoMarcado()==="jogador"?(v(_t=>({..._t,jogador:_t.jogador+1})),pt.current.pontoMarcado(!0),A(()=>(setTimeout(()=>A(null),3e3),"jogador")),N.current==="infinite"&&(st.current.hasShrink&&(st.current.removerPower("shrink"),g(_t=>({..._t,isShrink:!1}))),st.current.hasSuperShot&&(st.current.removerPower("super-shot"),g(_t=>({..._t,isSuperShot:!1}))))):pt.current.pontoMarcado()==="oponente"&&(v(_t=>({..._t,oponente:_t.oponente+1})),pt.current.pontoMarcado(!0),A(()=>(setTimeout(()=>A(null),3e3),"oponente")),st.current.hasShrink&&(st.current.removerPower("shrink"),z.current?.triggerRelease(),g(_t=>({..._t,isShrink:!1}))),st.current.hasSuperShot&&(st.current.removerPower("super-shot"),g(_t=>({..._t,isSuperShot:!1})))),It==="super-shot-complete"&&(Pt.current?.triggerAttackRelease("C6","0.4s"),l(_t=>({..._t,superShotPower:{status:"fogo",carga:_t.superShotPower.carga}})))}},F=()=>{if(!lt.current||!st.current||!pt.current)throw new Error("Erro");lt.current.draw(pt.current,C.current.superShotPower.status==="apontar",st.current.hasShrink,N.current),st.current.draw(pt.current,!1,C.current.shrinkPower.ativo,N.current),pt.current.draw(N.current)},K=dt=>{if(!lt.current||!st.current||!pt.current)throw new Error("Erro");if(xt(dt),N.current!=="dark"){const ft=C.current.slowPower.ativo?.05:.4;Y.fillStyle=`rgba(13, 13, 13, ${ft})`,Y.fillRect(0,0,mt.width,mt.height)}else Y.fillStyle="#000",Y.fillRect(0,0,mt.width,mt.height);F(),Z.current=requestAnimationFrame(K)};return Y.fillStyle="black",Y.fillRect(0,0,mt.width,mt.height),Z.current=requestAnimationFrame(K),()=>{cancelAnimationFrame(Z.current),H&&clearTimeout(H.current||0),window.removeEventListener("keydown",bt)}},[]),at.jsxs("div",{className:`${s?"":"hidden"} pong ${rt?"pong--mobile":""} ${a.slowPower.ativo?"slow-effect":""} ${a.shrinkPower.ativo||u.isShrink?"shrink-effect":""} ${a.superShotPower.status!=="preparar"?`super-shot-effect--${a.superShotPower.status}`:""}`,onAnimationEnd:()=>{(a.superShotPower.status==="fogo"||st.current?.hasSuperShot)&&l(mt=>({...mt,superShotPower:{status:"preparar",carga:mt.superShotPower.carga}}))},children:[at.jsx(sA,{powers:a,isDarkMode:e==="dark",height:rt?V.canvasHeigth:"100%",isMobile:rt}),e==="infinite"?at.jsx(ky,{pontosOponente:y,qtd:3,game:"pong",isMobile:rt}):at.jsx(at.Fragment,{}),at.jsxs("div",{className:"pong__canvas",children:[at.jsx("div",{className:`pong__score--jogador pong__score--${e} ${E==="jogador"?"score-flash":""}`,style:{top:rt?V.canvasWidth*.4:V.canvasHeigth*.15,left:rt?V.canvasWidth/4:V.canvasWidth*.35,fontSize:rt?V.canvasHeigth*.1:V.canvasHeigth*.08},children:y.jogador}),at.jsx("div",{className:`pong__score--oponente pong__score--${e} ${E==="oponente"?"score-flash":""}`,style:{top:rt?V.canvasWidth*.4:V.canvasHeigth*.15,right:rt?-V.canvasWidth/3.6:V.canvasWidth*.35,fontSize:rt?V.canvasHeigth*.1:V.canvasHeigth*.08},children:y.oponente}),at.jsx("canvas",{ref:L,onMouseMove:mt=>J.current.y=mt.clientY,onTouchMove:mt=>{const Y=mt.touches[0];J.current.y=V.canvasHeigth+50-Y.clientX}})]})]})}function tM(){return at.jsx("svg",{className:"mouse-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:at.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 9V15C19 18.866 15.866 22 12 22C8.13401 22 5 18.866 5 15V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9ZM12 4.25C12.4142 4.25 12.75 4.58579 12.75 5V8C12.75 8.41421 12.4142 8.75 12 8.75C11.5858 8.75 11.25 8.41421 11.25 8V5C11.25 4.58579 11.5858 4.25 12 4.25Z"})})}function sp({className:s=""}){return at.jsx("svg",{className:`${s} arrow`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:at.jsx("path",{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"})})}class vg extends Rf{vida=1;update(t=.05,e=!1){this.vida-=t,this.x+=this.velocidadeX,this.y+=this.velocidadeY,e&&(this.raio*=.95)}draw(){this.vida>0&&super.draw()}get getVida(){return this.vida}}class oy extends Hl{constructor(t,e,i,a,l,u,g,y="white"){super(t,e,i,a,l,0,u,y),this.powerUpType=g}status="inteiro";particulas=[];blur=25;direction=-5;update(t,e,i){if(t){if(this.y+=this.velocidadeY*e,i&&this.y>i.getY-i.getHeigth)return"tijolo_chegou_no_fim";this.powerUpType&&(this.blur+=this.direction*e,this.blur<5?this.direction=10:this.blur>30&&(this.direction=-10))}this.status==="quebrando"&&this.particulas.forEach(a=>a.update()),this.particulas.length&&this.particulas.every(a=>a.getVida<0)&&(this.status="quebrado",this.particulas=[])}draw(){this.status!=="quebrado"&&(this.status==="inteiro"?(this.ctx.save(),this.powerUpType&&(this.ctx.shadowBlur=this.blur,this.ctx.shadowColor="blue"),super.draw(),this.ctx.restore()):this.status==="quebrando"&&this.particulas.forEach(t=>t.draw()))}break(){if(this.status==="inteiro"){for(let t=0;t<50;t++)this.particulas.push(new vg(this.canvas,Math.random()*this.width+this.x,Math.random()*this.heigth+this.y,Math.random()+1,Math.random()+1-1.5,Math.random()+1-1.5,this.cor));this.status="quebrando"}}get getStatus(){return this.status}get getPowerUpType(){return this.powerUpType}}class nE extends Hl{isBig=!1;timer=0;isSuperShot=!1;update(t,e){t&&(this.x=t-this.width/2),this.isBig&&(this.timer-=e,this.width=this._width*2,this.timer<=0&&(this.width=this._width,this.isBig=!1))}draw(){this.isSuperShot?(this.ctx.save(),this.ctx.shadowColor="crimson",this.ctx.shadowBlur=30,super.draw(),this.ctx.restore()):super.draw()}activeBig(){this.timer=10,this.isBig=!0}activeSuperShot(){this.isSuperShot=!0}desactiveSuperShot(){this.isSuperShot=!1}get getIsSuperShot(){return this.isSuperShot}}class RT extends Rf{constructor(t,e,i,a,l=0,u=0,g,y="white",v,E,A,C,N){super(t,e,i,a,l,u,y),this.isCopy=g,this.jogador=v,this.tijolos=E,this.breakSynth=A,this.hitSynth=C,this.superShotFogo=N,this.velocidadeY=-Math.abs(this.velocidadeY)}isPresa=!0;timer=0;isSuperShot=!1;isElevation=!1;rastroParticulas=[];colisaoParede(){if(this.x+this.raio>this.canvas.width?(this.x=this.canvas.width-this.raio,this.velocidadeX*=-1):this.x-this.raio<0&&(this.x=this.raio,this.velocidadeX*=-1),this.y-this.raio<0)this.y=this.raio,this.velocidadeY*=-1;else if(this.y+this.raio>this.canvas.height)return this.isCopy?"copia_destruida":(this.y=this.jogador.getY-this.raio*1.1,this.x=this.jogador.getX+this.jogador.getWidth/2+this.raio,this.velocidadeY*=-1,this.velocidadeY=this._velocidadeY,this.isPresa=!0,this.rastroParticulas=[],"vida_perdida")}colisaoRaquete(){this.y=this.jogador.getY-this.raio*1.1,this.velocidadeY*=-1;const t=(this.x-(this.jogador.getX+this.jogador.getWidth/2))/(this.jogador.getWidth/2),e=Math.abs(this.velocidadeY)*.8,i=Math.max(-1,Math.min(1,t)),a=1;Math.abs(i)<.1?this.velocidadeX=.1*e*(Math.random()<.5?-1:1):this.velocidadeX=this.velocidadeX*(1-a)+e*i*a}isColisao(t){const e=this.y-this.raio,i=this.y+this.raio,a=this.x-this.raio,l=this.x+this.raio,u=t.getY,g=t.getY+t.getHeigth,y=t.getX,v=t.getX+t.getWidth;return!(e>g||i<u||l<y||a>v)}colisaoTijolo(){for(let t of this.tijolos.current)if(t.getStatus==="inteiro"&&this.isColisao(t)){const e=this.raio+t.getWidth/2,i=this.raio+t.getHeigth/2,a=this.x-(t.getX+t.getWidth/2),l=this.y-(t.getY+t.getHeigth/2),u=e-Math.abs(a),g=i-Math.abs(l);return Math.abs(g)<Math.abs(u)?(this.isSuperShot?(this.isElevation&&(this.velocidadeY*=.8),Math.abs(this.velocidadeY)<200&&(this.isElevation=!1,this.velocidadeY=100)):this.velocidadeY*=-1,Math.sign(l)<=0?this.y=t.getY-this.raio:this.y=t.getY+t.getHeigth+this.raio):(this.isSuperShot||(this.velocidadeX*=-1),Math.sign(a)<=0?this.x=t.getX-this.raio:this.x=t.getX+t.getWidth+this.raio),t.break(),this.breakSynth&&this.breakSynth(),t.getPowerUpType?{evento:"power_up",infos:{type:t.getPowerUpType,posX:t.getX,posY:t.getY}}:"tijolo_quebrado"}}activeSuperShot(){this.jogador.desactiveSuperShot(),this.isSuperShot=!0,this.timer=7}freeze(){this.velocidadeX=0,this.velocidadeY=0}prender(){this.isPresa=!0}lancar(){this.isPresa=!1,this.velocidadeY=-Math.abs(this._velocidadeY),this.velocidadeX=Math.abs(this._velocidadeX)}update(t,e){if(this.isPresa&&!this.isCopy)this.x=this.jogador.getX+this.jogador.getWidth/2,this.y=this.jogador.getY-this.raio;else{if(this.x+=this.velocidadeX*t,this.y+=this.velocidadeY*t,this.isSuperShot){this.rastroParticulas.push(new vg(this.canvas,this.x,this.y,this.raio,1*Math.sign(this.velocidadeX),1*Math.sign(this.velocidadeY),`hsl(${Math.random()*60}, 100%, 50%)`)),!this.isElevation&&Math.abs(this.velocidadeY)<500&&(this.velocidadeY*=1.1);for(let l=this.rastroParticulas.length-1;l>=0;l--){const u=this.rastroParticulas[l];u.update(.1,!0),u.getVida<=0&&this.rastroParticulas.splice(l,1)}this.timer-=t,this.timer<=0&&(this.isSuperShot=!1,this.rastroParticulas=[])}e&&this.isColisao(e)&&(this.velocidadeY*=-1,this.y=e.getY-this.raio*2);const i=this.colisaoParede();if(i)return{evento:i};if(this.isColisao(this.jogador)){if(!this.isCopy&&this.jogador.getIsSuperShot)return this.activeSuperShot(),{evento:"super_shot_active"};this.colisaoRaquete(),this.hitSynth?.current.triggerAttackRelease("C2","10n"),this.velocidadeY*=1.3,this.isSuperShot&&(this.isElevation=!0,this.superShotFogo?.current.triggerAttackRelease("C6","0.4s")),(this.isSuperShot||Math.abs(this.velocidadeY)>700)&&(this.velocidadeY=700*Math.sign(this.velocidadeY))}const a=this.colisaoTijolo();return a&&a==="tijolo_quebrado"?{evento:a}:a}}draw(){!this.isCopy&&this.isSuperShot?(this.ctx.save(),this.ctx.shadowColor="cyan",this.ctx.shadowBlur=30,this.cor="crimson",super.draw(),this.ctx.restore(),this.rastroParticulas.forEach(t=>t.draw())):(this.cor=this._cor,super.draw())}get getIsPresa(){return this.isPresa}}class dp extends Hl{constructor(t,e,i,a,l,u=0,g=0,y,v,E="white"){super(t,e,i,a,l,u,g,E),this.type=y,this.imagem=v}update(t){this.y+=this.getVelocidadeY*t}draw(){super.draw(),this.ctx.drawImage(this.imagem,this.x,this.y,this.width,this.heigth)}get getType(){return this.type}}function eM({className:s=""}){return at.jsx("svg",{className:`barrier-icon ${s}`,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 62.972 62.972",xmlSpace:"preserve",children:at.jsx("path",{d:"M28.634,22.313H12.526c-0.894,0-1.62-0.725-1.62-1.62v-9.522c0-0.894,0.725-1.62,1.62-1.62h16.108  c0.894,0,1.62,0.725,1.62,1.62v9.522C30.253,21.588,29.528,22.313,28.634,22.313z M52.066,20.694v-9.522  c0-0.894-0.725-1.62-1.619-1.62H34.339c-0.895,0-1.62,0.725-1.62,1.62v9.522c0,0.894,0.725,1.62,1.62,1.62h16.108  C51.341,22.313,52.066,21.588,52.066,20.694z M19.347,36.247v-9.522c0-0.895-0.725-1.62-1.62-1.62H1.619  C0.725,25.105,0,25.831,0,26.725v9.522c0,0.895,0.725,1.62,1.619,1.62h16.108C18.622,37.867,19.347,37.141,19.347,36.247z   M41.16,36.247v-9.522c0-0.895-0.725-1.62-1.62-1.62H23.432c-0.894,0-1.619,0.725-1.619,1.62v9.522c0,0.895,0.725,1.62,1.619,1.62  H39.54C40.434,37.867,41.16,37.141,41.16,36.247z M62.972,36.247v-9.522c0-0.895-0.725-1.62-1.619-1.62H45.245  c-0.895,0-1.62,0.725-1.62,1.62v9.522c0,0.895,0.725,1.62,1.62,1.62h16.108C62.247,37.867,62.972,37.141,62.972,36.247z   M30.253,51.8v-9.522c0-0.894-0.725-1.62-1.62-1.62H12.526c-0.894,0-1.62,0.725-1.62,1.62V51.8c0,0.894,0.725,1.619,1.62,1.619  h16.108C29.528,53.42,30.253,52.695,30.253,51.8z M52.066,51.8v-9.522c0-0.894-0.725-1.62-1.619-1.62H34.339  c-0.895,0-1.62,0.725-1.62,1.62V51.8c0,0.894,0.725,1.619,1.62,1.619h16.108C51.341,53.42,52.066,52.695,52.066,51.8z"})})}function MT({className:s=""}){return at.jsx("svg",{className:`explosion-icon ${s}`,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:at.jsx("path",{d:"M17.5991 4.26845C18.1974 3.92362 18.9583 3.89847 19.5994 4.26862L20.0324 4.51862C20.5107 4.79476 21.1223 4.63088 21.3985 4.15259C21.6746 3.6743 21.5107 3.06271 21.0324 2.78657L20.5994 2.53657C18.9853 1.60464 16.9916 1.92559 15.7444 3.19768L14.7692 2.63465C14.2909 2.3585 13.6794 2.52238 13.4032 3.00067L12.1125 5.23628C8.98006 4.79815 5.75182 6.2533 4.07313 9.16087C1.86399 12.9872 3.17499 17.8799 7.00134 20.0891C10.8277 22.2982 15.7204 20.9872 17.9295 17.1609C19.6082 14.2533 19.2543 10.73 17.3086 8.23627L18.5994 6.00067C18.8755 5.52238 18.7116 4.91079 18.2333 4.63465L17.5991 4.26845Z"})})}function IT({className:s=""}){return at.jsxs("svg",{className:`multi-ball-icon ${s}`,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",version:"1.1",children:[at.jsx("defs",{}),at.jsx("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:at.jsxs("g",{fill:"currentColor",children:[at.jsx("path",{d:"M4.518,7.071 C2.046,7.071 0.04,9.066 0.04,11.529 C0.04,13.99 2.046,15.985 4.518,15.985 C6.99,15.985 8.994,13.99 8.994,11.529 C8.993,9.066 6.989,7.071 4.518,7.071 L4.518,7.071 Z M5.082,8.454 C3.076,8.454 1.449,10.086 1.449,12.096 C1.449,12.918 0.732,12.566 0.732,11.377 C0.732,9.365 2.359,7.736 4.367,7.736 C5.553,7.736 5.902,8.454 5.082,8.454 L5.082,8.454 Z"}),at.jsx("path",{d:"M11.518,7.071 C10.48,7.071 9.536,7.437 8.776,8.028 C8.907,8.185 9.026,8.35 9.137,8.521 C9.754,8.037 10.522,7.736 11.367,7.736 C12.553,7.736 12.902,8.454 12.082,8.454 C11.129,8.454 10.27,8.83 9.621,9.432 C9.889,10.078 10.039,10.786 10.039,11.53 C10.039,12.859 9.564,14.078 8.775,15.029 C9.535,15.62 10.479,15.986 11.517,15.986 C13.989,15.986 15.993,13.991 15.993,11.53 C15.993,9.066 13.989,7.071 11.518,7.071 L11.518,7.071 Z"}),at.jsx("path",{d:"M8.018,7.197 C8.976,6.428 10.192,5.967 11.518,5.967 C11.922,5.967 12.315,6.012 12.696,6.093 C12.88,5.605 12.994,5.082 12.994,4.53 C12.994,2.067 10.99,0.072 8.518,0.072 C6.046,0.072 4.04,2.067 4.04,4.53 C4.04,5.04 4.144,5.522 4.303,5.978 C4.375,5.975 4.446,5.967 4.518,5.967 C5.844,5.967 7.06,6.429 8.018,7.197 L8.018,7.197 Z M8.367,0.736 C9.553,0.736 9.902,1.454 9.082,1.454 C7.076,1.454 5.449,3.086 5.449,5.096 C5.449,5.918 4.732,5.566 4.732,4.377 C4.732,2.365 6.359,0.736 8.367,0.736 L8.367,0.736 Z"})]})})]})}function nM({className:s=""}){return at.jsx("svg",{className:`expand-icon ${s}`,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 0 18.016 18.016",xmlSpace:"preserve",children:at.jsx("g",{children:at.jsxs("g",{children:[at.jsx("path",{d:"M5.961,8.875c-1.089,0-1.973,0.883-1.973,1.973c0,0.035,0.009,0.068,0.011,0.104    c-0.581,0.428-1.233,0.909-1.656,1.221c-0.235,0.174-0.389,0.288-0.389,0.288s-0.417-0.565-0.679-0.921    c-0.261-0.354-0.33,0.108-0.33,0.108s-0.886,2.978-0.941,3.342c-0.04,0.264,0.237,0.282,0.237,0.282l3.441,0.192    c0,0,0.451,0.081,0.235-0.211c-0.214-0.29-0.735-0.995-0.735-0.995s0.172-0.127,0.435-0.32c0.444-0.327,1.101-0.813,1.681-1.239    c0.208,0.074,0.43,0.122,0.664,0.122c1.09,0,1.973-0.883,1.973-1.973S7.051,8.875,5.961,8.875z"}),at.jsx("path",{d:"M17.775,2.743l-3.44-0.191c0,0-0.45-0.082-0.236,0.209c0.215,0.291,0.735,0.996,0.735,0.996    s-0.173,0.126-0.435,0.32c-0.444,0.328-1.102,0.812-1.681,1.24c-0.208-0.075-0.43-0.123-0.664-0.123    c-1.089,0-1.973,0.883-1.973,1.973c0,1.089,0.884,1.973,1.973,1.973c1.09,0,1.974-0.884,1.974-1.973    c0-0.036-0.009-0.068-0.011-0.104c0.58-0.428,1.233-0.909,1.656-1.221c0.235-0.174,0.389-0.287,0.389-0.287    s0.417,0.565,0.679,0.92c0.261,0.354,0.329-0.108,0.329-0.108s0.887-2.977,0.942-3.341C18.052,2.762,17.775,2.743,17.775,2.743z"})]})})})}function iM(){return at.jsxs("svg",{className:"ricochetear-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:[at.jsx("path",{d:"M19 7C17.8954 7 17 6.10457 17 5C17 3.89543 17.8954 3 19 3C20.1046 3 21 3.89543 21 5C21 6.10457 20.1046 7 19 7Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),at.jsx("path",{d:"M4 15.5C7 14.5 9.5 15 12 20C12.5 17 14 12.5 15.5 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function sM(){return at.jsx("svg",{className:"shield-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none",children:at.jsx("path",{d:"M4.35009 13.3929L8 16L11.6499 13.3929C13.7523 11.8912 15 9.46667 15 6.88306V3L8 0L1 3V6.88306C1 9.46667 2.24773 11.8912 4.35009 13.3929Z",fill:"currentColor"})})}const kT={barreira:eM,explosao:MT,multiball:IT,raquete_gigante:nM,super_shot:Ww,mais_vida:J_,multi_shot:IT,explosive_shot:MT,ricochetear:iM,shield:sM},qd={};for(const s in kT){const t=kT[s];t&&(qd[s]=at.jsx(t,{}))}function iE({powersActive:s,positionLeft:t,shieldInvaders:e}){return at.jsx("div",{className:"game-powers-active",style:{left:t},children:Object.entries(s).filter(([i,a])=>a).map(([i],a)=>at.jsxs("div",{children:[at.jsx("span",{children:qd[i]}),i==="explosao"?at.jsxs(at.Fragment,{children:[at.jsx("p",{children:"Precione"}),at.jsx("p",{children:"Espaço"})]}):i==="shield"?at.jsx("div",{className:"game-powers-active--shield",children:Array.from({length:e||0}).map((l,u)=>at.jsx("div",{},"shield"+u))}):at.jsx(at.Fragment,{})]},`${i} - ${a}`))})}class rM extends Hl{hue=0;update(){this.hue+=10,this.hue%360===0&&(this.hue=0)}draw(){const t=this.ctx.createLinearGradient(this.x,this.y,this.x+this.width,this.y);for(let e=0;e<=6;e++)t.addColorStop(e*(1/6),`hsl(${(this.hue+e*60)%360}, 100%, 70%)`);this.cor=t,super.draw()}}var ah={},Id={};/**
 * @license React
 * react-dom-server-legacy.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function aM(){if(DT)return Id;DT=1;var s=ig(),t=My();function e(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),H=Symbol.for("react.scope"),j=Symbol.for("react.activity"),lt=Symbol.for("react.legacy_hidden"),st=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.for("react.view_transition"),J=Symbol.iterator,rt=Array.isArray;function V(d,_){var b=d.length&3,x=d.length-b,O=_;for(_=0;_<x;){var q=d.charCodeAt(_)&255|(d.charCodeAt(++_)&255)<<8|(d.charCodeAt(++_)&255)<<16|(d.charCodeAt(++_)&255)<<24;++_,q=3432918353*(q&65535)+((3432918353*(q>>>16)&65535)<<16)&4294967295,q=q<<15|q>>>17,q=461845907*(q&65535)+((461845907*(q>>>16)&65535)<<16)&4294967295,O^=q,O=O<<13|O>>>19,O=5*(O&65535)+((5*(O>>>16)&65535)<<16)&4294967295,O=(O&65535)+27492+(((O>>>16)+58964&65535)<<16)}switch(q=0,b){case 3:q^=(d.charCodeAt(_+2)&255)<<16;case 2:q^=(d.charCodeAt(_+1)&255)<<8;case 1:q^=d.charCodeAt(_)&255,q=3432918353*(q&65535)+((3432918353*(q>>>16)&65535)<<16)&4294967295,q=q<<15|q>>>17,O^=461845907*(q&65535)+((461845907*(q>>>16)&65535)<<16)&4294967295}return O^=d.length,O^=O>>>16,O=2246822507*(O&65535)+((2246822507*(O>>>16)&65535)<<16)&4294967295,O^=O>>>13,O=3266489909*(O&65535)+((3266489909*(O>>>16)&65535)<<16)&4294967295,(O^O>>>16)>>>0}var I=Object.assign,P=Object.prototype.hasOwnProperty,U=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),z={},Q={};function X(d){return P.call(Q,d)?!0:P.call(z,d)?!1:U.test(d)?Q[d]=!0:(z[d]=!0,!1)}var Pt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),mt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y=/["'&<>]/;function et(d){if(typeof d=="boolean"||typeof d=="number"||typeof d=="bigint")return""+d;d=""+d;var _=Y.exec(d);if(_){var b="",x,O=0;for(x=_.index;x<d.length;x++){switch(d.charCodeAt(x)){case 34:_="&quot;";break;case 38:_="&amp;";break;case 39:_="&#x27;";break;case 60:_="&lt;";break;case 62:_="&gt;";break;default:continue}O!==x&&(b+=d.slice(O,x)),O=x+1,b+=_}d=O!==x?b+d.slice(O,x):b}return d}var bt=/([A-Z])/g,xt=/^ms-/,F=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function K(d){return F.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var dt=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},_t=ft.d;ft.d={f:_t.f,r:_t.r,D:Gn,C:Ql,L:Ao,m:Ar,X:Ti,S:_a,M:Zl};var Vt=[],ce=/(<\/|<)(s)(cript)/gi;function Bt(d,_,b,x){return""+_+(b==="s"?"\\u0073":"\\u0053")+x}function hn(d,_,b,x,O){return{idPrefix:d===void 0?"":d,nextFormID:0,streamingFormat:0,bootstrapScriptContent:b,bootstrapScripts:x,bootstrapModules:O,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function Dn(){return{htmlChunks:null,headChunks:null,bodyChunks:null,contribution:0}}function We(d,_,b){return{insertionMode:d,selectedValue:_,tagScope:b}}function le(d,_,b){switch(_){case"noscript":return We(2,null,d.tagScope|1);case"select":return We(2,b.value!=null?b.value:b.defaultValue,d.tagScope);case"svg":return We(4,null,d.tagScope);case"picture":return We(2,null,d.tagScope|2);case"math":return We(5,null,d.tagScope);case"foreignObject":return We(2,null,d.tagScope);case"table":return We(6,null,d.tagScope);case"thead":case"tbody":case"tfoot":return We(7,null,d.tagScope);case"colgroup":return We(9,null,d.tagScope);case"tr":return We(8,null,d.tagScope);case"head":if(2>d.insertionMode)return We(3,null,d.tagScope);break;case"html":if(d.insertionMode===0)return We(1,null,d.tagScope)}return 6<=d.insertionMode||2>d.insertionMode?We(2,null,d.tagScope):d}var rs=new Map;function Wi(d,_){if(typeof _!="object")throw Error(e(62));var b=!0,x;for(x in _)if(P.call(_,x)){var O=_[x];if(O!=null&&typeof O!="boolean"&&O!==""){if(x.indexOf("--")===0){var q=et(x);O=et((""+O).trim())}else q=rs.get(x),q===void 0&&(q=et(x.replace(bt,"-$1").toLowerCase().replace(xt,"-ms-")),rs.set(x,q)),O=typeof O=="number"?O===0||Pt.has(x)?""+O:O+"px":et((""+O).trim());b?(b=!1,d.push(' style="',q,":",O)):d.push(";",q,":",O)}}b||d.push('"')}function Mt(d,_,b){b&&typeof b!="function"&&typeof b!="symbol"&&d.push(" ",_,'=""')}function kt(d,_,b){typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&d.push(" ",_,'="',et(b),'"')}var Qt=et("javascript:throw new Error('React form unexpectedly submitted.')");function Gt(d,_){this.push('<input type="hidden"'),Zt(d),kt(this,"name",_),kt(this,"value",d),this.push("/>")}function Zt(d){if(typeof d!="string")throw Error(e(480))}function Jt(d,_){if(typeof _.$$FORM_ACTION=="function"){var b=d.nextFormID++;d=d.idPrefix+b;try{var x=_.$$FORM_ACTION(d);if(x){var O=x.data;O?.forEach(Zt)}return x}catch(q){if(typeof q=="object"&&q!==null&&typeof q.then=="function")throw q}}return null}function xe(d,_,b,x,O,q,nt,Rt){var gt=null;if(typeof x=="function"){var At=Jt(_,x);At!==null?(Rt=At.name,x=At.action||"",O=At.encType,q=At.method,nt=At.target,gt=At.data):(d.push(" ","formAction",'="',Qt,'"'),nt=q=O=x=Rt=null,Er(_,b))}return Rt!=null&&Ae(d,"name",Rt),x!=null&&Ae(d,"formAction",x),O!=null&&Ae(d,"formEncType",O),q!=null&&Ae(d,"formMethod",q),nt!=null&&Ae(d,"formTarget",nt),gt}function Ae(d,_,b){switch(_){case"className":kt(d,"class",b);break;case"tabIndex":kt(d,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":kt(d,_,b);break;case"style":Wi(d,b);break;case"src":case"href":if(b==="")break;case"action":case"formAction":if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean")break;b=K(""+b),d.push(" ",_,'="',et(b),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Mt(d,_.toLowerCase(),b);break;case"xlinkHref":if(typeof b=="function"||typeof b=="symbol"||typeof b=="boolean")break;b=K(""+b),d.push(" ","xlink:href",'="',et(b),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof b!="function"&&typeof b!="symbol"&&d.push(" ",_,'="',et(b),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"&&d.push(" ",_,'=""');break;case"capture":case"download":b===!0?d.push(" ",_,'=""'):b!==!1&&typeof b!="function"&&typeof b!="symbol"&&d.push(" ",_,'="',et(b),'"');break;case"cols":case"rows":case"size":case"span":typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b&&d.push(" ",_,'="',et(b),'"');break;case"rowSpan":case"start":typeof b=="function"||typeof b=="symbol"||isNaN(b)||d.push(" ",_,'="',et(b),'"');break;case"xlinkActuate":kt(d,"xlink:actuate",b);break;case"xlinkArcrole":kt(d,"xlink:arcrole",b);break;case"xlinkRole":kt(d,"xlink:role",b);break;case"xlinkShow":kt(d,"xlink:show",b);break;case"xlinkTitle":kt(d,"xlink:title",b);break;case"xlinkType":kt(d,"xlink:type",b);break;case"xmlBase":kt(d,"xml:base",b);break;case"xmlLang":kt(d,"xml:lang",b);break;case"xmlSpace":kt(d,"xml:space",b);break;default:if((!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=mt.get(_)||_,X(_))){switch(typeof b){case"function":case"symbol":return;case"boolean":var x=_.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-")return}d.push(" ",_,'="',et(b),'"')}}}function He(d,_,b){if(_!=null){if(b!=null)throw Error(e(60));if(typeof _!="object"||!("__html"in _))throw Error(e(61));_=_.__html,_!=null&&d.push(""+_)}}function as(d){var _="";return s.Children.forEach(d,function(b){b!=null&&(_+=b)}),_}function Er(d,_){(d.instructions&16)===0&&(d.instructions|=16,_.bootstrapChunks.unshift(_.startInlineScript,`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>"))}function Re(d,_){d.push(Yt("link"));for(var b in _)if(P.call(_,b)){var x=_[b];if(x!=null)switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"link"));default:Ae(d,b,x)}}return d.push("/>"),null}var Ye=/(<\/|<)(s)(tyle)/gi;function ki(d,_,b,x){return""+_+(b==="s"?"\\73 ":"\\53 ")+x}function Cn(d,_,b){d.push(Yt(b));for(var x in _)if(P.call(_,x)){var O=_[x];if(O!=null)switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,b));default:Ae(d,x,O)}}return d.push("/>"),null}function Hn(d,_){d.push(Yt("title"));var b=null,x=null,O;for(O in _)if(P.call(_,O)){var q=_[O];if(q!=null)switch(O){case"children":b=q;break;case"dangerouslySetInnerHTML":x=q;break;default:Ae(d,O,q)}}return d.push(">"),_=Array.isArray(b)?2>b.length?b[0]:null:b,typeof _!="function"&&typeof _!="symbol"&&_!==null&&_!==void 0&&d.push(et(""+_)),He(d,x,b),d.push(ue("title")),null}function Wr(d,_){d.push(Yt("script"));var b=null,x=null,O;for(O in _)if(P.call(_,O)){var q=_[O];if(q!=null)switch(O){case"children":b=q;break;case"dangerouslySetInnerHTML":x=q;break;default:Ae(d,O,q)}}return d.push(">"),He(d,x,b),typeof b=="string"&&d.push((""+b).replace(ce,Bt)),d.push(ue("script")),null}function Sr(d,_,b){d.push(Yt(b));var x=b=null,O;for(O in _)if(P.call(_,O)){var q=_[O];if(q!=null)switch(O){case"children":b=q;break;case"dangerouslySetInnerHTML":x=q;break;default:Ae(d,O,q)}}return d.push(">"),He(d,x,b),b}function Ns(d,_,b){d.push(Yt(b));var x=b=null,O;for(O in _)if(P.call(_,O)){var q=_[O];if(q!=null)switch(O){case"children":b=q;break;case"dangerouslySetInnerHTML":x=q;break;default:Ae(d,O,q)}}return d.push(">"),He(d,x,b),typeof b=="string"?(d.push(et(b)),null):b}var jt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Wt=new Map;function Yt(d){var _=Wt.get(d);if(_===void 0){if(!jt.test(d))throw Error(e(65,d));_="<"+d,Wt.set(d,_)}return _}function ne(d,_,b,x,O,q,nt,Rt,gt,At){switch(_){case"div":case"span":case"svg":case"path":break;case"a":d.push(Yt("a"));var Kt=null,Ht=null,se;for(se in b)if(P.call(b,se)){var ge=b[se];if(ge!=null)switch(se){case"children":Kt=ge;break;case"dangerouslySetInnerHTML":Ht=ge;break;case"href":ge===""?kt(d,"href",""):Ae(d,se,ge);break;default:Ae(d,se,ge)}}if(d.push(">"),He(d,Ht,Kt),typeof Kt=="string"){d.push(et(Kt));var fe=null}else fe=Kt;return fe;case"g":case"p":case"li":break;case"select":d.push(Yt("select"));var we=null,fn=null,dn;for(dn in b)if(P.call(b,dn)){var gn=b[dn];if(gn!=null)switch(dn){case"children":we=gn;break;case"dangerouslySetInnerHTML":fn=gn;break;case"defaultValue":case"value":break;default:Ae(d,dn,gn)}}return d.push(">"),He(d,fn,we),we;case"option":var Pn=Rt.selectedValue;d.push(Yt("option"));var he=null,Zn=null,Pe=null,di=null,bn;for(bn in b)if(P.call(b,bn)){var be=b[bn];if(be!=null)switch(bn){case"children":he=be;break;case"selected":Pe=be;break;case"dangerouslySetInnerHTML":di=be;break;case"value":Zn=be;default:Ae(d,bn,be)}}if(Pn!=null){var un=Zn!==null?""+Zn:as(he);if(rt(Pn)){for(var Ai=0;Ai<Pn.length;Ai++)if(""+Pn[Ai]===un){d.push(' selected=""');break}}else""+Pn===un&&d.push(' selected=""')}else Pe&&d.push(' selected=""');return d.push(">"),He(d,di,he),he;case"textarea":d.push(Yt("textarea"));var Kn=null,Or=null,ds=null,gi;for(gi in b)if(P.call(b,gi)){var Ui=b[gi];if(Ui!=null)switch(gi){case"children":ds=Ui;break;case"value":Kn=Ui;break;case"defaultValue":Or=Ui;break;case"dangerouslySetInnerHTML":throw Error(e(91));default:Ae(d,gi,Ui)}}if(Kn===null&&Or!==null&&(Kn=Or),d.push(">"),ds!=null){if(Kn!=null)throw Error(e(92));if(rt(ds)){if(1<ds.length)throw Error(e(93));Kn=""+ds[0]}Kn=""+ds}return typeof Kn=="string"&&Kn[0]===`
`&&d.push(`
`),Kn!==null&&d.push(et(""+Kn)),null;case"input":d.push(Yt("input"));var ri=null,ea=null,Di=null,Nr=null,Ra=null,pi=null,Ma=null,cr=null,ic=null,Ia;for(Ia in b)if(P.call(b,Ia)){var Bi=b[Ia];if(Bi!=null)switch(Ia){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"input"));case"name":ri=Bi;break;case"formAction":ea=Bi;break;case"formEncType":Di=Bi;break;case"formMethod":Nr=Bi;break;case"formTarget":Ra=Bi;break;case"defaultChecked":ic=Bi;break;case"defaultValue":Ma=Bi;break;case"checked":cr=Bi;break;case"value":pi=Bi;break;default:Ae(d,Ia,Bi)}}var Bc=xe(d,x,O,ea,Di,Nr,Ra,ri);return cr!==null?Mt(d,"checked",cr):ic!==null&&Mt(d,"checked",ic),pi!==null?Ae(d,"value",pi):Ma!==null&&Ae(d,"value",Ma),d.push("/>"),Bc?.forEach(Gt,d),null;case"button":d.push(Yt("button"));var Fo=null,ao=null,oo=null,sc=null,ka=null,Es=null,Ji=null,Pr;for(Pr in b)if(P.call(b,Pr)){var Ci=b[Pr];if(Ci!=null)switch(Pr){case"children":Fo=Ci;break;case"dangerouslySetInnerHTML":ao=Ci;break;case"name":oo=Ci;break;case"formAction":sc=Ci;break;case"formEncType":ka=Ci;break;case"formMethod":Es=Ci;break;case"formTarget":Ji=Ci;break;default:Ae(d,Pr,Ci)}}var Vr=xe(d,x,O,sc,ka,Es,Ji,oo);if(d.push(">"),Vr?.forEach(Gt,d),He(d,ao,Fo),typeof Fo=="string"){d.push(et(Fo));var zs=null}else zs=Fo;return zs;case"form":d.push(Yt("form"));var lo=null,Uo=null,na=null,xi=null,en=null,ze=null,ur;for(ur in b)if(P.call(b,ur)){var zi=b[ur];if(zi!=null)switch(ur){case"children":lo=zi;break;case"dangerouslySetInnerHTML":Uo=zi;break;case"action":na=zi;break;case"encType":xi=zi;break;case"method":en=zi;break;case"target":ze=zi;break;default:Ae(d,ur,zi)}}var ai=null,ia=null;if(typeof na=="function"){var hr=Jt(x,na);hr!==null?(na=hr.action||"",xi=hr.encType,en=hr.method,ze=hr.target,ai=hr.data,ia=hr.name):(d.push(" ","action",'="',Qt,'"'),ze=en=xi=na=null,Er(x,O))}if(na!=null&&Ae(d,"action",na),xi!=null&&Ae(d,"encType",xi),en!=null&&Ae(d,"method",en),ze!=null&&Ae(d,"target",ze),d.push(">"),ia!==null&&(d.push('<input type="hidden"'),kt(d,"name",ia),d.push("/>"),ai?.forEach(Gt,d)),He(d,Uo,lo),typeof lo=="string"){d.push(et(lo));var Bo=null}else Bo=lo;return Bo;case"menuitem":d.push(Yt("menuitem"));for(var Da in b)if(P.call(b,Da)){var Lr=b[Da];if(Lr!=null)switch(Da){case"children":case"dangerouslySetInnerHTML":throw Error(e(400));default:Ae(d,Da,Lr)}}return d.push(">"),null;case"object":d.push(Yt("object"));var Fr=null,fr=null,Ri;for(Ri in b)if(P.call(b,Ri)){var gs=b[Ri];if(gs!=null)switch(Ri){case"children":Fr=gs;break;case"dangerouslySetInnerHTML":fr=gs;break;case"data":var Ur=K(""+gs);if(Ur==="")break;d.push(" ","data",'="',et(Ur),'"');break;default:Ae(d,Ri,gs)}}if(d.push(">"),He(d,fr,Fr),typeof Fr=="string"){d.push(et(Fr));var sa=null}else sa=Fr;return sa;case"title":if(Rt.insertionMode===4||Rt.tagScope&1||b.itemProp!=null)var Ss=Hn(d,b);else At?Ss=null:(Hn(O.hoistableChunks,b),Ss=void 0);return Ss;case"link":var rc=b.rel,oi=b.href,ra=b.precedence;if(Rt.insertionMode===4||Rt.tagScope&1||b.itemProp!=null||typeof rc!="string"||typeof oi!="string"||oi===""){Re(d,b);var aa=null}else if(b.rel==="stylesheet")if(typeof ra!="string"||b.disabled!=null||b.onLoad||b.onError)aa=Re(d,b);else{var As=O.styles.get(ra),mi=x.styleResources.hasOwnProperty(oi)?x.styleResources[oi]:void 0;if(mi!==null){x.styleResources[oi]=null,As||(As={precedence:et(ra),rules:[],hrefs:[],sheets:new Map},O.styles.set(ra,As));var co={state:0,props:I({},b,{"data-precedence":b.precedence,precedence:null})};if(mi){mi.length===2&&Js(co.props,mi);var Cs=O.preloads.stylesheets.get(oi);Cs&&0<Cs.length?Cs.length=0:co.state=1}As.sheets.set(oi,co),nt&&nt.stylesheets.add(co)}else if(As){var Sh=As.sheets.get(oi);Sh&&nt&&nt.stylesheets.add(Sh)}gt&&d.push("<!-- -->"),aa=null}else b.onLoad||b.onError?aa=Re(d,b):(gt&&d.push("<!-- -->"),aa=At?null:Re(O.hoistableChunks,b));return aa;case"script":var zo=b.async;if(typeof b.src!="string"||!b.src||!zo||typeof zo=="function"||typeof zo=="symbol"||b.onLoad||b.onError||Rt.insertionMode===4||Rt.tagScope&1||b.itemProp!=null)var Pu=Wr(d,b);else{var Vn=b.src;if(b.type==="module")var uo=x.moduleScriptResources,Oa=O.preloads.moduleScripts;else uo=x.scriptResources,Oa=O.preloads.scripts;var dr=uo.hasOwnProperty(Vn)?uo[Vn]:void 0;if(dr!==null){uo[Vn]=null;var Ho=b;if(dr){dr.length===2&&(Ho=I({},b),Js(Ho,dr));var Na=Oa.get(Vn);Na&&(Na.length=0)}var Pa=[];O.scripts.add(Pa),Wr(Pa,Ho)}gt&&d.push("<!-- -->"),Pu=null}return Pu;case"style":var ac=b.precedence,gr=b.href;if(Rt.insertionMode===4||Rt.tagScope&1||b.itemProp!=null||typeof ac!="string"||typeof gr!="string"||gr===""){d.push(Yt("style"));var Va=null,Yo=null,Hs;for(Hs in b)if(P.call(b,Hs)){var Go=b[Hs];if(Go!=null)switch(Hs){case"children":Va=Go;break;case"dangerouslySetInnerHTML":Yo=Go;break;default:Ae(d,Hs,Go)}}d.push(">");var La=Array.isArray(Va)?2>Va.length?Va[0]:null:Va;typeof La!="function"&&typeof La!="symbol"&&La!==null&&La!==void 0&&d.push((""+La).replace(Ye,ki)),He(d,Yo,Va),d.push(ue("style"));var yl=null}else{var pr=O.styles.get(ac);if((x.styleResources.hasOwnProperty(gr)?x.styleResources[gr]:void 0)!==null){x.styleResources[gr]=null,pr?pr.hrefs.push(et(gr)):(pr={precedence:et(ac),rules:[],hrefs:[et(gr)],sheets:new Map},O.styles.set(ac,pr));var Fa=pr.rules,oa=null,Ua=null,vl;for(vl in b)if(P.call(b,vl)){var h=b[vl];if(h!=null)switch(vl){case"children":oa=h;break;case"dangerouslySetInnerHTML":Ua=h}}var p=Array.isArray(oa)?2>oa.length?oa[0]:null:oa;typeof p!="function"&&typeof p!="symbol"&&p!==null&&p!==void 0&&Fa.push((""+p).replace(Ye,ki)),He(Fa,Ua,oa)}pr&&nt&&nt.styles.add(pr),gt&&d.push("<!-- -->"),yl=void 0}return yl;case"meta":if(Rt.insertionMode===4||Rt.tagScope&1||b.itemProp!=null)var w=Cn(d,b,"meta");else gt&&d.push("<!-- -->"),w=At?null:typeof b.charSet=="string"?Cn(O.charsetChunks,b,"meta"):b.name==="viewport"?Cn(O.viewportChunks,b,"meta"):Cn(O.hoistableChunks,b,"meta");return w;case"listing":case"pre":d.push(Yt(_));var R=null,D=null,W;for(W in b)if(P.call(b,W)){var tt=b[W];if(tt!=null)switch(W){case"children":R=tt;break;case"dangerouslySetInnerHTML":D=tt;break;default:Ae(d,W,tt)}}if(d.push(">"),D!=null){if(R!=null)throw Error(e(60));if(typeof D!="object"||!("__html"in D))throw Error(e(61));var vt=D.__html;vt!=null&&(typeof vt=="string"&&0<vt.length&&vt[0]===`
`?d.push(`
`,vt):d.push(""+vt))}return typeof R=="string"&&R[0]===`
`&&d.push(`
`),R;case"img":var it=b.src,ut=b.srcSet;if(!(b.loading==="lazy"||!it&&!ut||typeof it!="string"&&it!=null||typeof ut!="string"&&ut!=null)&&b.fetchPriority!=="low"&&!(Rt.tagScope&3)&&(typeof it!="string"||it[4]!==":"||it[0]!=="d"&&it[0]!=="D"||it[1]!=="a"&&it[1]!=="A"||it[2]!=="t"&&it[2]!=="T"||it[3]!=="a"&&it[3]!=="A")&&(typeof ut!="string"||ut[4]!==":"||ut[0]!=="d"&&ut[0]!=="D"||ut[1]!=="a"&&ut[1]!=="A"||ut[2]!=="t"&&ut[2]!=="T"||ut[3]!=="a"&&ut[3]!=="A")){var zt=typeof b.sizes=="string"?b.sizes:void 0,Dt=ut?ut+`
`+(zt||""):it,$t=O.preloads.images,ie=$t.get(Dt);if(ie)(b.fetchPriority==="high"||10>O.highImagePreloads.size)&&($t.delete(Dt),O.highImagePreloads.add(ie));else if(!x.imageResources.hasOwnProperty(Dt)){x.imageResources[Dt]=Vt;var de=b.crossOrigin,Ee=typeof de=="string"?de==="use-credentials"?de:"":void 0,vn=O.headers,Rn;vn&&0<vn.remainingCapacity&&typeof b.srcSet!="string"&&(b.fetchPriority==="high"||500>vn.highImagePreloads.length)&&(Rn=js(it,"image",{imageSrcSet:b.srcSet,imageSizes:b.sizes,crossOrigin:Ee,integrity:b.integrity,nonce:b.nonce,type:b.type,fetchPriority:b.fetchPriority,referrerPolicy:b.refererPolicy}),0<=(vn.remainingCapacity-=Rn.length+2))?(O.resets.image[Dt]=Vt,vn.highImagePreloads&&(vn.highImagePreloads+=", "),vn.highImagePreloads+=Rn):(ie=[],Re(ie,{rel:"preload",as:"image",href:ut?void 0:it,imageSrcSet:ut,imageSizes:zt,crossOrigin:Ee,integrity:b.integrity,type:b.type,fetchPriority:b.fetchPriority,referrerPolicy:b.referrerPolicy}),b.fetchPriority==="high"||10>O.highImagePreloads.size?O.highImagePreloads.add(ie):(O.bulkPreloads.add(ie),$t.set(Dt,ie)))}}return Cn(d,b,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Cn(d,b,_);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>Rt.insertionMode){var Ve=q||O.preamble;if(Ve.headChunks)throw Error(e(545,"`<head>`"));Ve.headChunks=[];var Hi=Sr(Ve.headChunks,b,"head")}else Hi=Ns(d,b,"head");return Hi;case"body":if(2>Rt.insertionMode){var Xn=q||O.preamble;if(Xn.bodyChunks)throw Error(e(545,"`<body>`"));Xn.bodyChunks=[];var ji=Sr(Xn.bodyChunks,b,"body")}else ji=Ns(d,b,"body");return ji;case"html":if(Rt.insertionMode===0){var Ln=q||O.preamble;if(Ln.htmlChunks)throw Error(e(545,"`<html>`"));Ln.htmlChunks=[""];var _e=Sr(Ln.htmlChunks,b,"html")}else _e=Ns(d,b,"html");return _e;default:if(_.indexOf("-")!==-1){d.push(Yt(_));var ke=null,Oe=null,Jn;for(Jn in b)if(P.call(b,Jn)){var Tn=b[Jn];if(Tn!=null){var jn=Jn;switch(Jn){case"children":ke=Tn;break;case"dangerouslySetInnerHTML":Oe=Tn;break;case"style":Wi(d,Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":jn="class";default:if(X(Jn)&&typeof Tn!="function"&&typeof Tn!="symbol"&&Tn!==!1){if(Tn===!0)Tn="";else if(typeof Tn=="object")continue;d.push(" ",jn,'="',et(Tn),'"')}}}}return d.push(">"),He(d,Oe,ke),ke}}return Ns(d,b,_)}var qt=new Map;function ue(d){var _=qt.get(d);return _===void 0&&(_="</"+d+">",qt.set(d,_)),_}function Fe(d,_){d=d.preamble,d.htmlChunks===null&&_.htmlChunks&&(d.htmlChunks=_.htmlChunks,_.contribution|=1),d.headChunks===null&&_.headChunks&&(d.headChunks=_.headChunks,_.contribution|=4),d.bodyChunks===null&&_.bodyChunks&&(d.bodyChunks=_.bodyChunks,_.contribution|=2)}function De(d,_){_=_.bootstrapChunks;for(var b=0;b<_.length-1;b++)d.push(_[b]);return b<_.length?(b=_[b],_.length=0,d.push(b)):!0}function On(d,_,b){if(d.push('<!--$?--><template id="'),b===null)throw Error(e(395));return d.push(_.boundaryPrefix),_=b.toString(16),d.push(_),d.push('"></template>')}function Ps(d,_){_=_.contribution,_!==0&&(d.push("<!--"),d.push(""+_),d.push("-->"))}function os(d,_,b,x){switch(b.insertionMode){case 0:case 1:case 3:case 2:return d.push('<div hidden id="'),d.push(_.segmentPrefix),_=x.toString(16),d.push(_),d.push('">');case 4:return d.push('<svg aria-hidden="true" style="display:none" id="'),d.push(_.segmentPrefix),_=x.toString(16),d.push(_),d.push('">');case 5:return d.push('<math aria-hidden="true" style="display:none" id="'),d.push(_.segmentPrefix),_=x.toString(16),d.push(_),d.push('">');case 6:return d.push('<table hidden id="'),d.push(_.segmentPrefix),_=x.toString(16),d.push(_),d.push('">');case 7:return d.push('<table hidden><tbody id="'),d.push(_.segmentPrefix),_=x.toString(16),d.push(_),d.push('">');case 8:return d.push('<table hidden><tr id="'),d.push(_.segmentPrefix),_=x.toString(16),d.push(_),d.push('">');case 9:return d.push('<table hidden><colgroup id="'),d.push(_.segmentPrefix),_=x.toString(16),d.push(_),d.push('">');default:throw Error(e(397))}}function Wl(d,_){switch(_.insertionMode){case 0:case 1:case 3:case 2:return d.push("</div>");case 4:return d.push("</svg>");case 5:return d.push("</math>");case 6:return d.push("</table>");case 7:return d.push("</tbody></table>");case 8:return d.push("</tr></table>");case 9:return d.push("</colgroup></table>");default:throw Error(e(397))}}var ma=/[<\u2028\u2029]/g;function ui(d){return JSON.stringify(d).replace(ma,function(_){switch(_){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var vi=/[&><\u2028\u2029]/g;function hi(d){return JSON.stringify(d).replace(vi,function(_){switch(_){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var cn=!1,Yn=!0;function Be(d){var _=d.rules,b=d.hrefs,x=0;if(b.length){for(this.push('<style media="not all" data-precedence="'),this.push(d.precedence),this.push('" data-href="');x<b.length-1;x++)this.push(b[x]),this.push(" ");for(this.push(b[x]),this.push('">'),x=0;x<_.length;x++)this.push(_[x]);Yn=this.push("</style>"),cn=!0,_.length=0,b.length=0}}function Vs(d){return d.state!==2?cn=!0:!1}function So(d,_,b){return cn=!1,Yn=!0,_.styles.forEach(Be,d),_.stylesheets.forEach(Vs),cn&&(b.stylesToHoist=!0),Yn}function ls(d){for(var _=0;_<d.length;_++)this.push(d[_]);d.length=0}var qi=[];function ql(d){Re(qi,d.props);for(var _=0;_<qi.length;_++)this.push(qi[_]);qi.length=0,d.state=2}function Ja(d){var _=0<d.sheets.size;d.sheets.forEach(ql,this),d.sheets.clear();var b=d.rules,x=d.hrefs;if(!_||x.length){if(this.push('<style data-precedence="'),this.push(d.precedence),d=0,x.length){for(this.push('" data-href="');d<x.length-1;d++)this.push(x[d]),this.push(" ");this.push(x[d])}for(this.push('">'),d=0;d<b.length;d++)this.push(b[d]);this.push("</style>"),b.length=0,x.length=0}}function Ue(d){if(d.state===0){d.state=1;var _=d.props;for(Re(qi,{rel:"preload",as:"style",href:d.props.href,crossOrigin:_.crossOrigin,fetchPriority:_.fetchPriority,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy}),d=0;d<qi.length;d++)this.push(qi[d]);qi.length=0}}function Nn(d){d.sheets.forEach(Ue,this),d.sheets.clear()}function ys(d,_){d.push("[");var b="[";_.stylesheets.forEach(function(x){if(x.state!==2)if(x.state===3)d.push(b),x=hi(""+x.props.href),d.push(x),d.push("]"),b=",[";else{d.push(b);var O=x.props["data-precedence"],q=x.props,nt=K(""+x.props.href);nt=hi(nt),d.push(nt),O=""+O,d.push(","),O=hi(O),d.push(O);for(var Rt in q)if(P.call(q,Rt)&&(O=q[Rt],O!=null))switch(Rt){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"link"));default:qn(d,Rt,O)}d.push("]"),b=",[",x.state=3}}),d.push("]")}function qn(d,_,b){var x=_.toLowerCase();switch(typeof b){case"function":case"symbol":return}switch(_){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":x="class",_=""+b;break;case"hidden":if(b===!1)return;_="";break;case"src":case"href":b=K(b),_=""+b;break;default:if(2<_.length&&(_[0]==="o"||_[0]==="O")&&(_[1]==="n"||_[1]==="N")||!X(_))return;_=""+b}d.push(","),x=hi(x),d.push(x),d.push(","),x=hi(_),d.push(x)}function Qi(){return{styles:new Set,stylesheets:new Set}}function Gn(d){var _=fi||null;if(_){var b=_.resumableState,x=_.renderState;if(typeof d=="string"&&d){if(!b.dnsResources.hasOwnProperty(d)){b.dnsResources[d]=null,b=x.headers;var O,q;(q=b&&0<b.remainingCapacity)&&(q=(O="<"+(""+d).replace(Cr,cs)+">; rel=dns-prefetch",0<=(b.remainingCapacity-=O.length+2))),q?(x.resets.dns[d]=null,b.preconnects&&(b.preconnects+=", "),b.preconnects+=O):(O=[],Re(O,{href:d,rel:"dns-prefetch"}),x.preconnects.add(O))}Lo(_)}}else _t.D(d)}function Ql(d,_){var b=fi||null;if(b){var x=b.resumableState,O=b.renderState;if(typeof d=="string"&&d){var q=_==="use-credentials"?"credentials":typeof _=="string"?"anonymous":"default";if(!x.connectResources[q].hasOwnProperty(d)){x.connectResources[q][d]=null,x=O.headers;var nt,Rt;if(Rt=x&&0<x.remainingCapacity){if(Rt="<"+(""+d).replace(Cr,cs)+">; rel=preconnect",typeof _=="string"){var gt=(""+_).replace(ni,$s);Rt+='; crossorigin="'+gt+'"'}Rt=(nt=Rt,0<=(x.remainingCapacity-=nt.length+2))}Rt?(O.resets.connect[q][d]=null,x.preconnects&&(x.preconnects+=", "),x.preconnects+=nt):(q=[],Re(q,{rel:"preconnect",href:d,crossOrigin:_}),O.preconnects.add(q))}Lo(b)}}else _t.C(d,_)}function Ao(d,_,b){var x=fi||null;if(x){var O=x.resumableState,q=x.renderState;if(_&&d){switch(_){case"image":if(b)var nt=b.imageSrcSet,Rt=b.imageSizes,gt=b.fetchPriority;var At=nt?nt+`
`+(Rt||""):d;if(O.imageResources.hasOwnProperty(At))return;O.imageResources[At]=Vt,O=q.headers;var Kt;O&&0<O.remainingCapacity&&typeof nt!="string"&&gt==="high"&&(Kt=js(d,_,b),0<=(O.remainingCapacity-=Kt.length+2))?(q.resets.image[At]=Vt,O.highImagePreloads&&(O.highImagePreloads+=", "),O.highImagePreloads+=Kt):(O=[],Re(O,I({rel:"preload",href:nt?void 0:d,as:_},b)),gt==="high"?q.highImagePreloads.add(O):(q.bulkPreloads.add(O),q.preloads.images.set(At,O)));break;case"style":if(O.styleResources.hasOwnProperty(d))return;nt=[],Re(nt,I({rel:"preload",href:d,as:_},b)),O.styleResources[d]=!b||typeof b.crossOrigin!="string"&&typeof b.integrity!="string"?Vt:[b.crossOrigin,b.integrity],q.preloads.stylesheets.set(d,nt),q.bulkPreloads.add(nt);break;case"script":if(O.scriptResources.hasOwnProperty(d))return;nt=[],q.preloads.scripts.set(d,nt),q.bulkPreloads.add(nt),Re(nt,I({rel:"preload",href:d,as:_},b)),O.scriptResources[d]=!b||typeof b.crossOrigin!="string"&&typeof b.integrity!="string"?Vt:[b.crossOrigin,b.integrity];break;default:if(O.unknownResources.hasOwnProperty(_)){if(nt=O.unknownResources[_],nt.hasOwnProperty(d))return}else nt={},O.unknownResources[_]=nt;if(nt[d]=Vt,(O=q.headers)&&0<O.remainingCapacity&&_==="font"&&(At=js(d,_,b),0<=(O.remainingCapacity-=At.length+2)))q.resets.font[d]=Vt,O.fontPreloads&&(O.fontPreloads+=", "),O.fontPreloads+=At;else switch(O=[],d=I({rel:"preload",href:d,as:_},b),Re(O,d),_){case"font":q.fontPreloads.add(O);break;default:q.bulkPreloads.add(O)}}Lo(x)}}else _t.L(d,_,b)}function Ar(d,_){var b=fi||null;if(b){var x=b.resumableState,O=b.renderState;if(d){var q=_&&typeof _.as=="string"?_.as:"script";switch(q){case"script":if(x.moduleScriptResources.hasOwnProperty(d))return;q=[],x.moduleScriptResources[d]=!_||typeof _.crossOrigin!="string"&&typeof _.integrity!="string"?Vt:[_.crossOrigin,_.integrity],O.preloads.moduleScripts.set(d,q);break;default:if(x.moduleUnknownResources.hasOwnProperty(q)){var nt=x.unknownResources[q];if(nt.hasOwnProperty(d))return}else nt={},x.moduleUnknownResources[q]=nt;q=[],nt[d]=Vt}Re(q,I({rel:"modulepreload",href:d},_)),O.bulkPreloads.add(q),Lo(b)}}else _t.m(d,_)}function _a(d,_,b){var x=fi||null;if(x){var O=x.resumableState,q=x.renderState;if(d){_=_||"default";var nt=q.styles.get(_),Rt=O.styleResources.hasOwnProperty(d)?O.styleResources[d]:void 0;Rt!==null&&(O.styleResources[d]=null,nt||(nt={precedence:et(_),rules:[],hrefs:[],sheets:new Map},q.styles.set(_,nt)),_={state:0,props:I({rel:"stylesheet",href:d,"data-precedence":_},b)},Rt&&(Rt.length===2&&Js(_.props,Rt),(q=q.preloads.stylesheets.get(d))&&0<q.length?q.length=0:_.state=1),nt.sheets.set(d,_),Lo(x))}}else _t.S(d,_,b)}function Ti(d,_){var b=fi||null;if(b){var x=b.resumableState,O=b.renderState;if(d){var q=x.scriptResources.hasOwnProperty(d)?x.scriptResources[d]:void 0;q!==null&&(x.scriptResources[d]=null,_=I({src:d,async:!0},_),q&&(q.length===2&&Js(_,q),d=O.preloads.scripts.get(d))&&(d.length=0),d=[],O.scripts.add(d),Wr(d,_),Lo(b))}}else _t.X(d,_)}function Zl(d,_){var b=fi||null;if(b){var x=b.resumableState,O=b.renderState;if(d){var q=x.moduleScriptResources.hasOwnProperty(d)?x.moduleScriptResources[d]:void 0;q!==null&&(x.moduleScriptResources[d]=null,_=I({src:d,type:"module",async:!0},_),q&&(q.length===2&&Js(_,q),d=O.preloads.moduleScripts.get(d))&&(d.length=0),d=[],O.scripts.add(d),Wr(d,_),Lo(b))}}else _t.M(d,_)}function Js(d,_){d.crossOrigin==null&&(d.crossOrigin=_[0]),d.integrity==null&&(d.integrity=_[1])}function js(d,_,b){d=(""+d).replace(Cr,cs),_=(""+_).replace(ni,$s),_="<"+d+'>; rel=preload; as="'+_+'"';for(var x in b)P.call(b,x)&&(d=b[x],typeof d=="string"&&(_+="; "+x.toLowerCase()+'="'+(""+d).replace(ni,$s)+'"'));return _}var Cr=/[<>\r\n]/g;function cs(d){switch(d){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var ni=/["';,\r\n]/g;function $s(d){switch(d){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function Co(d){this.styles.add(d)}function qr(d){this.stylesheets.add(d)}function xo(d,_){var b=d.idPrefix,x=[],O=d.bootstrapScriptContent,q=d.bootstrapScripts,nt=d.bootstrapModules;O!==void 0&&x.push("<script>",(""+O).replace(ce,Bt),"<\/script>"),O=b+"P:";var Rt=b+"S:";b+="B:";var gt=Dn(),At=new Set,Kt=new Set,Ht=new Set,se=new Map,ge=new Set,fe=new Set,we=new Set,fn={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(q!==void 0)for(var dn=0;dn<q.length;dn++){var gn=q[dn],Pn,he=void 0,Zn=void 0,Pe={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};typeof gn=="string"?Pe.href=Pn=gn:(Pe.href=Pn=gn.src,Pe.integrity=Zn=typeof gn.integrity=="string"?gn.integrity:void 0,Pe.crossOrigin=he=typeof gn=="string"||gn.crossOrigin==null?void 0:gn.crossOrigin==="use-credentials"?"use-credentials":""),gn=d;var di=Pn;gn.scriptResources[di]=null,gn.moduleScriptResources[di]=null,gn=[],Re(gn,Pe),ge.add(gn),x.push('<script src="',et(Pn)),typeof Zn=="string"&&x.push('" integrity="',et(Zn)),typeof he=="string"&&x.push('" crossorigin="',et(he)),x.push('" async=""><\/script>')}if(nt!==void 0)for(q=0;q<nt.length;q++)Pe=nt[q],he=Pn=void 0,Zn={rel:"modulepreload",fetchPriority:"low",nonce:void 0},typeof Pe=="string"?Zn.href=dn=Pe:(Zn.href=dn=Pe.src,Zn.integrity=he=typeof Pe.integrity=="string"?Pe.integrity:void 0,Zn.crossOrigin=Pn=typeof Pe=="string"||Pe.crossOrigin==null?void 0:Pe.crossOrigin==="use-credentials"?"use-credentials":""),Pe=d,gn=dn,Pe.scriptResources[gn]=null,Pe.moduleScriptResources[gn]=null,Pe=[],Re(Pe,Zn),ge.add(Pe),x.push('<script type="module" src="',et(dn)),typeof he=="string"&&x.push('" integrity="',et(he)),typeof Pn=="string"&&x.push('" crossorigin="',et(Pn)),x.push('" async=""><\/script>');return{placeholderPrefix:O,segmentPrefix:Rt,boundaryPrefix:b,startInlineScript:"<script>",preamble:gt,externalRuntimeScript:null,bootstrapChunks:x,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:At,fontPreloads:Kt,highImagePreloads:Ht,styles:se,bootstrapScripts:ge,scripts:fe,bulkPreloads:we,preloads:fn,stylesToHoist:!1,generateStaticMarkup:_}}function xn(d,_,b,x){return b.generateStaticMarkup?(d.push(et(_)),!1):(_===""?d=x:(x&&d.push("<!-- -->"),d.push(et(_)),d=!0),d)}function Ro(d,_,b,x){_.generateStaticMarkup||b&&x&&d.push("<!-- -->")}var hl=Function.prototype.bind,Zi=Symbol.for("react.client.reference");function vs(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===Zi?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case l:return"Fragment";case g:return"Profiler";case u:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList";case j:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case a:return"Portal";case E:return(d.displayName||"Context")+".Provider";case v:return(d._context.displayName||"Context")+".Consumer";case A:var _=d.render;return d=d.displayName,d||(d=_.displayName||_.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case L:return _=d.displayName||null,_!==null?_:vs(d.type)||"Memo";case Z:_=d._payload,d=d._init;try{return vs(d(_))}catch{}}return null}var Kl={},Ls=null;function ja(d,_){if(d!==_){d.context._currentValue2=d.parentValue,d=d.parent;var b=_.parent;if(d===null){if(b!==null)throw Error(e(401))}else{if(b===null)throw Error(e(401));ja(d,b)}_.context._currentValue2=_.value}}function $a(d){d.context._currentValue2=d.parentValue,d=d.parent,d!==null&&$a(d)}function Dc(d){var _=d.parent;_!==null&&Dc(_),d.context._currentValue2=d.value}function ii(d,_){if(d.context._currentValue2=d.parentValue,d=d.parent,d===null)throw Error(e(402));d.depth===_.depth?ja(d,_):ii(d,_)}function Ts(d,_){var b=_.parent;if(b===null)throw Error(e(402));d.depth===b.depth?ja(d,b):Ts(d,b),_.context._currentValue2=_.value}function ws(d){var _=Ls;_!==d&&(_===null?Dc(d):d===null?$a(_):_.depth===d.depth?ja(_,d):_.depth>d.depth?ii(_,d):Ts(_,d),Ls=d)}var tr={enqueueSetState:function(d,_){d=d._reactInternals,d.queue!==null&&d.queue.push(_)},enqueueReplaceState:function(d,_){d=d._reactInternals,d.replace=!0,d.queue=[_]},enqueueForceUpdate:function(){}},ya={id:1,overflow:""};function nn(d,_,b){var x=d.id;d=d.overflow;var O=32-Qr(x)-1;x&=~(1<<O),b+=1;var q=32-Qr(_)+O;if(30<q){var nt=O-O%5;return q=(x&(1<<nt)-1).toString(32),x>>=nt,O-=nt,{id:1<<32-Qr(_)+O|b<<O|x,overflow:q+d}}return{id:1<<q|b<<O|x,overflow:d}}var Qr=Math.clz32?Math.clz32:Oc,er=Math.log,to=Math.LN2;function Oc(d){return d>>>=0,d===0?32:31-(er(d)/to|0)|0}var xr=Error(e(460));function va(){}function Du(d,_,b){switch(b=d[b],b===void 0?d.push(_):b!==_&&(_.then(va,va),_=b),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(va,va):(d=_,d.status="pending",d.then(function(x){if(_.status==="pending"){var O=_;O.status="fulfilled",O.value=x}},function(x){if(_.status==="pending"){var O=_;O.status="rejected",O.reason=x}})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}throw fl=_,xr}}var fl=null;function Ta(){if(fl===null)throw Error(e(459));var d=fl;return fl=null,d}function wa(d,_){return d===_&&(d!==0||1/d===1/_)||d!==d&&_!==_}var nr=typeof Object.is=="function"?Object.is:wa,Li=null,Rr=null,Mo=null,ir=null,Io=null,Ze=null,us=!1,hs=!1,Mr=0,bs=0,sr=-1,rr=0,Zr=null,Fi=null,Fs=0;function Us(){if(Li===null)throw Error(e(321));return Li}function wi(){if(0<Fs)throw Error(e(312));return{memoizedState:null,queue:null,next:null}}function Ke(){return Ze===null?Io===null?(us=!1,Io=Ze=wi()):(us=!0,Ze=Io):Ze.next===null?(us=!1,Ze=Ze.next=wi()):(us=!0,Ze=Ze.next),Ze}function Ir(){var d=Zr;return Zr=null,d}function kr(){ir=Mo=Rr=Li=null,hs=!1,Io=null,Fs=0,Ze=Fi=null}function Jl(d,_){return typeof _=="function"?_(d):_}function ko(d,_,b){if(Li=Us(),Ze=Ke(),us){var x=Ze.queue;if(_=x.dispatch,Fi!==null&&(b=Fi.get(x),b!==void 0)){Fi.delete(x),x=Ze.memoizedState;do x=d(x,b.action),b=b.next;while(b!==null);return Ze.memoizedState=x,[x,_]}return[Ze.memoizedState,_]}return d=d===Jl?typeof _=="function"?_():_:b!==void 0?b(_):_,Ze.memoizedState=d,d=Ze.queue={last:null,dispatch:null},d=d.dispatch=Kr.bind(null,Li,d),[Ze.memoizedState,d]}function Do(d,_){if(Li=Us(),Ze=Ke(),_=_===void 0?null:_,Ze!==null){var b=Ze.memoizedState;if(b!==null&&_!==null){var x=b[1];t:if(x===null)x=!1;else{for(var O=0;O<x.length&&O<_.length;O++)if(!nr(_[O],x[O])){x=!1;break t}x=!0}if(x)return b[0]}}return d=d(),Ze.memoizedState=[d,_],d}function Kr(d,_,b){if(25<=Fs)throw Error(e(301));if(d===Li)if(hs=!0,d={action:b,next:null},Fi===null&&(Fi=new Map),b=Fi.get(_),b===void 0)Fi.set(_,d);else{for(_=b;_.next!==null;)_=_.next;_.next=d}}function Oo(){throw Error(e(394))}function ar(){throw Error(e(479))}function jl(d,_,b){Us();var x=bs++,O=Mo;if(typeof d.$$FORM_ACTION=="function"){var q=null,nt=ir;O=O.formState;var Rt=d.$$IS_SIGNATURE_EQUAL;if(O!==null&&typeof Rt=="function"){var gt=O[1];Rt.call(d,O[2],O[3])&&(q=b!==void 0?"p"+b:"k"+V(JSON.stringify([nt,null,x]),0),gt===q&&(sr=x,_=O[0]))}var At=d.bind(null,_);return d=function(Ht){At(Ht)},typeof At.$$FORM_ACTION=="function"&&(d.$$FORM_ACTION=function(Ht){Ht=At.$$FORM_ACTION(Ht),b!==void 0&&(b+="",Ht.action=b);var se=Ht.data;return se&&(q===null&&(q=b!==void 0?"p"+b:"k"+V(JSON.stringify([nt,null,x]),0)),se.append("$ACTION_KEY",q)),Ht}),[_,d,!1]}var Kt=d.bind(null,_);return[_,function(Ht){Kt(Ht)},!1]}function Nc(d){var _=rr;return rr+=1,Zr===null&&(Zr=[]),Du(Zr,d,_)}function No(){throw Error(e(393))}function Jr(){}var dl={readContext:function(d){return d._currentValue2},use:function(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Nc(d);if(d.$$typeof===E)return d._currentValue2}throw Error(e(438,String(d)))},useContext:function(d){return Us(),d._currentValue2},useMemo:Do,useReducer:ko,useRef:function(d){Li=Us(),Ze=Ke();var _=Ze.memoizedState;return _===null?(d={current:d},Ze.memoizedState=d):_},useState:function(d){return ko(Jl,d)},useInsertionEffect:Jr,useLayoutEffect:Jr,useCallback:function(d,_){return Do(function(){return d},_)},useImperativeHandle:Jr,useEffect:Jr,useDebugValue:Jr,useDeferredValue:function(d,_){return Us(),_!==void 0?_:d},useTransition:function(){return Us(),[!1,Oo]},useId:function(){var d=Rr.treeContext,_=d.overflow;d=d.id,d=(d&~(1<<32-Qr(d)-1)).toString(32)+_;var b=ba;if(b===null)throw Error(e(404));return _=Mr++,d="«"+b.idPrefix+"R"+d,0<_&&(d+="H"+_.toString(32)),d+"»"},useSyncExternalStore:function(d,_,b){if(b===void 0)throw Error(e(407));return b()},useOptimistic:function(d){return Us(),[d,ar]},useActionState:jl,useFormState:jl,useHostTransitionStatus:function(){return Us(),It},useMemoCache:function(d){for(var _=Array(d),b=0;b<d;b++)_[b]=st;return _},useCacheRefresh:function(){return No}},ba=null,Pc={getCacheForType:function(){throw Error(e(248))}},eo,Vc;function jr(d){if(eo===void 0)try{throw Error()}catch(b){var _=b.stack.trim().match(/\n( *(at )?)/);eo=_&&_[1]||"",Vc=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+d+Vc}var Ea=!1;function Po(d,_){if(!d||Ea)return"";Ea=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(_){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(ge){var se=ge}Reflect.construct(d,[],Ht)}else{try{Ht.call()}catch(ge){se=ge}d.call(Ht.prototype)}}else{try{throw Error()}catch(ge){se=ge}(Ht=d())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(ge){if(ge&&se&&typeof ge.stack=="string")return[ge.stack,se.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=x.DetermineComponentFrameRoot(),nt=q[0],Rt=q[1];if(nt&&Rt){var gt=nt.split(`
`),At=Rt.split(`
`);for(O=x=0;x<gt.length&&!gt[x].includes("DetermineComponentFrameRoot");)x++;for(;O<At.length&&!At[O].includes("DetermineComponentFrameRoot");)O++;if(x===gt.length||O===At.length)for(x=gt.length-1,O=At.length-1;1<=x&&0<=O&&gt[x]!==At[O];)O--;for(;1<=x&&0<=O;x--,O--)if(gt[x]!==At[O]){if(x!==1||O!==1)do if(x--,O--,0>O||gt[x]!==At[O]){var Kt=`
`+gt[x].replace(" at new "," at ");return d.displayName&&Kt.includes("<anonymous>")&&(Kt=Kt.replace("<anonymous>",d.displayName)),Kt}while(1<=x&&0<=O);break}}}finally{Ea=!1,Error.prepareStackTrace=b}return(b=d?d.displayName||d.name:"")?jr(b):""}function $l(d){if(typeof d=="string")return jr(d);if(typeof d=="function")return d.prototype&&d.prototype.isReactComponent?Po(d,!0):Po(d,!1);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case A:return Po(d.render,!1);case L:return Po(d.type,!1);case Z:var _=d,b=_._payload;_=_._init;try{d=_(b)}catch{return jr("Lazy")}return $l(d)}if(typeof d.name=="string")return b=d.env,jr(d.name+(b?" ["+b+"]":""))}switch(d){case N:return jr("SuspenseList");case C:return jr("Suspense")}return""}function Sa(d){if(typeof d=="object"&&d!==null&&typeof d.environmentName=="string"){var _=d.environmentName;d=[d].slice(0),typeof d[0]=="string"?d.splice(0,1,"[%s] "+d[0]," "+_+" "):d.splice(0,0,"[%s] "," "+_+" "),d.unshift(console),_=hl.apply(console.error,d),_()}else console.error(d);return null}function or(){}function Lc(d,_,b,x,O,q,nt,Rt,gt,At,Kt){var Ht=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=d,this.renderState=_,this.rootFormatContext=b,this.progressiveChunkSize=x===void 0?12800:x,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.abortableTasks=Ht,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=O===void 0?Sa:O,this.onPostpone=At===void 0?or:At,this.onAllReady=q===void 0?or:q,this.onShellReady=nt===void 0?or:nt,this.onShellError=Rt===void 0?or:Rt,this.onFatalError=gt===void 0?or:gt,this.formState=Kt===void 0?null:Kt}function gl(d,_,b,x,O,q,nt,Rt,gt,At,Kt,Ht){return _=new Lc(_,b,x,O,q,nt,Rt,gt,At,Kt,Ht),b=$r(_,0,null,x,!1,!1),b.parentFlushed=!0,d=no(_,null,d,-1,null,b,null,null,_.abortableTasks,null,x,null,ya,null,!1),bi(d),_.pingedTasks.push(d),_}var fi=null;function Aa(d,_){d.pingedTasks.push(_),d.pingedTasks.length===1&&(d.flushScheduled=d.destination!==null,Ou(d))}function fs(d,_,b,x){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:_,errorDigest:null,contentState:Qi(),fallbackState:Qi(),contentPreamble:b,fallbackPreamble:x,trackedContentKeyPath:null,trackedFallbackNode:null}}function no(d,_,b,x,O,q,nt,Rt,gt,At,Kt,Ht,se,ge,fe){d.allPendingTasks++,O===null?d.pendingRootTasks++:O.pendingTasks++;var we={replay:null,node:b,childIndex:x,ping:function(){return Aa(d,we)},blockedBoundary:O,blockedSegment:q,blockedPreamble:nt,hoistableState:Rt,abortSet:gt,keyPath:At,formatContext:Kt,context:Ht,treeContext:se,componentStack:ge,thenableState:_,isFallback:fe};return gt.add(we),we}function tc(d,_,b,x,O,q,nt,Rt,gt,At,Kt,Ht,se,ge){d.allPendingTasks++,q===null?d.pendingRootTasks++:q.pendingTasks++,b.pendingTasks++;var fe={replay:b,node:x,childIndex:O,ping:function(){return Aa(d,fe)},blockedBoundary:q,blockedSegment:null,blockedPreamble:null,hoistableState:nt,abortSet:Rt,keyPath:gt,formatContext:At,context:Kt,treeContext:Ht,componentStack:se,thenableState:_,isFallback:ge};return Rt.add(fe),fe}function $r(d,_,b,x,O,q){return{status:0,parentFlushed:!1,id:-1,index:_,chunks:[],children:[],preambleChildren:[],parentFormatContext:x,boundary:b,lastPushedText:O,textEmbedded:q}}function bi(d){var _=d.node;if(typeof _=="object"&&_!==null)switch(_.$$typeof){case i:d.componentStack={parent:d.componentStack,type:_.type}}}function Ei(d){var _={};return d&&Object.defineProperty(_,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var b="",x=d;do b+=$l(x.type),x=x.parent;while(x);var O=b}catch(q){O=`
Error generating stack: `+q.message+`
`+q.stack}return Object.defineProperty(_,"componentStack",{value:O}),O}}),_}function yn(d,_,b){if(d=d.onError,_=d(_,b),_==null||typeof _=="string")return _}function io(d,_){var b=d.onShellError,x=d.onFatalError;b(_),x(_),d.destination!==null?(d.status=14,d.destination.destroy(_)):(d.status=13,d.fatalError=_)}function ec(d,_,b,x,O,q){var nt=_.thenableState;for(_.thenableState=null,Li={},Rr=_,Mo=d,ir=b,bs=Mr=0,sr=-1,rr=0,Zr=nt,d=x(O,q);hs;)hs=!1,bs=Mr=0,sr=-1,rr=0,Fs+=1,Ze=null,d=x(O,q);return kr(),d}function lr(d,_,b,x,O,q,nt){var Rt=!1;if(q!==0&&d.formState!==null){var gt=_.blockedSegment;if(gt!==null){Rt=!0,gt=gt.chunks;for(var At=0;At<q;At++)At===nt?gt.push("<!--F!-->"):gt.push("<!--F-->")}}q=_.keyPath,_.keyPath=b,O?(b=_.treeContext,_.treeContext=nn(b,1,0),tn(d,_,x,-1),_.treeContext=b):Rt?tn(d,_,x,-1):M(d,_,x,-1),_.keyPath=q}function f(d,_,b,x,O,q){if(typeof x=="function")if(x.prototype&&x.prototype.isReactComponent){var nt=O;if("ref"in O){nt={};for(var Rt in O)Rt!=="ref"&&(nt[Rt]=O[Rt])}var gt=x.defaultProps;if(gt){nt===O&&(nt=I({},nt,O));for(var At in gt)nt[At]===void 0&&(nt[At]=gt[At])}O=nt,nt=Kl,gt=x.contextType,typeof gt=="object"&&gt!==null&&(nt=gt._currentValue2),nt=new x(O,nt);var Kt=nt.state!==void 0?nt.state:null;if(nt.updater=tr,nt.props=O,nt.state=Kt,gt={queue:[],replace:!1},nt._reactInternals=gt,q=x.contextType,nt.context=typeof q=="object"&&q!==null?q._currentValue2:Kl,q=x.getDerivedStateFromProps,typeof q=="function"&&(q=q(O,Kt),Kt=q==null?Kt:I({},Kt,q),nt.state=Kt),typeof x.getDerivedStateFromProps!="function"&&typeof nt.getSnapshotBeforeUpdate!="function"&&(typeof nt.UNSAFE_componentWillMount=="function"||typeof nt.componentWillMount=="function"))if(x=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),x!==nt.state&&tr.enqueueReplaceState(nt,nt.state,null),gt.queue!==null&&0<gt.queue.length)if(x=gt.queue,q=gt.replace,gt.queue=null,gt.replace=!1,q&&x.length===1)nt.state=x[0];else{for(gt=q?x[0]:nt.state,Kt=!0,q=q?1:0;q<x.length;q++)At=x[q],At=typeof At=="function"?At.call(nt,gt,O,void 0):At,At!=null&&(Kt?(Kt=!1,gt=I({},gt,At)):I(gt,At));nt.state=gt}else gt.queue=null;if(x=nt.render(),d.status===12)throw null;O=_.keyPath,_.keyPath=b,M(d,_,x,-1),_.keyPath=O}else{if(x=ec(d,_,b,x,O,void 0),d.status===12)throw null;lr(d,_,b,x,Mr!==0,bs,sr)}else if(typeof x=="string")if(nt=_.blockedSegment,nt===null)nt=O.children,gt=_.formatContext,Kt=_.keyPath,_.formatContext=le(gt,x,O),_.keyPath=b,tn(d,_,nt,-1),_.formatContext=gt,_.keyPath=Kt;else{q=ne(nt.chunks,x,O,d.resumableState,d.renderState,_.blockedPreamble,_.hoistableState,_.formatContext,nt.lastPushedText,_.isFallback),nt.lastPushedText=!1,gt=_.formatContext,Kt=_.keyPath,_.keyPath=b,(_.formatContext=le(gt,x,O)).insertionMode===3?(b=$r(d,0,null,_.formatContext,!1,!1),nt.preambleChildren.push(b),b=no(d,null,q,-1,_.blockedBoundary,b,_.blockedPreamble,_.hoistableState,d.abortableTasks,_.keyPath,_.formatContext,_.context,_.treeContext,_.componentStack,_.isFallback),bi(b),d.pingedTasks.push(b)):tn(d,_,q,-1),_.formatContext=gt,_.keyPath=Kt;t:{switch(_=nt.chunks,d=d.resumableState,x){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break t;case"body":if(1>=gt.insertionMode){d.hasBody=!0;break t}break;case"html":if(gt.insertionMode===0){d.hasHtml=!0;break t}break;case"head":if(1>=gt.insertionMode)break t}_.push(ue(x))}nt.lastPushedText=!1}else{switch(x){case lt:case u:case g:case l:x=_.keyPath,_.keyPath=b,M(d,_,O.children,-1),_.keyPath=x;return;case j:O.mode!=="hidden"&&(x=_.keyPath,_.keyPath=b,M(d,_,O.children,-1),_.keyPath=x);return;case N:x=_.keyPath,_.keyPath=b,M(d,_,O.children,-1),_.keyPath=x;return;case pt:case H:throw Error(e(343));case C:t:if(_.replay!==null){x=_.keyPath,_.keyPath=b,b=O.children;try{tn(d,_,b,-1)}finally{_.keyPath=x}}else{x=_.keyPath;var Ht=_.blockedBoundary;q=_.blockedPreamble;var se=_.hoistableState;At=_.blockedSegment,Rt=O.fallback,O=O.children;var ge=new Set,fe=2>_.formatContext.insertionMode?fs(d,ge,Dn(),Dn()):fs(d,ge,null,null);d.trackedPostpones!==null&&(fe.trackedContentKeyPath=b);var we=$r(d,At.chunks.length,fe,_.formatContext,!1,!1);At.children.push(we),At.lastPushedText=!1;var fn=$r(d,0,null,_.formatContext,!1,!1);if(fn.parentFlushed=!0,d.trackedPostpones!==null){nt=[b[0],"Suspense Fallback",b[2]],gt=[nt[1],nt[2],[],null],d.trackedPostpones.workingMap.set(nt,gt),fe.trackedFallbackNode=gt,_.blockedSegment=we,_.blockedPreamble=fe.fallbackPreamble,_.keyPath=nt,we.status=6;try{tn(d,_,Rt,-1),Ro(we.chunks,d.renderState,we.lastPushedText,we.textEmbedded),we.status=1}catch(dn){throw we.status=d.status===12?3:4,dn}finally{_.blockedSegment=At,_.blockedPreamble=q,_.keyPath=x}_=no(d,null,O,-1,fe,fn,fe.contentPreamble,fe.contentState,_.abortSet,b,_.formatContext,_.context,_.treeContext,_.componentStack,_.isFallback),bi(_),d.pingedTasks.push(_)}else{_.blockedBoundary=fe,_.blockedPreamble=fe.contentPreamble,_.hoistableState=fe.contentState,_.blockedSegment=fn,_.keyPath=b,fn.status=6;try{if(tn(d,_,O,-1),Ro(fn.chunks,d.renderState,fn.lastPushedText,fn.textEmbedded),fn.status=1,Ca(fe,fn),fe.pendingTasks===0&&fe.status===0){fe.status=1,d.pendingRootTasks===0&&_.blockedPreamble&&ta(d);break t}}catch(dn){fe.status=4,d.status===12?(fn.status=3,nt=d.fatalError):(fn.status=4,nt=dn),gt=Ei(_.componentStack),Kt=yn(d,nt,gt),fe.errorDigest=Kt,St(d,fe)}finally{_.blockedBoundary=Ht,_.blockedPreamble=q,_.hoistableState=se,_.blockedSegment=At,_.keyPath=x}_=no(d,null,Rt,-1,Ht,we,fe.fallbackPreamble,fe.fallbackState,ge,[b[0],"Suspense Fallback",b[2]],_.formatContext,_.context,_.treeContext,_.componentStack,!0),bi(_),d.pingedTasks.push(_)}}return}if(typeof x=="object"&&x!==null)switch(x.$$typeof){case A:if("ref"in O)for(fe in nt={},O)fe!=="ref"&&(nt[fe]=O[fe]);else nt=O;x=ec(d,_,b,x.render,nt,q),lr(d,_,b,x,Mr!==0,bs,sr);return;case L:f(d,_,b,x.type,O,q);return;case y:case E:if(gt=O.children,nt=_.keyPath,O=O.value,Kt=x._currentValue2,x._currentValue2=O,q=Ls,Ls=x={parent:q,depth:q===null?0:q.depth+1,context:x,parentValue:Kt,value:O},_.context=x,_.keyPath=b,M(d,_,gt,-1),d=Ls,d===null)throw Error(e(403));d.context._currentValue2=d.parentValue,d=Ls=d.parent,_.context=d,_.keyPath=nt;return;case v:O=O.children,x=O(x._context._currentValue2),O=_.keyPath,_.keyPath=b,M(d,_,x,-1),_.keyPath=O;return;case Z:if(nt=x._init,x=nt(x._payload),d.status===12)throw null;f(d,_,b,x,O,q);return}throw Error(e(130,x==null?x:typeof x,""))}}function S(d,_,b,x,O){var q=_.replay,nt=_.blockedBoundary,Rt=$r(d,0,null,_.formatContext,!1,!1);Rt.id=b,Rt.parentFlushed=!0;try{_.replay=null,_.blockedSegment=Rt,tn(d,_,x,O),Rt.status=1,nt===null?d.completedRootSegment=Rt:(Ca(nt,Rt),nt.parentFlushed&&d.partialBoundaries.push(nt))}finally{_.replay=q,_.blockedSegment=null}}function M(d,_,b,x){_.replay!==null&&typeof _.replay.slots=="number"?S(d,_,_.replay.slots,b,x):(_.node=b,_.childIndex=x,b=_.componentStack,bi(_),G(d,_),_.componentStack=b)}function G(d,_){var b=_.node,x=_.childIndex;if(b!==null){if(typeof b=="object"){switch(b.$$typeof){case i:var O=b.type,q=b.key,nt=b.props;b=nt.ref;var Rt=b!==void 0?b:null,gt=vs(O),At=q??(x===-1?0:x);if(q=[_.keyPath,gt,At],_.replay!==null)t:{var Kt=_.replay;for(x=Kt.nodes,b=0;b<x.length;b++){var Ht=x[b];if(At===Ht[1]){if(Ht.length===4){if(gt!==null&&gt!==Ht[0])throw Error(e(490,Ht[0],gt));var se=Ht[2];gt=Ht[3],At=_.node,_.replay={nodes:se,slots:gt,pendingTasks:1};try{if(f(d,_,q,O,nt,Rt),_.replay.pendingTasks===1&&0<_.replay.nodes.length)throw Error(e(488));_.replay.pendingTasks--}catch(he){if(typeof he=="object"&&he!==null&&(he===xr||typeof he.then=="function"))throw _.node===At&&(_.replay=Kt),he;_.replay.pendingTasks--,nt=Ei(_.componentStack),q=_.blockedBoundary,O=he,nt=yn(d,O,nt),Qn(d,q,se,gt,O,nt)}_.replay=Kt}else{if(O!==C)throw Error(e(490,"Suspense",vs(O)||"Unknown"));e:{Kt=void 0,O=Ht[5],Rt=Ht[2],gt=Ht[3],At=Ht[4]===null?[]:Ht[4][2],Ht=Ht[4]===null?null:Ht[4][3];var ge=_.keyPath,fe=_.replay,we=_.blockedBoundary,fn=_.hoistableState,dn=nt.children,gn=nt.fallback,Pn=new Set;nt=2>_.formatContext.insertionMode?fs(d,Pn,Dn(),Dn()):fs(d,Pn,null,null),nt.parentFlushed=!0,nt.rootSegmentID=O,_.blockedBoundary=nt,_.hoistableState=nt.contentState,_.keyPath=q,_.replay={nodes:Rt,slots:gt,pendingTasks:1};try{if(tn(d,_,dn,-1),_.replay.pendingTasks===1&&0<_.replay.nodes.length)throw Error(e(488));if(_.replay.pendingTasks--,nt.pendingTasks===0&&nt.status===0){nt.status=1,d.completedBoundaries.push(nt);break e}}catch(he){nt.status=4,se=Ei(_.componentStack),Kt=yn(d,he,se),nt.errorDigest=Kt,_.replay.pendingTasks--,d.clientRenderedBoundaries.push(nt)}finally{_.blockedBoundary=we,_.hoistableState=fn,_.replay=fe,_.keyPath=ge}_=tc(d,null,{nodes:At,slots:Ht,pendingTasks:0},gn,-1,we,nt.fallbackState,Pn,[q[0],"Suspense Fallback",q[2]],_.formatContext,_.context,_.treeContext,_.componentStack,!0),bi(_),d.pingedTasks.push(_)}}x.splice(b,1);break t}}}else f(d,_,q,O,nt,Rt);return;case a:throw Error(e(257));case Z:if(se=b._init,b=se(b._payload),d.status===12)throw null;M(d,_,b,x);return}if(rt(b)){ht(d,_,b,x);return}if(b===null||typeof b!="object"?se=null:(se=J&&b[J]||b["@@iterator"],se=typeof se=="function"?se:null),se&&(se=se.call(b))){if(b=se.next(),!b.done){nt=[];do nt.push(b.value),b=se.next();while(!b.done);ht(d,_,nt,x)}return}if(typeof b.then=="function")return _.thenableState=null,M(d,_,Nc(b),x);if(b.$$typeof===E)return M(d,_,b._currentValue2,x);throw x=Object.prototype.toString.call(b),Error(e(31,x==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":x))}typeof b=="string"?(x=_.blockedSegment,x!==null&&(x.lastPushedText=xn(x.chunks,b,d.renderState,x.lastPushedText))):(typeof b=="number"||typeof b=="bigint")&&(x=_.blockedSegment,x!==null&&(x.lastPushedText=xn(x.chunks,""+b,d.renderState,x.lastPushedText)))}}function ht(d,_,b,x){var O=_.keyPath;if(x!==-1&&(_.keyPath=[_.keyPath,"Fragment",x],_.replay!==null)){for(var q=_.replay,nt=q.nodes,Rt=0;Rt<nt.length;Rt++){var gt=nt[Rt];if(gt[1]===x){x=gt[2],gt=gt[3],_.replay={nodes:x,slots:gt,pendingTasks:1};try{if(ht(d,_,b,-1),_.replay.pendingTasks===1&&0<_.replay.nodes.length)throw Error(e(488));_.replay.pendingTasks--}catch(Ht){if(typeof Ht=="object"&&Ht!==null&&(Ht===xr||typeof Ht.then=="function"))throw Ht;_.replay.pendingTasks--,b=Ei(_.componentStack);var At=_.blockedBoundary,Kt=Ht;b=yn(d,Kt,b),Qn(d,At,x,gt,Kt,b)}_.replay=q,nt.splice(Rt,1);break}}_.keyPath=O;return}if(q=_.treeContext,nt=b.length,_.replay!==null&&(Rt=_.replay.slots,Rt!==null&&typeof Rt=="object")){for(x=0;x<nt;x++)gt=b[x],_.treeContext=nn(q,nt,x),At=Rt[x],typeof At=="number"?(S(d,_,At,gt,x),delete Rt[x]):tn(d,_,gt,x);_.treeContext=q,_.keyPath=O;return}for(Rt=0;Rt<nt;Rt++)x=b[Rt],_.treeContext=nn(q,nt,Rt),tn(d,_,x,Rt);_.treeContext=q,_.keyPath=O}function St(d,_){d=d.trackedPostpones,d!==null&&(_=_.trackedContentKeyPath,_!==null&&(_=d.workingMap.get(_),_!==void 0&&(_.length=4,_[2]=[],_[3]=null)))}function Xt(d,_,b){return tc(d,b,_.replay,_.node,_.childIndex,_.blockedBoundary,_.hoistableState,_.abortSet,_.keyPath,_.formatContext,_.context,_.treeContext,_.componentStack,_.isFallback)}function Ne(d,_,b){var x=_.blockedSegment,O=$r(d,x.chunks.length,null,_.formatContext,x.lastPushedText,!0);return x.children.push(O),x.lastPushedText=!1,no(d,b,_.node,_.childIndex,_.blockedBoundary,O,_.blockedPreamble,_.hoistableState,_.abortSet,_.keyPath,_.formatContext,_.context,_.treeContext,_.componentStack,_.isFallback)}function tn(d,_,b,x){var O=_.formatContext,q=_.context,nt=_.keyPath,Rt=_.treeContext,gt=_.componentStack,At=_.blockedSegment;if(At===null)try{return M(d,_,b,x)}catch(se){if(kr(),b=se===xr?Ta():se,typeof b=="object"&&b!==null){if(typeof b.then=="function"){x=Ir(),d=Xt(d,_,x).ping,b.then(d,d),_.formatContext=O,_.context=q,_.keyPath=nt,_.treeContext=Rt,_.componentStack=gt,ws(q);return}if(b.message==="Maximum call stack size exceeded"){b=Ir(),b=Xt(d,_,b),d.pingedTasks.push(b),_.formatContext=O,_.context=q,_.keyPath=nt,_.treeContext=Rt,_.componentStack=gt,ws(q);return}}}else{var Kt=At.children.length,Ht=At.chunks.length;try{return M(d,_,b,x)}catch(se){if(kr(),At.children.length=Kt,At.chunks.length=Ht,b=se===xr?Ta():se,typeof b=="object"&&b!==null){if(typeof b.then=="function"){x=Ir(),d=Ne(d,_,x).ping,b.then(d,d),_.formatContext=O,_.context=q,_.keyPath=nt,_.treeContext=Rt,_.componentStack=gt,ws(q);return}if(b.message==="Maximum call stack size exceeded"){b=Ir(),b=Ne(d,_,b),d.pingedTasks.push(b),_.formatContext=O,_.context=q,_.keyPath=nt,_.treeContext=Rt,_.componentStack=gt,ws(q);return}}}}throw _.formatContext=O,_.context=q,_.keyPath=nt,_.treeContext=Rt,ws(q),b}function Ge(d){var _=d.blockedBoundary;d=d.blockedSegment,d!==null&&(d.status=3,pl(this,_,d))}function Qn(d,_,b,x,O,q){for(var nt=0;nt<b.length;nt++){var Rt=b[nt];if(Rt.length===4)Qn(d,_,Rt[2],Rt[3],O,q);else{Rt=Rt[5];var gt=d,At=q,Kt=fs(gt,new Set,null,null);Kt.parentFlushed=!0,Kt.rootSegmentID=Rt,Kt.status=4,Kt.errorDigest=At,Kt.parentFlushed&&gt.clientRenderedBoundaries.push(Kt)}}if(b.length=0,x!==null){if(_===null)throw Error(e(487));if(_.status!==4&&(_.status=4,_.errorDigest=q,_.parentFlushed&&d.clientRenderedBoundaries.push(_)),typeof x=="object")for(var Ht in x)delete x[Ht]}}function si(d,_,b){var x=d.blockedBoundary,O=d.blockedSegment;if(O!==null){if(O.status===6)return;O.status=3}if(O=Ei(d.componentStack),x===null){if(_.status!==13&&_.status!==14){if(x=d.replay,x===null){yn(_,b,O),io(_,b);return}x.pendingTasks--,x.pendingTasks===0&&0<x.nodes.length&&(d=yn(_,b,O),Qn(_,null,x.nodes,x.slots,b,d)),_.pendingRootTasks--,_.pendingRootTasks===0&&Si(_)}}else x.pendingTasks--,x.status!==4&&(x.status=4,d=yn(_,b,O),x.status=4,x.errorDigest=d,St(_,x),x.parentFlushed&&_.clientRenderedBoundaries.push(x)),x.fallbackAbortableTasks.forEach(function(q){return si(q,_,b)}),x.fallbackAbortableTasks.clear();_.allPendingTasks--,_.allPendingTasks===0&&Bs(_)}function Dr(d,_){try{var b=d.renderState,x=b.onHeaders;if(x){var O=b.headers;if(O){b.headers=null;var q=O.preconnects;if(O.fontPreloads&&(q&&(q+=", "),q+=O.fontPreloads),O.highImagePreloads&&(q&&(q+=", "),q+=O.highImagePreloads),!_){var nt=b.styles.values(),Rt=nt.next();t:for(;0<O.remainingCapacity&&!Rt.done;Rt=nt.next())for(var gt=Rt.value.sheets.values(),At=gt.next();0<O.remainingCapacity&&!At.done;At=gt.next()){var Kt=At.value,Ht=Kt.props,se=Ht.href,ge=Kt.props,fe=js(ge.href,"style",{crossOrigin:ge.crossOrigin,integrity:ge.integrity,nonce:ge.nonce,type:ge.type,fetchPriority:ge.fetchPriority,referrerPolicy:ge.referrerPolicy,media:ge.media});if(0<=(O.remainingCapacity-=fe.length+2))b.resets.style[se]=Vt,q&&(q+=", "),q+=fe,b.resets.style[se]=typeof Ht.crossOrigin=="string"||typeof Ht.integrity=="string"?[Ht.crossOrigin,Ht.integrity]:Vt;else break t}}x(q?{Link:q}:{})}}}catch(we){yn(d,we,{})}}function Si(d){d.trackedPostpones===null&&Dr(d,!0),d.trackedPostpones===null&&ta(d),d.onShellError=or,d=d.onShellReady,d()}function Bs(d){Dr(d,d.trackedPostpones===null?!0:d.completedRootSegment===null||d.completedRootSegment.status!==5),ta(d),d=d.onAllReady,d()}function Ca(d,_){if(_.chunks.length===0&&_.children.length===1&&_.children[0].boundary===null&&_.children[0].id===-1){var b=_.children[0];b.id=_.id,b.parentFlushed=!0,b.status===1&&Ca(d,b)}else d.completedSegments.push(_)}function pl(d,_,b){if(_===null){if(b!==null&&b.parentFlushed){if(d.completedRootSegment!==null)throw Error(e(389));d.completedRootSegment=b}d.pendingRootTasks--,d.pendingRootTasks===0&&Si(d)}else _.pendingTasks--,_.status!==4&&(_.pendingTasks===0?(_.status===0&&(_.status=1),b!==null&&b.parentFlushed&&b.status===1&&Ca(_,b),_.parentFlushed&&d.completedBoundaries.push(_),_.status===1&&(_.fallbackAbortableTasks.forEach(Ge,d),_.fallbackAbortableTasks.clear(),d.pendingRootTasks===0&&d.trackedPostpones===null&&_.contentPreamble!==null&&ta(d))):b!==null&&b.parentFlushed&&b.status===1&&(Ca(_,b),_.completedSegments.length===1&&_.parentFlushed&&d.partialBoundaries.push(_)));d.allPendingTasks--,d.allPendingTasks===0&&Bs(d)}function Ou(d){if(d.status!==14&&d.status!==13){var _=Ls,b=dt.H;dt.H=dl;var x=dt.A;dt.A=Pc;var O=fi;fi=d;var q=ba;ba=d.resumableState;try{var nt=d.pingedTasks,Rt;for(Rt=0;Rt<nt.length;Rt++){var gt=nt[Rt],At=d,Kt=gt.blockedSegment;if(Kt===null){var Ht=At;if(gt.replay.pendingTasks!==0){ws(gt.context);try{if(typeof gt.replay.slots=="number"?S(Ht,gt,gt.replay.slots,gt.node,gt.childIndex):G(Ht,gt),gt.replay.pendingTasks===1&&0<gt.replay.nodes.length)throw Error(e(488));gt.replay.pendingTasks--,gt.abortSet.delete(gt),pl(Ht,gt.blockedBoundary,null)}catch(un){kr();var se=un===xr?Ta():un;if(typeof se=="object"&&se!==null&&typeof se.then=="function"){var ge=gt.ping;se.then(ge,ge),gt.thenableState=Ir()}else{gt.replay.pendingTasks--,gt.abortSet.delete(gt);var fe=Ei(gt.componentStack);At=void 0;var we=Ht,fn=gt.blockedBoundary,dn=Ht.status===12?Ht.fatalError:se,gn=gt.replay.nodes,Pn=gt.replay.slots;At=yn(we,dn,fe),Qn(we,fn,gn,Pn,dn,At),Ht.pendingRootTasks--,Ht.pendingRootTasks===0&&Si(Ht),Ht.allPendingTasks--,Ht.allPendingTasks===0&&Bs(Ht)}}finally{}}}else if(Ht=void 0,we=Kt,we.status===0){we.status=6,ws(gt.context);var he=we.children.length,Zn=we.chunks.length;try{G(At,gt),Ro(we.chunks,At.renderState,we.lastPushedText,we.textEmbedded),gt.abortSet.delete(gt),we.status=1,pl(At,gt.blockedBoundary,we)}catch(un){kr(),we.children.length=he,we.chunks.length=Zn;var Pe=un===xr?Ta():At.status===12?At.fatalError:un;if(typeof Pe=="object"&&Pe!==null&&typeof Pe.then=="function"){we.status=0,gt.thenableState=Ir();var di=gt.ping;Pe.then(di,di)}else{var bn=Ei(gt.componentStack);gt.abortSet.delete(gt),we.status=4;var be=gt.blockedBoundary;Ht=yn(At,Pe,bn),be===null?io(At,Pe):(be.pendingTasks--,be.status!==4&&(be.status=4,be.errorDigest=Ht,St(At,be),be.parentFlushed&&At.clientRenderedBoundaries.push(be),At.pendingRootTasks===0&&At.trackedPostpones===null&&be.contentPreamble!==null&&ta(At))),At.allPendingTasks--,At.allPendingTasks===0&&Bs(At)}}finally{}}}nt.splice(0,Rt),d.destination!==null&&nc(d,d.destination)}catch(un){yn(d,un,{}),io(d,un)}finally{ba=q,dt.H=b,dt.A=x,b===dl&&ws(_),fi=O}}}function Fc(d,_,b){_.preambleChildren.length&&b.push(_.preambleChildren);for(var x=!1,O=0;O<_.children.length;O++)x=so(d,_.children[O],b)||x;return x}function so(d,_,b){var x=_.boundary;if(x===null)return Fc(d,_,b);var O=x.contentPreamble,q=x.fallbackPreamble;if(O===null||q===null)return!1;switch(x.status){case 1:if(Fe(d.renderState,O),_=x.completedSegments[0],!_)throw Error(e(391));return Fc(d,_,b);case 5:if(d.trackedPostpones!==null)return!0;case 4:if(_.status===1)return Fe(d.renderState,q),Fc(d,_,b);default:return!0}}function ta(d){if(d.completedRootSegment&&d.completedPreambleSegments===null){var _=[],b=so(d,d.completedRootSegment,_),x=d.renderState.preamble;(b===!1||x.headChunks&&x.bodyChunks)&&(d.completedPreambleSegments=_)}}function Vo(d,_,b,x){switch(b.parentFlushed=!0,b.status){case 0:b.id=d.nextSegmentId++;case 5:return x=b.id,b.lastPushedText=!1,b.textEmbedded=!1,d=d.renderState,_.push('<template id="'),_.push(d.placeholderPrefix),d=x.toString(16),_.push(d),_.push('"></template>');case 1:b.status=2;var O=!0,q=b.chunks,nt=0;b=b.children;for(var Rt=0;Rt<b.length;Rt++){for(O=b[Rt];nt<O.index;nt++)_.push(q[nt]);O=ro(d,_,O,x)}for(;nt<q.length-1;nt++)_.push(q[nt]);return nt<q.length&&(O=_.push(q[nt])),O;default:throw Error(e(390))}}function ro(d,_,b,x){var O=b.boundary;if(O===null)return Vo(d,_,b,x);if(O.parentFlushed=!0,O.status===4){if(!d.renderState.generateStaticMarkup){var q=O.errorDigest;_.push("<!--$!-->"),_.push("<template"),q&&(_.push(' data-dgst="'),q=et(q),_.push(q),_.push('"')),_.push("></template>")}return Vo(d,_,b,x),d.renderState.generateStaticMarkup?_=!0:((d=O.fallbackPreamble)&&Ps(_,d),_=_.push("<!--/$-->")),_}if(O.status!==1)return O.status===0&&(O.rootSegmentID=d.nextSegmentId++),0<O.completedSegments.length&&d.partialBoundaries.push(O),On(_,d.renderState,O.rootSegmentID),x&&(O=O.fallbackState,O.styles.forEach(Co,x),O.stylesheets.forEach(qr,x)),Vo(d,_,b,x),_.push("<!--/$-->");if(O.byteSize>d.progressiveChunkSize)return O.rootSegmentID=d.nextSegmentId++,d.completedBoundaries.push(O),On(_,d.renderState,O.rootSegmentID),Vo(d,_,b,x),_.push("<!--/$-->");if(x&&(b=O.contentState,b.styles.forEach(Co,x),b.stylesheets.forEach(qr,x)),d.renderState.generateStaticMarkup||_.push("<!--$-->"),b=O.completedSegments,b.length!==1)throw Error(e(391));return ro(d,_,b[0],x),d.renderState.generateStaticMarkup?_=!0:((d=O.contentPreamble)&&Ps(_,d),_=_.push("<!--/$-->")),_}function ml(d,_,b,x){return os(_,d.renderState,b.parentFormatContext,b.id),ro(d,_,b,x),Wl(_,b.parentFormatContext)}function Uc(d,_,b){for(var x=b.completedSegments,O=0;O<x.length;O++)Nu(d,_,b,x[O]);x.length=0,So(_,b.contentState,d.renderState),x=d.resumableState,d=d.renderState,O=b.rootSegmentID,b=b.contentState;var q=d.stylesToHoist;return d.stylesToHoist=!1,_.push(d.startInlineScript),q?(x.instructions&2)===0?(x.instructions|=10,_.push(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):(x.instructions&8)===0?(x.instructions|=8,_.push(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):_.push('$RR("'):(x.instructions&2)===0?(x.instructions|=2,_.push('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("')):_.push('$RC("'),x=O.toString(16),_.push(d.boundaryPrefix),_.push(x),_.push('","'),_.push(d.segmentPrefix),_.push(x),q?(_.push('",'),ys(_,b)):_.push('"'),b=_.push(")<\/script>"),De(_,d)&&b}function Nu(d,_,b,x){if(x.status===2)return!0;var O=b.contentState,q=x.id;if(q===-1){if((x.id=b.rootSegmentID)===-1)throw Error(e(392));return ml(d,_,x,O)}return q===b.rootSegmentID?ml(d,_,x,O):(ml(d,_,x,O),b=d.resumableState,d=d.renderState,_.push(d.startInlineScript),(b.instructions&1)===0?(b.instructions|=1,_.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):_.push('$RS("'),_.push(d.segmentPrefix),q=q.toString(16),_.push(q),_.push('","'),_.push(d.placeholderPrefix),_.push(q),_=_.push('")<\/script>'),_)}function nc(d,_){try{if(!(0<d.pendingRootTasks)){var b,x=d.completedRootSegment;if(x!==null){if(x.status===5)return;var O=d.completedPreambleSegments;if(O===null)return;var q=d.renderState,nt=q.preamble,Rt=nt.htmlChunks,gt=nt.headChunks,At;if(Rt){for(At=0;At<Rt.length;At++)_.push(Rt[At]);if(gt)for(At=0;At<gt.length;At++)_.push(gt[At]);else{var Kt=Yt("head");_.push(Kt),_.push(">")}}else if(gt)for(At=0;At<gt.length;At++)_.push(gt[At]);var Ht=q.charsetChunks;for(At=0;At<Ht.length;At++)_.push(Ht[At]);Ht.length=0,q.preconnects.forEach(ls,_),q.preconnects.clear();var se=q.viewportChunks;for(At=0;At<se.length;At++)_.push(se[At]);se.length=0,q.fontPreloads.forEach(ls,_),q.fontPreloads.clear(),q.highImagePreloads.forEach(ls,_),q.highImagePreloads.clear(),q.styles.forEach(Ja,_);var ge=q.importMapChunks;for(At=0;At<ge.length;At++)_.push(ge[At]);ge.length=0,q.bootstrapScripts.forEach(ls,_),q.scripts.forEach(ls,_),q.scripts.clear(),q.bulkPreloads.forEach(ls,_),q.bulkPreloads.clear();var fe=q.hoistableChunks;for(At=0;At<fe.length;At++)_.push(fe[At]);for(q=fe.length=0;q<O.length;q++){var we=O[q];for(nt=0;nt<we.length;nt++)ro(d,_,we[nt],null)}var fn=d.renderState.preamble,dn=fn.headChunks;if(fn.htmlChunks||dn){var gn=ue("head");_.push(gn)}var Pn=fn.bodyChunks;if(Pn)for(O=0;O<Pn.length;O++)_.push(Pn[O]);ro(d,_,x,null),d.completedRootSegment=null,De(_,d.renderState)}var he=d.renderState;x=0;var Zn=he.viewportChunks;for(x=0;x<Zn.length;x++)_.push(Zn[x]);Zn.length=0,he.preconnects.forEach(ls,_),he.preconnects.clear(),he.fontPreloads.forEach(ls,_),he.fontPreloads.clear(),he.highImagePreloads.forEach(ls,_),he.highImagePreloads.clear(),he.styles.forEach(Nn,_),he.scripts.forEach(ls,_),he.scripts.clear(),he.bulkPreloads.forEach(ls,_),he.bulkPreloads.clear();var Pe=he.hoistableChunks;for(x=0;x<Pe.length;x++)_.push(Pe[x]);Pe.length=0;var di=d.clientRenderedBoundaries;for(b=0;b<di.length;b++){var bn=di[b];he=_;var be=d.resumableState,un=d.renderState,Ai=bn.rootSegmentID,Kn=bn.errorDigest;he.push(un.startInlineScript),(be.instructions&4)===0?(be.instructions|=4,he.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):he.push('$RX("'),he.push(un.boundaryPrefix);var Or=Ai.toString(16);if(he.push(Or),he.push('"'),Kn){he.push(",");var ds=ui(Kn||"");he.push(ds)}var gi=he.push(")<\/script>");if(!gi){d.destination=null,b++,di.splice(0,b);return}}di.splice(0,b);var Ui=d.completedBoundaries;for(b=0;b<Ui.length;b++)if(!Uc(d,_,Ui[b])){d.destination=null,b++,Ui.splice(0,b);return}Ui.splice(0,b);var ri=d.partialBoundaries;for(b=0;b<ri.length;b++){var ea=ri[b];t:{di=d,bn=_;var Di=ea.completedSegments;for(gi=0;gi<Di.length;gi++)if(!Nu(di,bn,ea,Di[gi])){gi++,Di.splice(0,gi);var Nr=!1;break t}Di.splice(0,gi),Nr=So(bn,ea.contentState,di.renderState)}if(!Nr){d.destination=null,b++,ri.splice(0,b);return}}ri.splice(0,b);var Ra=d.completedBoundaries;for(b=0;b<Ra.length;b++)if(!Uc(d,_,Ra[b])){d.destination=null,b++,Ra.splice(0,b);return}Ra.splice(0,b)}}finally{d.allPendingTasks===0&&d.pingedTasks.length===0&&d.clientRenderedBoundaries.length===0&&d.completedBoundaries.length===0&&(d.flushScheduled=!1,b=d.resumableState,b.hasBody&&(ri=ue("body"),_.push(ri)),b.hasHtml&&(b=ue("html"),_.push(b)),d.status=14,_.push(null),d.destination=null)}}function Lo(d){if(d.flushScheduled===!1&&d.pingedTasks.length===0&&d.destination!==null){d.flushScheduled=!0;var _=d.destination;_?nc(d,_):d.flushScheduled=!1}}function Hf(d,_){if(d.status===13)d.status=14,_.destroy(d.fatalError);else if(d.status!==14&&d.destination===null){d.destination=_;try{nc(d,_)}catch(b){yn(d,b,{}),io(d,b)}}}function Ki(d,_){(d.status===11||d.status===10)&&(d.status=12);try{var b=d.abortableTasks;if(0<b.size){var x=_===void 0?Error(e(432)):typeof _=="object"&&_!==null&&typeof _.then=="function"?Error(e(530)):_;d.fatalError=x,b.forEach(function(O){return si(O,d,x)}),b.clear()}d.destination!==null&&nc(d,d.destination)}catch(O){yn(d,O,{}),io(d,O)}}function _l(){}function xa(d,_,b,x){var O=!1,q=null,nt="",Rt=!1;if(_=hn(_?_.identifierPrefix:void 0),d=gl(d,_,xo(_,b),We(0,null,0),1/0,_l,void 0,function(){Rt=!0},void 0,void 0,void 0),d.flushScheduled=d.destination!==null,Ou(d),d.status===10&&(d.status=11),d.trackedPostpones===null&&Dr(d,d.pendingRootTasks===0),Ki(d,x),Hf(d,{push:function(gt){return gt!==null&&(nt+=gt),!0},destroy:function(gt){O=!0,q=gt}}),O&&q!==x)throw q;if(!Rt)throw Error(e(426));return nt}return Id.renderToStaticMarkup=function(d,_){return xa(d,_,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Id.renderToString=function(d,_){return xa(d,_,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},Id.version="19.1.0",Id}var kd={};/**
 * @license React
 * react-dom-server.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function oM(){if(OT)return kd;OT=1;var s=ig(),t=My();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),H=Symbol.for("react.scope"),j=Symbol.for("react.activity"),lt=Symbol.for("react.legacy_hidden"),st=Symbol.for("react.memo_cache_sentinel"),pt=Symbol.for("react.view_transition"),J=Symbol.iterator,rt=Array.isArray;function V(h,p){var w=h.length&3,R=h.length-w,D=p;for(p=0;p<R;){var W=h.charCodeAt(p)&255|(h.charCodeAt(++p)&255)<<8|(h.charCodeAt(++p)&255)<<16|(h.charCodeAt(++p)&255)<<24;++p,W=3432918353*(W&65535)+((3432918353*(W>>>16)&65535)<<16)&4294967295,W=W<<15|W>>>17,W=461845907*(W&65535)+((461845907*(W>>>16)&65535)<<16)&4294967295,D^=W,D=D<<13|D>>>19,D=5*(D&65535)+((5*(D>>>16)&65535)<<16)&4294967295,D=(D&65535)+27492+(((D>>>16)+58964&65535)<<16)}switch(W=0,w){case 3:W^=(h.charCodeAt(p+2)&255)<<16;case 2:W^=(h.charCodeAt(p+1)&255)<<8;case 1:W^=h.charCodeAt(p)&255,W=3432918353*(W&65535)+((3432918353*(W>>>16)&65535)<<16)&4294967295,W=W<<15|W>>>17,D^=461845907*(W&65535)+((461845907*(W>>>16)&65535)<<16)&4294967295}return D^=h.length,D^=D>>>16,D=2246822507*(D&65535)+((2246822507*(D>>>16)&65535)<<16)&4294967295,D^=D>>>13,D=3266489909*(D&65535)+((3266489909*(D>>>16)&65535)<<16)&4294967295,(D^D>>>16)>>>0}var I=new MessageChannel,P=[];I.port1.onmessage=function(){var h=P.shift();h&&h()};function U(h){P.push(h),I.port2.postMessage(null)}function z(h){setTimeout(function(){throw h})}var Q=Promise,X=typeof queueMicrotask=="function"?queueMicrotask:function(h){Q.resolve(null).then(h).catch(z)},Pt=null,mt=0;function Y(h,p){if(p.byteLength!==0)if(2048<p.byteLength)0<mt&&(h.enqueue(new Uint8Array(Pt.buffer,0,mt)),Pt=new Uint8Array(2048),mt=0),h.enqueue(p);else{var w=Pt.length-mt;w<p.byteLength&&(w===0?h.enqueue(Pt):(Pt.set(p.subarray(0,w),mt),h.enqueue(Pt),p=p.subarray(w)),Pt=new Uint8Array(2048),mt=0),Pt.set(p,mt),mt+=p.byteLength}}function et(h,p){return Y(h,p),!0}function bt(h){Pt&&0<mt&&(h.enqueue(new Uint8Array(Pt.buffer,0,mt)),Pt=null,mt=0)}var xt=new TextEncoder;function F(h){return xt.encode(h)}function K(h){return xt.encode(h)}function dt(h,p){typeof h.error=="function"?h.error(p):h.close()}var ft=Object.assign,It=Object.prototype.hasOwnProperty,_t=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vt={},ce={};function Bt(h){return It.call(ce,h)?!0:It.call(Vt,h)?!1:_t.test(h)?ce[h]=!0:(Vt[h]=!0,!1)}var hn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),Dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),We=/["'&<>]/;function le(h){if(typeof h=="boolean"||typeof h=="number"||typeof h=="bigint")return""+h;h=""+h;var p=We.exec(h);if(p){var w="",R,D=0;for(R=p.index;R<h.length;R++){switch(h.charCodeAt(R)){case 34:p="&quot;";break;case 38:p="&amp;";break;case 39:p="&#x27;";break;case 60:p="&lt;";break;case 62:p="&gt;";break;default:continue}D!==R&&(w+=h.slice(D,R)),D=R+1,w+=p}h=D!==R?w+h.slice(D,R):w}return h}var rs=/([A-Z])/g,Wi=/^ms-/,Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(h){return Mt.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}var Qt=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Gt=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zt={pending:!1,data:null,method:null,action:null},Jt=Gt.d;Gt.d={f:Jt.f,r:Jt.r,D:Dr,C:Si,L:Bs,m:Ca,X:Ou,S:pl,M:Fc};var xe=[];K('"></template>');var Ae=K("<script>"),He=K("<\/script>"),as=K('<script src="'),Er=K('<script type="module" src="'),Re=K('" nonce="'),Ye=K('" integrity="'),ki=K('" crossorigin="'),Cn=K('" async=""><\/script>'),Hn=/(<\/|<)(s)(cript)/gi;function Wr(h,p,w,R){return""+p+(w==="s"?"\\u0073":"\\u0053")+R}var Sr=K('<script type="importmap">'),Ns=K("<\/script>");function jt(h,p,w,R,D,W){var tt=p===void 0?Ae:K('<script nonce="'+le(p)+'">'),vt=h.idPrefix;w=[];var it=h.bootstrapScriptContent,ut=h.bootstrapScripts,zt=h.bootstrapModules;if(it!==void 0&&w.push(tt,F((""+it).replace(Hn,Wr)),He),it=[],R!==void 0&&(it.push(Sr),it.push(F((""+JSON.stringify(R)).replace(Hn,Wr))),it.push(Ns)),R=D?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+(typeof W=="number"?W:2e3)}:null,D={placeholderPrefix:K(vt+"P:"),segmentPrefix:K(vt+"S:"),boundaryPrefix:K(vt+"B:"),startInlineScript:tt,preamble:Yt(),externalRuntimeScript:null,bootstrapChunks:w,importMapChunks:it,onHeaders:D,headers:R,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:p,hoistableState:null,stylesToHoist:!1},ut!==void 0)for(R=0;R<ut.length;R++){var Dt=ut[R];vt=tt=void 0,it={rel:"preload",as:"script",fetchPriority:"low",nonce:p},typeof Dt=="string"?it.href=W=Dt:(it.href=W=Dt.src,it.integrity=vt=typeof Dt.integrity=="string"?Dt.integrity:void 0,it.crossOrigin=tt=typeof Dt=="string"||Dt.crossOrigin==null?void 0:Dt.crossOrigin==="use-credentials"?"use-credentials":""),Dt=h;var $t=W;Dt.scriptResources[$t]=null,Dt.moduleScriptResources[$t]=null,Dt=[],Ti(Dt,it),D.bootstrapScripts.add(Dt),w.push(as,F(le(W))),p&&w.push(Re,F(le(p))),typeof vt=="string"&&w.push(Ye,F(le(vt))),typeof tt=="string"&&w.push(ki,F(le(tt))),w.push(Cn)}if(zt!==void 0)for(ut=0;ut<zt.length;ut++)it=zt[ut],tt=W=void 0,vt={rel:"modulepreload",fetchPriority:"low",nonce:p},typeof it=="string"?vt.href=R=it:(vt.href=R=it.src,vt.integrity=tt=typeof it.integrity=="string"?it.integrity:void 0,vt.crossOrigin=W=typeof it=="string"||it.crossOrigin==null?void 0:it.crossOrigin==="use-credentials"?"use-credentials":""),it=h,Dt=R,it.scriptResources[Dt]=null,it.moduleScriptResources[Dt]=null,it=[],Ti(it,vt),D.bootstrapScripts.add(it),w.push(Er,F(le(R))),p&&w.push(Re,F(le(p))),typeof tt=="string"&&w.push(Ye,F(le(tt))),typeof W=="string"&&w.push(ki,F(le(W))),w.push(Cn);return D}function Wt(h,p,w,R,D){return{idPrefix:h===void 0?"":h,nextFormID:0,streamingFormat:0,bootstrapScriptContent:w,bootstrapScripts:R,bootstrapModules:D,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function Yt(){return{htmlChunks:null,headChunks:null,bodyChunks:null,contribution:0}}function ne(h,p,w){return{insertionMode:h,selectedValue:p,tagScope:w}}function qt(h){return ne(h==="http://www.w3.org/2000/svg"?4:h==="http://www.w3.org/1998/Math/MathML"?5:0,null,0)}function ue(h,p,w){switch(p){case"noscript":return ne(2,null,h.tagScope|1);case"select":return ne(2,w.value!=null?w.value:w.defaultValue,h.tagScope);case"svg":return ne(4,null,h.tagScope);case"picture":return ne(2,null,h.tagScope|2);case"math":return ne(5,null,h.tagScope);case"foreignObject":return ne(2,null,h.tagScope);case"table":return ne(6,null,h.tagScope);case"thead":case"tbody":case"tfoot":return ne(7,null,h.tagScope);case"colgroup":return ne(9,null,h.tagScope);case"tr":return ne(8,null,h.tagScope);case"head":if(2>h.insertionMode)return ne(3,null,h.tagScope);break;case"html":if(h.insertionMode===0)return ne(1,null,h.tagScope)}return 6<=h.insertionMode||2>h.insertionMode?ne(2,null,h.tagScope):h}var Fe=K("<!-- -->");function De(h,p,w,R){return p===""?R:(R&&h.push(Fe),h.push(F(le(p))),!0)}var On=new Map,Ps=K(' style="'),os=K(":"),Wl=K(";");function ma(h,p){if(typeof p!="object")throw Error(e(62));var w=!0,R;for(R in p)if(It.call(p,R)){var D=p[R];if(D!=null&&typeof D!="boolean"&&D!==""){if(R.indexOf("--")===0){var W=F(le(R));D=F(le((""+D).trim()))}else W=On.get(R),W===void 0&&(W=K(le(R.replace(rs,"-$1").toLowerCase().replace(Wi,"-ms-"))),On.set(R,W)),D=typeof D=="number"?D===0||hn.has(R)?F(""+D):F(D+"px"):F(le((""+D).trim()));w?(w=!1,h.push(Ps,W,os,D)):h.push(Wl,W,os,D)}}w||h.push(hi)}var ui=K(" "),vi=K('="'),hi=K('"'),cn=K('=""');function Yn(h,p,w){w&&typeof w!="function"&&typeof w!="symbol"&&h.push(ui,F(p),cn)}function Be(h,p,w){typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&h.push(ui,F(p),vi,F(le(w)),hi)}var Vs=K(le("javascript:throw new Error('React form unexpectedly submitted.')")),So=K('<input type="hidden"');function ls(h,p){this.push(So),qi(h),Be(this,"name",p),Be(this,"value",h),this.push(ys)}function qi(h){if(typeof h!="string")throw Error(e(480))}function ql(h,p){if(typeof p.$$FORM_ACTION=="function"){var w=h.nextFormID++;h=h.idPrefix+w;try{var R=p.$$FORM_ACTION(h);if(R){var D=R.data;D?.forEach(qi)}return R}catch(W){if(typeof W=="object"&&W!==null&&typeof W.then=="function")throw W}}return null}function Ja(h,p,w,R,D,W,tt,vt){var it=null;if(typeof R=="function"){var ut=ql(p,R);ut!==null?(vt=ut.name,R=ut.action||"",D=ut.encType,W=ut.method,tt=ut.target,it=ut.data):(h.push(ui,F("formAction"),vi,Vs,hi),tt=W=D=R=vt=null,Ao(p,w))}return vt!=null&&Ue(h,"name",vt),R!=null&&Ue(h,"formAction",R),D!=null&&Ue(h,"formEncType",D),W!=null&&Ue(h,"formMethod",W),tt!=null&&Ue(h,"formTarget",tt),it}function Ue(h,p,w){switch(p){case"className":Be(h,"class",w);break;case"tabIndex":Be(h,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Be(h,p,w);break;case"style":ma(h,w);break;case"src":case"href":if(w==="")break;case"action":case"formAction":if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean")break;w=kt(""+w),h.push(ui,F(p),vi,F(le(w)),hi);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Yn(h,p.toLowerCase(),w);break;case"xlinkHref":if(typeof w=="function"||typeof w=="symbol"||typeof w=="boolean")break;w=kt(""+w),h.push(ui,F("xlink:href"),vi,F(le(w)),hi);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof w!="function"&&typeof w!="symbol"&&h.push(ui,F(p),vi,F(le(w)),hi);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"&&h.push(ui,F(p),cn);break;case"capture":case"download":w===!0?h.push(ui,F(p),cn):w!==!1&&typeof w!="function"&&typeof w!="symbol"&&h.push(ui,F(p),vi,F(le(w)),hi);break;case"cols":case"rows":case"size":case"span":typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w&&h.push(ui,F(p),vi,F(le(w)),hi);break;case"rowSpan":case"start":typeof w=="function"||typeof w=="symbol"||isNaN(w)||h.push(ui,F(p),vi,F(le(w)),hi);break;case"xlinkActuate":Be(h,"xlink:actuate",w);break;case"xlinkArcrole":Be(h,"xlink:arcrole",w);break;case"xlinkRole":Be(h,"xlink:role",w);break;case"xlinkShow":Be(h,"xlink:show",w);break;case"xlinkTitle":Be(h,"xlink:title",w);break;case"xlinkType":Be(h,"xlink:type",w);break;case"xmlBase":Be(h,"xml:base",w);break;case"xmlLang":Be(h,"xml:lang",w);break;case"xmlSpace":Be(h,"xml:space",w);break;default:if((!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Dn.get(p)||p,Bt(p))){switch(typeof w){case"function":case"symbol":return;case"boolean":var R=p.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-")return}h.push(ui,F(p),vi,F(le(w)),hi)}}}var Nn=K(">"),ys=K("/>");function qn(h,p,w){if(p!=null){if(w!=null)throw Error(e(60));if(typeof p!="object"||!("__html"in p))throw Error(e(61));p=p.__html,p!=null&&h.push(F(""+p))}}function Qi(h){var p="";return s.Children.forEach(h,function(w){w!=null&&(p+=w)}),p}var Gn=K(' selected=""'),Ql=K(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`);function Ao(h,p){(h.instructions&16)===0&&(h.instructions|=16,p.bootstrapChunks.unshift(p.startInlineScript,Ql,He))}var Ar=K("<!--F!-->"),_a=K("<!--F-->");function Ti(h,p){h.push(xn("link"));for(var w in p)if(It.call(p,w)){var R=p[w];if(R!=null)switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"link"));default:Ue(h,w,R)}}return h.push(ys),null}var Zl=/(<\/|<)(s)(tyle)/gi;function Js(h,p,w,R){return""+p+(w==="s"?"\\73 ":"\\53 ")+R}function js(h,p,w){h.push(xn(w));for(var R in p)if(It.call(p,R)){var D=p[R];if(D!=null)switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,w));default:Ue(h,R,D)}}return h.push(ys),null}function Cr(h,p){h.push(xn("title"));var w=null,R=null,D;for(D in p)if(It.call(p,D)){var W=p[D];if(W!=null)switch(D){case"children":w=W;break;case"dangerouslySetInnerHTML":R=W;break;default:Ue(h,D,W)}}return h.push(Nn),p=Array.isArray(w)?2>w.length?w[0]:null:w,typeof p!="function"&&typeof p!="symbol"&&p!==null&&p!==void 0&&h.push(F(le(""+p))),qn(h,R,w),h.push(vs("title")),null}function cs(h,p){h.push(xn("script"));var w=null,R=null,D;for(D in p)if(It.call(p,D)){var W=p[D];if(W!=null)switch(D){case"children":w=W;break;case"dangerouslySetInnerHTML":R=W;break;default:Ue(h,D,W)}}return h.push(Nn),qn(h,R,w),typeof w=="string"&&h.push(F((""+w).replace(Hn,Wr))),h.push(vs("script")),null}function ni(h,p,w){h.push(xn(w));var R=w=null,D;for(D in p)if(It.call(p,D)){var W=p[D];if(W!=null)switch(D){case"children":w=W;break;case"dangerouslySetInnerHTML":R=W;break;default:Ue(h,D,W)}}return h.push(Nn),qn(h,R,w),w}function $s(h,p,w){h.push(xn(w));var R=w=null,D;for(D in p)if(It.call(p,D)){var W=p[D];if(W!=null)switch(D){case"children":w=W;break;case"dangerouslySetInnerHTML":R=W;break;default:Ue(h,D,W)}}return h.push(Nn),qn(h,R,w),typeof w=="string"?(h.push(F(le(w))),null):w}var Co=K(`
`),qr=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,xo=new Map;function xn(h){var p=xo.get(h);if(p===void 0){if(!qr.test(h))throw Error(e(65,h));p=K("<"+h),xo.set(h,p)}return p}var Ro=K("<!DOCTYPE html>");function hl(h,p,w,R,D,W,tt,vt,it,ut){switch(p){case"div":case"span":case"svg":case"path":break;case"a":h.push(xn("a"));var zt=null,Dt=null,$t;for($t in w)if(It.call(w,$t)){var ie=w[$t];if(ie!=null)switch($t){case"children":zt=ie;break;case"dangerouslySetInnerHTML":Dt=ie;break;case"href":ie===""?Be(h,"href",""):Ue(h,$t,ie);break;default:Ue(h,$t,ie)}}if(h.push(Nn),qn(h,Dt,zt),typeof zt=="string"){h.push(F(le(zt)));var de=null}else de=zt;return de;case"g":case"p":case"li":break;case"select":h.push(xn("select"));var Ee=null,vn=null,Rn;for(Rn in w)if(It.call(w,Rn)){var Ve=w[Rn];if(Ve!=null)switch(Rn){case"children":Ee=Ve;break;case"dangerouslySetInnerHTML":vn=Ve;break;case"defaultValue":case"value":break;default:Ue(h,Rn,Ve)}}return h.push(Nn),qn(h,vn,Ee),Ee;case"option":var Hi=vt.selectedValue;h.push(xn("option"));var Xn=null,ji=null,Ln=null,_e=null,ke;for(ke in w)if(It.call(w,ke)){var Oe=w[ke];if(Oe!=null)switch(ke){case"children":Xn=Oe;break;case"selected":Ln=Oe;break;case"dangerouslySetInnerHTML":_e=Oe;break;case"value":ji=Oe;default:Ue(h,ke,Oe)}}if(Hi!=null){var Jn=ji!==null?""+ji:Qi(Xn);if(rt(Hi)){for(var Tn=0;Tn<Hi.length;Tn++)if(""+Hi[Tn]===Jn){h.push(Gn);break}}else""+Hi===Jn&&h.push(Gn)}else Ln&&h.push(Gn);return h.push(Nn),qn(h,_e,Xn),Xn;case"textarea":h.push(xn("textarea"));var jn=null,Ba=null,mr=null,Ys;for(Ys in w)if(It.call(w,Ys)){var Tl=w[Ys];if(Tl!=null)switch(Ys){case"children":mr=Tl;break;case"value":jn=Tl;break;case"defaultValue":Ba=Tl;break;case"dangerouslySetInnerHTML":throw Error(e(91));default:Ue(h,Ys,Tl)}}if(jn===null&&Ba!==null&&(jn=Ba),h.push(Nn),mr!=null){if(jn!=null)throw Error(e(92));if(rt(mr)){if(1<mr.length)throw Error(e(93));jn=""+mr[0]}jn=""+mr}return typeof jn=="string"&&jn[0]===`
`&&h.push(Co),jn!==null&&h.push(F(le(""+jn))),null;case"input":h.push(xn("input"));var Mn=null,Ah=null,Ch=null,Yf=null,Gf=null,Xf=null,Vu=null,Lu=null,Fu=null,$i;for($i in w)if(It.call(w,$i)){var pn=w[$i];if(pn!=null)switch($i){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"input"));case"name":Mn=pn;break;case"formAction":Ah=pn;break;case"formEncType":Ch=pn;break;case"formMethod":Yf=pn;break;case"formTarget":Gf=pn;break;case"defaultChecked":Fu=pn;break;case"defaultValue":Vu=pn;break;case"checked":Lu=pn;break;case"value":Xf=pn;break;default:Ue(h,$i,pn)}}var xh=Ja(h,R,D,Ah,Ch,Yf,Gf,Mn);return Lu!==null?Yn(h,"checked",Lu):Fu!==null&&Yn(h,"checked",Fu),Xf!==null?Ue(h,"value",Xf):Vu!==null&&Ue(h,"value",Vu),h.push(ys),xh?.forEach(ls,h),null;case"button":h.push(xn("button"));var Xo=null,Uu=null,Rh=null,ho=null,Bu=null,Mh=null,Ih=null,zc;for(zc in w)if(It.call(w,zc)){var fo=w[zc];if(fo!=null)switch(zc){case"children":Xo=fo;break;case"dangerouslySetInnerHTML":Uu=fo;break;case"name":Rh=fo;break;case"formAction":ho=fo;break;case"formEncType":Bu=fo;break;case"formMethod":Mh=fo;break;case"formTarget":Ih=fo;break;default:Ue(h,zc,fo)}}var Wf=Ja(h,R,D,ho,Bu,Mh,Ih,Rh);if(h.push(Nn),Wf?.forEach(ls,h),qn(h,Uu,Xo),typeof Xo=="string"){h.push(F(le(Xo)));var qf=null}else qf=Xo;return qf;case"form":h.push(xn("form"));var Hc=null,Qf=null,Wo=null,Yc=null,zu=null,Gc=null,Xc;for(Xc in w)if(It.call(w,Xc)){var qo=w[Xc];if(qo!=null)switch(Xc){case"children":Hc=qo;break;case"dangerouslySetInnerHTML":Qf=qo;break;case"action":Wo=qo;break;case"encType":Yc=qo;break;case"method":zu=qo;break;case"target":Gc=qo;break;default:Ue(h,Xc,qo)}}var Hu=null,kh=null;if(typeof Wo=="function"){var wl=ql(R,Wo);wl!==null?(Wo=wl.action||"",Yc=wl.encType,zu=wl.method,Gc=wl.target,Hu=wl.data,kh=wl.name):(h.push(ui,F("action"),vi,Vs,hi),Gc=zu=Yc=Wo=null,Ao(R,D))}if(Wo!=null&&Ue(h,"action",Wo),Yc!=null&&Ue(h,"encType",Yc),zu!=null&&Ue(h,"method",zu),Gc!=null&&Ue(h,"target",Gc),h.push(Nn),kh!==null&&(h.push(So),Be(h,"name",kh),h.push(ys),Hu?.forEach(ls,h)),qn(h,Qf,Hc),typeof Hc=="string"){h.push(F(le(Hc)));var Zf=null}else Zf=Hc;return Zf;case"menuitem":h.push(xn("menuitem"));for(var Yu in w)if(It.call(w,Yu)){var Kf=w[Yu];if(Kf!=null)switch(Yu){case"children":case"dangerouslySetInnerHTML":throw Error(e(400));default:Ue(h,Yu,Kf)}}return h.push(Nn),null;case"object":h.push(xn("object"));var Gu=null,Jf=null,go;for(go in w)if(It.call(w,go)){var bl=w[go];if(bl!=null)switch(go){case"children":Gu=bl;break;case"dangerouslySetInnerHTML":Jf=bl;break;case"data":var jf=kt(""+bl);if(jf==="")break;h.push(ui,F("data"),vi,F(le(jf)),hi);break;default:Ue(h,go,bl)}}if(h.push(Nn),qn(h,Jf,Gu),typeof Gu=="string"){h.push(F(le(Gu)));var Xu=null}else Xu=Gu;return Xu;case"title":if(vt.insertionMode===4||vt.tagScope&1||w.itemProp!=null)var oc=Cr(h,w);else ut?oc=null:(Cr(D.hoistableChunks,w),oc=void 0);return oc;case"link":var Ag=w.rel,Qo=w.href,Wu=w.precedence;if(vt.insertionMode===4||vt.tagScope&1||w.itemProp!=null||typeof Ag!="string"||typeof Qo!="string"||Qo===""){Ti(h,w);var Wc=null}else if(w.rel==="stylesheet")if(typeof Wu!="string"||w.disabled!=null||w.onLoad||w.onError)Wc=Ti(h,w);else{var lc=D.styles.get(Wu),qu=R.styleResources.hasOwnProperty(Qo)?R.styleResources[Qo]:void 0;if(qu!==null){R.styleResources[Qo]=null,lc||(lc={precedence:F(le(Wu)),rules:[],hrefs:[],sheets:new Map},D.styles.set(Wu,lc));var qc={state:0,props:ft({},w,{"data-precedence":w.precedence,precedence:null})};if(qu){qu.length===2&&so(qc.props,qu);var Dh=D.preloads.stylesheets.get(Qo);Dh&&0<Dh.length?Dh.length=0:qc.state=1}lc.sheets.set(Qo,qc),tt&&tt.stylesheets.add(qc)}else if(lc){var $f=lc.sheets.get(Qo);$f&&tt&&tt.stylesheets.add($f)}it&&h.push(Fe),Wc=null}else w.onLoad||w.onError?Wc=Ti(h,w):(it&&h.push(Fe),Wc=ut?null:Ti(D.hoistableChunks,w));return Wc;case"script":var Qu=w.async;if(typeof w.src!="string"||!w.src||!Qu||typeof Qu=="function"||typeof Qu=="symbol"||w.onLoad||w.onError||vt.insertionMode===4||vt.tagScope&1||w.itemProp!=null)var td=cs(h,w);else{var Zu=w.src;if(w.type==="module")var Oh=R.moduleScriptResources,Nh=D.preloads.moduleScripts;else Oh=R.scriptResources,Nh=D.preloads.scripts;var Ku=Oh.hasOwnProperty(Zu)?Oh[Zu]:void 0;if(Ku!==null){Oh[Zu]=null;var Ph=w;if(Ku){Ku.length===2&&(Ph=ft({},w),so(Ph,Ku));var Vh=Nh.get(Zu);Vh&&(Vh.length=0)}var ed=[];D.scripts.add(ed),cs(ed,Ph)}it&&h.push(Fe),td=null}return td;case"style":var Ju=w.precedence,cc=w.href;if(vt.insertionMode===4||vt.tagScope&1||w.itemProp!=null||typeof Ju!="string"||typeof cc!="string"||cc===""){h.push(xn("style"));var Qc=null,nd=null,Zo;for(Zo in w)if(It.call(w,Zo)){var Zc=w[Zo];if(Zc!=null)switch(Zo){case"children":Qc=Zc;break;case"dangerouslySetInnerHTML":nd=Zc;break;default:Ue(h,Zo,Zc)}}h.push(Nn);var El=Array.isArray(Qc)?2>Qc.length?Qc[0]:null:Qc;typeof El!="function"&&typeof El!="symbol"&&El!==null&&El!==void 0&&h.push(F((""+El).replace(Zl,Js))),qn(h,nd,Qc),h.push(vs("style"));var id=null}else{var Sl=D.styles.get(Ju);if((R.styleResources.hasOwnProperty(cc)?R.styleResources[cc]:void 0)!==null){R.styleResources[cc]=null,Sl?Sl.hrefs.push(F(le(cc))):(Sl={precedence:F(le(Ju)),rules:[],hrefs:[F(le(cc))],sheets:new Map},D.styles.set(Ju,Sl));var ju=Sl.rules,uc=null,sd=null,Lh;for(Lh in w)if(It.call(w,Lh)){var Al=w[Lh];if(Al!=null)switch(Lh){case"children":uc=Al;break;case"dangerouslySetInnerHTML":sd=Al}}var Ko=Array.isArray(uc)?2>uc.length?uc[0]:null:uc;typeof Ko!="function"&&typeof Ko!="symbol"&&Ko!==null&&Ko!==void 0&&ju.push(F((""+Ko).replace(Zl,Js))),qn(ju,sd,uc)}Sl&&tt&&tt.styles.add(Sl),it&&h.push(Fe),id=void 0}return id;case"meta":if(vt.insertionMode===4||vt.tagScope&1||w.itemProp!=null)var $u=js(h,w,"meta");else it&&h.push(Fe),$u=ut?null:typeof w.charSet=="string"?js(D.charsetChunks,w,"meta"):w.name==="viewport"?js(D.viewportChunks,w,"meta"):js(D.hoistableChunks,w,"meta");return $u;case"listing":case"pre":h.push(xn(p));var Jo=null,Cl=null,Kc;for(Kc in w)if(It.call(w,Kc)){var th=w[Kc];if(th!=null)switch(Kc){case"children":Jo=th;break;case"dangerouslySetInnerHTML":Cl=th;break;default:Ue(h,Kc,th)}}if(h.push(Nn),Cl!=null){if(Jo!=null)throw Error(e(60));if(typeof Cl!="object"||!("__html"in Cl))throw Error(e(61));var la=Cl.__html;la!=null&&(typeof la=="string"&&0<la.length&&la[0]===`
`?h.push(Co,F(la)):h.push(F(""+la)))}return typeof Jo=="string"&&Jo[0]===`
`&&h.push(Co),Jo;case"img":var ps=w.src,En=w.srcSet;if(!(w.loading==="lazy"||!ps&&!En||typeof ps!="string"&&ps!=null||typeof En!="string"&&En!=null)&&w.fetchPriority!=="low"&&!(vt.tagScope&3)&&(typeof ps!="string"||ps[4]!==":"||ps[0]!=="d"&&ps[0]!=="D"||ps[1]!=="a"&&ps[1]!=="A"||ps[2]!=="t"&&ps[2]!=="T"||ps[3]!=="a"&&ps[3]!=="A")&&(typeof En!="string"||En[4]!==":"||En[0]!=="d"&&En[0]!=="D"||En[1]!=="a"&&En[1]!=="A"||En[2]!=="t"&&En[2]!=="T"||En[3]!=="a"&&En[3]!=="A")){var za=typeof w.sizes=="string"?w.sizes:void 0,Br=En?En+`
`+(za||""):ps,Fh=D.preloads.images,_r=Fh.get(Br);if(_r)(w.fetchPriority==="high"||10>D.highImagePreloads.size)&&(Fh.delete(Br),D.highImagePreloads.add(_r));else if(!R.imageResources.hasOwnProperty(Br)){R.imageResources[Br]=xe;var Ha=w.crossOrigin,Oi=typeof Ha=="string"?Ha==="use-credentials"?Ha:"":void 0,po=D.headers,eh;po&&0<po.remainingCapacity&&typeof w.srcSet!="string"&&(w.fetchPriority==="high"||500>po.highImagePreloads.length)&&(eh=ta(ps,"image",{imageSrcSet:w.srcSet,imageSizes:w.sizes,crossOrigin:Oi,integrity:w.integrity,nonce:w.nonce,type:w.type,fetchPriority:w.fetchPriority,referrerPolicy:w.refererPolicy}),0<=(po.remainingCapacity-=eh.length+2))?(D.resets.image[Br]=xe,po.highImagePreloads&&(po.highImagePreloads+=", "),po.highImagePreloads+=eh):(_r=[],Ti(_r,{rel:"preload",as:"image",href:En?void 0:ps,imageSrcSet:En,imageSizes:za,crossOrigin:Oi,integrity:w.integrity,type:w.type,fetchPriority:w.fetchPriority,referrerPolicy:w.referrerPolicy}),w.fetchPriority==="high"||10>D.highImagePreloads.size?D.highImagePreloads.add(_r):(D.bulkPreloads.add(_r),Fh.set(Br,_r)))}}return js(h,w,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return js(h,w,p);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>vt.insertionMode){var nh=W||D.preamble;if(nh.headChunks)throw Error(e(545,"`<head>`"));nh.headChunks=[];var rd=ni(nh.headChunks,w,"head")}else rd=$s(h,w,"head");return rd;case"body":if(2>vt.insertionMode){var Uh=W||D.preamble;if(Uh.bodyChunks)throw Error(e(545,"`<body>`"));Uh.bodyChunks=[];var xl=ni(Uh.bodyChunks,w,"body")}else xl=$s(h,w,"body");return xl;case"html":if(vt.insertionMode===0){var Jc=W||D.preamble;if(Jc.htmlChunks)throw Error(e(545,"`<html>`"));Jc.htmlChunks=[Ro];var ad=ni(Jc.htmlChunks,w,"html")}else ad=$s(h,w,"html");return ad;default:if(p.indexOf("-")!==-1){h.push(xn(p));var Bh=null,od=null,jo;for(jo in w)if(It.call(w,jo)){var ca=w[jo];if(ca!=null){var zh=jo;switch(jo){case"children":Bh=ca;break;case"dangerouslySetInnerHTML":od=ca;break;case"style":ma(h,ca);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":zh="class";default:if(Bt(jo)&&typeof ca!="function"&&typeof ca!="symbol"&&ca!==!1){if(ca===!0)ca="";else if(typeof ca=="object")continue;h.push(ui,F(zh),vi,F(le(ca)),hi)}}}}return h.push(Nn),qn(h,od,Bh),Bh}}return $s(h,w,p)}var Zi=new Map;function vs(h){var p=Zi.get(h);return p===void 0&&(p=K("</"+h+">"),Zi.set(h,p)),p}function Kl(h,p){h=h.preamble,h.htmlChunks===null&&p.htmlChunks&&(h.htmlChunks=p.htmlChunks,p.contribution|=1),h.headChunks===null&&p.headChunks&&(h.headChunks=p.headChunks,p.contribution|=4),h.bodyChunks===null&&p.bodyChunks&&(h.bodyChunks=p.bodyChunks,p.contribution|=2)}function Ls(h,p){p=p.bootstrapChunks;for(var w=0;w<p.length-1;w++)Y(h,p[w]);return w<p.length?(w=p[w],p.length=0,et(h,w)):!0}var ja=K('<template id="'),$a=K('"></template>'),Dc=K("<!--$-->"),ii=K('<!--$?--><template id="'),Ts=K('"></template>'),ws=K("<!--$!-->"),tr=K("<!--/$-->"),ya=K("<template"),nn=K('"'),Qr=K(' data-dgst="');K(' data-msg="'),K(' data-stck="'),K(' data-cstck="');var er=K("></template>");function to(h,p,w){if(Y(h,ii),w===null)throw Error(e(395));return Y(h,p.boundaryPrefix),Y(h,F(w.toString(16))),et(h,Ts)}var Oc=K("<!--"),xr=K("-->");function va(h,p){p=p.contribution,p!==0&&(Y(h,Oc),Y(h,F(""+p)),Y(h,xr))}var Du=K('<div hidden id="'),fl=K('">'),Ta=K("</div>"),wa=K('<svg aria-hidden="true" style="display:none" id="'),nr=K('">'),Li=K("</svg>"),Rr=K('<math aria-hidden="true" style="display:none" id="'),Mo=K('">'),ir=K("</math>"),Io=K('<table hidden id="'),Ze=K('">'),us=K("</table>"),hs=K('<table hidden><tbody id="'),Mr=K('">'),bs=K("</tbody></table>"),sr=K('<table hidden><tr id="'),rr=K('">'),Zr=K("</tr></table>"),Fi=K('<table hidden><colgroup id="'),Fs=K('">'),Us=K("</colgroup></table>");function wi(h,p,w,R){switch(w.insertionMode){case 0:case 1:case 3:case 2:return Y(h,Du),Y(h,p.segmentPrefix),Y(h,F(R.toString(16))),et(h,fl);case 4:return Y(h,wa),Y(h,p.segmentPrefix),Y(h,F(R.toString(16))),et(h,nr);case 5:return Y(h,Rr),Y(h,p.segmentPrefix),Y(h,F(R.toString(16))),et(h,Mo);case 6:return Y(h,Io),Y(h,p.segmentPrefix),Y(h,F(R.toString(16))),et(h,Ze);case 7:return Y(h,hs),Y(h,p.segmentPrefix),Y(h,F(R.toString(16))),et(h,Mr);case 8:return Y(h,sr),Y(h,p.segmentPrefix),Y(h,F(R.toString(16))),et(h,rr);case 9:return Y(h,Fi),Y(h,p.segmentPrefix),Y(h,F(R.toString(16))),et(h,Fs);default:throw Error(e(397))}}function Ke(h,p){switch(p.insertionMode){case 0:case 1:case 3:case 2:return et(h,Ta);case 4:return et(h,Li);case 5:return et(h,ir);case 6:return et(h,us);case 7:return et(h,bs);case 8:return et(h,Zr);case 9:return et(h,Us);default:throw Error(e(397))}}var Ir=K('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),kr=K('$RS("'),Jl=K('","'),ko=K('")<\/script>');K('<template data-rsi="" data-sid="'),K('" data-pid="');var Do=K('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("'),Kr=K('$RC("'),Oo=K(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),ar=K(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),jl=K('$RR("'),Nc=K('","'),No=K('",'),Jr=K('"'),dl=K(")<\/script>");K('<template data-rci="" data-bid="'),K('<template data-rri="" data-bid="'),K('" data-sid="'),K('" data-sty="');var ba=K('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),Pc=K('$RX("'),eo=K('"'),Vc=K(","),jr=K(")<\/script>");K('<template data-rxi="" data-bid="'),K('" data-dgst="'),K('" data-msg="'),K('" data-stck="'),K('" data-cstck="');var Ea=/[<\u2028\u2029]/g;function Po(h){return JSON.stringify(h).replace(Ea,function(p){switch(p){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var $l=/[&><\u2028\u2029]/g;function Sa(h){return JSON.stringify(h).replace($l,function(p){switch(p){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var or=K('<style media="not all" data-precedence="'),Lc=K('" data-href="'),gl=K('">'),fi=K("</style>"),Aa=!1,fs=!0;function no(h){var p=h.rules,w=h.hrefs,R=0;if(w.length){for(Y(this,or),Y(this,h.precedence),Y(this,Lc);R<w.length-1;R++)Y(this,w[R]),Y(this,lr);for(Y(this,w[R]),Y(this,gl),R=0;R<p.length;R++)Y(this,p[R]);fs=et(this,fi),Aa=!0,p.length=0,w.length=0}}function tc(h){return h.state!==2?Aa=!0:!1}function $r(h,p,w){return Aa=!1,fs=!0,p.styles.forEach(no,h),p.stylesheets.forEach(tc),Aa&&(w.stylesToHoist=!0),fs}function bi(h){for(var p=0;p<h.length;p++)Y(this,h[p]);h.length=0}var Ei=[];function yn(h){Ti(Ei,h.props);for(var p=0;p<Ei.length;p++)Y(this,Ei[p]);Ei.length=0,h.state=2}var io=K('<style data-precedence="'),ec=K('" data-href="'),lr=K(" "),f=K('">'),S=K("</style>");function M(h){var p=0<h.sheets.size;h.sheets.forEach(yn,this),h.sheets.clear();var w=h.rules,R=h.hrefs;if(!p||R.length){if(Y(this,io),Y(this,h.precedence),h=0,R.length){for(Y(this,ec);h<R.length-1;h++)Y(this,R[h]),Y(this,lr);Y(this,R[h])}for(Y(this,f),h=0;h<w.length;h++)Y(this,w[h]);Y(this,S),w.length=0,R.length=0}}function G(h){if(h.state===0){h.state=1;var p=h.props;for(Ti(Ei,{rel:"preload",as:"style",href:h.props.href,crossOrigin:p.crossOrigin,fetchPriority:p.fetchPriority,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy}),h=0;h<Ei.length;h++)Y(this,Ei[h]);Ei.length=0}}function ht(h){h.sheets.forEach(G,this),h.sheets.clear()}var St=K("["),Xt=K(",["),Ne=K(","),tn=K("]");function Ge(h,p){Y(h,St);var w=St;p.stylesheets.forEach(function(R){if(R.state!==2)if(R.state===3)Y(h,w),Y(h,F(Sa(""+R.props.href))),Y(h,tn),w=Xt;else{Y(h,w);var D=R.props["data-precedence"],W=R.props,tt=kt(""+R.props.href);Y(h,F(Sa(tt))),D=""+D,Y(h,Ne),Y(h,F(Sa(D)));for(var vt in W)if(It.call(W,vt)&&(D=W[vt],D!=null))switch(vt){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"link"));default:Qn(h,vt,D)}Y(h,tn),w=Xt,R.state=3}}),Y(h,tn)}function Qn(h,p,w){var R=p.toLowerCase();switch(typeof w){case"function":case"symbol":return}switch(p){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":R="class",p=""+w;break;case"hidden":if(w===!1)return;p="";break;case"src":case"href":w=kt(w),p=""+w;break;default:if(2<p.length&&(p[0]==="o"||p[0]==="O")&&(p[1]==="n"||p[1]==="N")||!Bt(p))return;p=""+w}Y(h,Ne),Y(h,F(Sa(R))),Y(h,Ne),Y(h,F(Sa(p)))}function si(){return{styles:new Set,stylesheets:new Set}}function Dr(h){var p=ai||null;if(p){var w=p.resumableState,R=p.renderState;if(typeof h=="string"&&h){if(!w.dnsResources.hasOwnProperty(h)){w.dnsResources[h]=null,w=R.headers;var D,W;(W=w&&0<w.remainingCapacity)&&(W=(D="<"+(""+h).replace(Vo,ro)+">; rel=dns-prefetch",0<=(w.remainingCapacity-=D.length+2))),W?(R.resets.dns[h]=null,w.preconnects&&(w.preconnects+=", "),w.preconnects+=D):(D=[],Ti(D,{href:h,rel:"dns-prefetch"}),R.preconnects.add(D))}Fa(p)}}else Jt.D(h)}function Si(h,p){var w=ai||null;if(w){var R=w.resumableState,D=w.renderState;if(typeof h=="string"&&h){var W=p==="use-credentials"?"credentials":typeof p=="string"?"anonymous":"default";if(!R.connectResources[W].hasOwnProperty(h)){R.connectResources[W][h]=null,R=D.headers;var tt,vt;if(vt=R&&0<R.remainingCapacity){if(vt="<"+(""+h).replace(Vo,ro)+">; rel=preconnect",typeof p=="string"){var it=(""+p).replace(ml,Uc);vt+='; crossorigin="'+it+'"'}vt=(tt=vt,0<=(R.remainingCapacity-=tt.length+2))}vt?(D.resets.connect[W][h]=null,R.preconnects&&(R.preconnects+=", "),R.preconnects+=tt):(W=[],Ti(W,{rel:"preconnect",href:h,crossOrigin:p}),D.preconnects.add(W))}Fa(w)}}else Jt.C(h,p)}function Bs(h,p,w){var R=ai||null;if(R){var D=R.resumableState,W=R.renderState;if(p&&h){switch(p){case"image":if(w)var tt=w.imageSrcSet,vt=w.imageSizes,it=w.fetchPriority;var ut=tt?tt+`
`+(vt||""):h;if(D.imageResources.hasOwnProperty(ut))return;D.imageResources[ut]=xe,D=W.headers;var zt;D&&0<D.remainingCapacity&&typeof tt!="string"&&it==="high"&&(zt=ta(h,p,w),0<=(D.remainingCapacity-=zt.length+2))?(W.resets.image[ut]=xe,D.highImagePreloads&&(D.highImagePreloads+=", "),D.highImagePreloads+=zt):(D=[],Ti(D,ft({rel:"preload",href:tt?void 0:h,as:p},w)),it==="high"?W.highImagePreloads.add(D):(W.bulkPreloads.add(D),W.preloads.images.set(ut,D)));break;case"style":if(D.styleResources.hasOwnProperty(h))return;tt=[],Ti(tt,ft({rel:"preload",href:h,as:p},w)),D.styleResources[h]=!w||typeof w.crossOrigin!="string"&&typeof w.integrity!="string"?xe:[w.crossOrigin,w.integrity],W.preloads.stylesheets.set(h,tt),W.bulkPreloads.add(tt);break;case"script":if(D.scriptResources.hasOwnProperty(h))return;tt=[],W.preloads.scripts.set(h,tt),W.bulkPreloads.add(tt),Ti(tt,ft({rel:"preload",href:h,as:p},w)),D.scriptResources[h]=!w||typeof w.crossOrigin!="string"&&typeof w.integrity!="string"?xe:[w.crossOrigin,w.integrity];break;default:if(D.unknownResources.hasOwnProperty(p)){if(tt=D.unknownResources[p],tt.hasOwnProperty(h))return}else tt={},D.unknownResources[p]=tt;if(tt[h]=xe,(D=W.headers)&&0<D.remainingCapacity&&p==="font"&&(ut=ta(h,p,w),0<=(D.remainingCapacity-=ut.length+2)))W.resets.font[h]=xe,D.fontPreloads&&(D.fontPreloads+=", "),D.fontPreloads+=ut;else switch(D=[],h=ft({rel:"preload",href:h,as:p},w),Ti(D,h),p){case"font":W.fontPreloads.add(D);break;default:W.bulkPreloads.add(D)}}Fa(R)}}else Jt.L(h,p,w)}function Ca(h,p){var w=ai||null;if(w){var R=w.resumableState,D=w.renderState;if(h){var W=p&&typeof p.as=="string"?p.as:"script";switch(W){case"script":if(R.moduleScriptResources.hasOwnProperty(h))return;W=[],R.moduleScriptResources[h]=!p||typeof p.crossOrigin!="string"&&typeof p.integrity!="string"?xe:[p.crossOrigin,p.integrity],D.preloads.moduleScripts.set(h,W);break;default:if(R.moduleUnknownResources.hasOwnProperty(W)){var tt=R.unknownResources[W];if(tt.hasOwnProperty(h))return}else tt={},R.moduleUnknownResources[W]=tt;W=[],tt[h]=xe}Ti(W,ft({rel:"modulepreload",href:h},p)),D.bulkPreloads.add(W),Fa(w)}}else Jt.m(h,p)}function pl(h,p,w){var R=ai||null;if(R){var D=R.resumableState,W=R.renderState;if(h){p=p||"default";var tt=W.styles.get(p),vt=D.styleResources.hasOwnProperty(h)?D.styleResources[h]:void 0;vt!==null&&(D.styleResources[h]=null,tt||(tt={precedence:F(le(p)),rules:[],hrefs:[],sheets:new Map},W.styles.set(p,tt)),p={state:0,props:ft({rel:"stylesheet",href:h,"data-precedence":p},w)},vt&&(vt.length===2&&so(p.props,vt),(W=W.preloads.stylesheets.get(h))&&0<W.length?W.length=0:p.state=1),tt.sheets.set(h,p),Fa(R))}}else Jt.S(h,p,w)}function Ou(h,p){var w=ai||null;if(w){var R=w.resumableState,D=w.renderState;if(h){var W=R.scriptResources.hasOwnProperty(h)?R.scriptResources[h]:void 0;W!==null&&(R.scriptResources[h]=null,p=ft({src:h,async:!0},p),W&&(W.length===2&&so(p,W),h=D.preloads.scripts.get(h))&&(h.length=0),h=[],D.scripts.add(h),cs(h,p),Fa(w))}}else Jt.X(h,p)}function Fc(h,p){var w=ai||null;if(w){var R=w.resumableState,D=w.renderState;if(h){var W=R.moduleScriptResources.hasOwnProperty(h)?R.moduleScriptResources[h]:void 0;W!==null&&(R.moduleScriptResources[h]=null,p=ft({src:h,type:"module",async:!0},p),W&&(W.length===2&&so(p,W),h=D.preloads.moduleScripts.get(h))&&(h.length=0),h=[],D.scripts.add(h),cs(h,p),Fa(w))}}else Jt.M(h,p)}function so(h,p){h.crossOrigin==null&&(h.crossOrigin=p[0]),h.integrity==null&&(h.integrity=p[1])}function ta(h,p,w){h=(""+h).replace(Vo,ro),p=(""+p).replace(ml,Uc),p="<"+h+'>; rel=preload; as="'+p+'"';for(var R in w)It.call(w,R)&&(h=w[R],typeof h=="string"&&(p+="; "+R.toLowerCase()+'="'+(""+h).replace(ml,Uc)+'"'));return p}var Vo=/[<>\r\n]/g;function ro(h){switch(h){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var ml=/["';,\r\n]/g;function Uc(h){switch(h){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function Nu(h){this.styles.add(h)}function nc(h){this.stylesheets.add(h)}var Lo=Function.prototype.bind,Hf=Symbol.for("react.client.reference");function Ki(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===Hf?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case l:return"Fragment";case g:return"Profiler";case u:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList";case j:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case a:return"Portal";case E:return(h.displayName||"Context")+".Provider";case v:return(h._context.displayName||"Context")+".Consumer";case A:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case L:return p=h.displayName||null,p!==null?p:Ki(h.type)||"Memo";case Z:p=h._payload,h=h._init;try{return Ki(h(p))}catch{}}return null}var _l={},xa=null;function d(h,p){if(h!==p){h.context._currentValue=h.parentValue,h=h.parent;var w=p.parent;if(h===null){if(w!==null)throw Error(e(401))}else{if(w===null)throw Error(e(401));d(h,w)}p.context._currentValue=p.value}}function _(h){h.context._currentValue=h.parentValue,h=h.parent,h!==null&&_(h)}function b(h){var p=h.parent;p!==null&&b(p),h.context._currentValue=h.value}function x(h,p){if(h.context._currentValue=h.parentValue,h=h.parent,h===null)throw Error(e(402));h.depth===p.depth?d(h,p):x(h,p)}function O(h,p){var w=p.parent;if(w===null)throw Error(e(402));h.depth===w.depth?d(h,w):O(h,w),p.context._currentValue=p.value}function q(h){var p=xa;p!==h&&(p===null?b(h):h===null?_(p):p.depth===h.depth?d(p,h):p.depth>h.depth?x(p,h):O(p,h),xa=h)}var nt={enqueueSetState:function(h,p){h=h._reactInternals,h.queue!==null&&h.queue.push(p)},enqueueReplaceState:function(h,p){h=h._reactInternals,h.replace=!0,h.queue=[p]},enqueueForceUpdate:function(){}},Rt={id:1,overflow:""};function gt(h,p,w){var R=h.id;h=h.overflow;var D=32-At(R)-1;R&=~(1<<D),w+=1;var W=32-At(p)+D;if(30<W){var tt=D-D%5;return W=(R&(1<<tt)-1).toString(32),R>>=tt,D-=tt,{id:1<<32-At(p)+D|w<<D|R,overflow:W+h}}return{id:1<<W|w<<D|R,overflow:h}}var At=Math.clz32?Math.clz32:se,Kt=Math.log,Ht=Math.LN2;function se(h){return h>>>=0,h===0?32:31-(Kt(h)/Ht|0)|0}var ge=Error(e(460));function fe(){}function we(h,p,w){switch(w=h[w],w===void 0?h.push(p):w!==p&&(p.then(fe,fe),p=w),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:switch(typeof p.status=="string"?p.then(fe,fe):(h=p,h.status="pending",h.then(function(R){if(p.status==="pending"){var D=p;D.status="fulfilled",D.value=R}},function(R){if(p.status==="pending"){var D=p;D.status="rejected",D.reason=R}})),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason}throw fn=p,ge}}var fn=null;function dn(){if(fn===null)throw Error(e(459));var h=fn;return fn=null,h}function gn(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Pn=typeof Object.is=="function"?Object.is:gn,he=null,Zn=null,Pe=null,di=null,bn=null,be=null,un=!1,Ai=!1,Kn=0,Or=0,ds=-1,gi=0,Ui=null,ri=null,ea=0;function Di(){if(he===null)throw Error(e(321));return he}function Nr(){if(0<ea)throw Error(e(312));return{memoizedState:null,queue:null,next:null}}function Ra(){return be===null?bn===null?(un=!1,bn=be=Nr()):(un=!0,be=bn):be.next===null?(un=!1,be=be.next=Nr()):(un=!0,be=be.next),be}function pi(){var h=Ui;return Ui=null,h}function Ma(){di=Pe=Zn=he=null,Ai=!1,bn=null,ea=0,be=ri=null}function cr(h,p){return typeof p=="function"?p(h):p}function ic(h,p,w){if(he=Di(),be=Ra(),un){var R=be.queue;if(p=R.dispatch,ri!==null&&(w=ri.get(R),w!==void 0)){ri.delete(R),R=be.memoizedState;do R=h(R,w.action),w=w.next;while(w!==null);return be.memoizedState=R,[R,p]}return[be.memoizedState,p]}return h=h===cr?typeof p=="function"?p():p:w!==void 0?w(p):p,be.memoizedState=h,h=be.queue={last:null,dispatch:null},h=h.dispatch=Bi.bind(null,he,h),[be.memoizedState,h]}function Ia(h,p){if(he=Di(),be=Ra(),p=p===void 0?null:p,be!==null){var w=be.memoizedState;if(w!==null&&p!==null){var R=w[1];t:if(R===null)R=!1;else{for(var D=0;D<R.length&&D<p.length;D++)if(!Pn(p[D],R[D])){R=!1;break t}R=!0}if(R)return w[0]}}return h=h(),be.memoizedState=[h,p],h}function Bi(h,p,w){if(25<=ea)throw Error(e(301));if(h===he)if(Ai=!0,h={action:w,next:null},ri===null&&(ri=new Map),w=ri.get(p),w===void 0)ri.set(p,h);else{for(p=w;p.next!==null;)p=p.next;p.next=h}}function Bc(){throw Error(e(394))}function Fo(){throw Error(e(479))}function ao(h,p,w){Di();var R=Or++,D=Pe;if(typeof h.$$FORM_ACTION=="function"){var W=null,tt=di;D=D.formState;var vt=h.$$IS_SIGNATURE_EQUAL;if(D!==null&&typeof vt=="function"){var it=D[1];vt.call(h,D[2],D[3])&&(W=w!==void 0?"p"+w:"k"+V(JSON.stringify([tt,null,R]),0),it===W&&(ds=R,p=D[0]))}var ut=h.bind(null,p);return h=function(Dt){ut(Dt)},typeof ut.$$FORM_ACTION=="function"&&(h.$$FORM_ACTION=function(Dt){Dt=ut.$$FORM_ACTION(Dt),w!==void 0&&(w+="",Dt.action=w);var $t=Dt.data;return $t&&(W===null&&(W=w!==void 0?"p"+w:"k"+V(JSON.stringify([tt,null,R]),0)),$t.append("$ACTION_KEY",W)),Dt}),[p,h,!1]}var zt=h.bind(null,p);return[p,function(Dt){zt(Dt)},!1]}function oo(h){var p=gi;return gi+=1,Ui===null&&(Ui=[]),we(Ui,h,p)}function sc(){throw Error(e(393))}function ka(){}var Es={readContext:function(h){return h._currentValue},use:function(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return oo(h);if(h.$$typeof===E)return h._currentValue}throw Error(e(438,String(h)))},useContext:function(h){return Di(),h._currentValue},useMemo:Ia,useReducer:ic,useRef:function(h){he=Di(),be=Ra();var p=be.memoizedState;return p===null?(h={current:h},be.memoizedState=h):p},useState:function(h){return ic(cr,h)},useInsertionEffect:ka,useLayoutEffect:ka,useCallback:function(h,p){return Ia(function(){return h},p)},useImperativeHandle:ka,useEffect:ka,useDebugValue:ka,useDeferredValue:function(h,p){return Di(),p!==void 0?p:h},useTransition:function(){return Di(),[!1,Bc]},useId:function(){var h=Zn.treeContext,p=h.overflow;h=h.id,h=(h&~(1<<32-At(h)-1)).toString(32)+p;var w=Ji;if(w===null)throw Error(e(404));return p=Kn++,h="«"+w.idPrefix+"R"+h,0<p&&(h+="H"+p.toString(32)),h+"»"},useSyncExternalStore:function(h,p,w){if(w===void 0)throw Error(e(407));return w()},useOptimistic:function(h){return Di(),[h,Fo]},useActionState:ao,useFormState:ao,useHostTransitionStatus:function(){return Di(),Zt},useMemoCache:function(h){for(var p=Array(h),w=0;w<h;w++)p[w]=st;return p},useCacheRefresh:function(){return sc}},Ji=null,Pr={getCacheForType:function(){throw Error(e(248))}},Ci,Vr;function zs(h){if(Ci===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);Ci=p&&p[1]||"",Vr=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ci+h+Vr}var lo=!1;function Uo(h,p){if(!h||lo)return"";lo=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(p){var Dt=function(){throw Error()};if(Object.defineProperty(Dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dt,[])}catch(ie){var $t=ie}Reflect.construct(h,[],Dt)}else{try{Dt.call()}catch(ie){$t=ie}h.call(Dt.prototype)}}else{try{throw Error()}catch(ie){$t=ie}(Dt=h())&&typeof Dt.catch=="function"&&Dt.catch(function(){})}}catch(ie){if(ie&&$t&&typeof ie.stack=="string")return[ie.stack,$t.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=R.DetermineComponentFrameRoot(),tt=W[0],vt=W[1];if(tt&&vt){var it=tt.split(`
`),ut=vt.split(`
`);for(D=R=0;R<it.length&&!it[R].includes("DetermineComponentFrameRoot");)R++;for(;D<ut.length&&!ut[D].includes("DetermineComponentFrameRoot");)D++;if(R===it.length||D===ut.length)for(R=it.length-1,D=ut.length-1;1<=R&&0<=D&&it[R]!==ut[D];)D--;for(;1<=R&&0<=D;R--,D--)if(it[R]!==ut[D]){if(R!==1||D!==1)do if(R--,D--,0>D||it[R]!==ut[D]){var zt=`
`+it[R].replace(" at new "," at ");return h.displayName&&zt.includes("<anonymous>")&&(zt=zt.replace("<anonymous>",h.displayName)),zt}while(1<=R&&0<=D);break}}}finally{lo=!1,Error.prepareStackTrace=w}return(w=h?h.displayName||h.name:"")?zs(w):""}function na(h){if(typeof h=="string")return zs(h);if(typeof h=="function")return h.prototype&&h.prototype.isReactComponent?Uo(h,!0):Uo(h,!1);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case A:return Uo(h.render,!1);case L:return Uo(h.type,!1);case Z:var p=h,w=p._payload;p=p._init;try{h=p(w)}catch{return zs("Lazy")}return na(h)}if(typeof h.name=="string")return w=h.env,zs(h.name+(w?" ["+w+"]":""))}switch(h){case N:return zs("SuspenseList");case C:return zs("Suspense")}return""}function xi(h){if(typeof h=="object"&&h!==null&&typeof h.environmentName=="string"){var p=h.environmentName;h=[h].slice(0),typeof h[0]=="string"?h.splice(0,1,"%c%s%c "+h[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+p+" ",""):h.splice(0,0,"%c%s%c ","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+p+" ",""),h.unshift(console),p=Lo.apply(console.error,h),p()}else console.error(h);return null}function en(){}function ze(h,p,w,R,D,W,tt,vt,it,ut,zt){var Dt=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=h,this.renderState=p,this.rootFormatContext=w,this.progressiveChunkSize=R===void 0?12800:R,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.abortableTasks=Dt,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=D===void 0?xi:D,this.onPostpone=ut===void 0?en:ut,this.onAllReady=W===void 0?en:W,this.onShellReady=tt===void 0?en:tt,this.onShellError=vt===void 0?en:vt,this.onFatalError=it===void 0?en:it,this.formState=zt===void 0?null:zt}function ur(h,p,w,R,D,W,tt,vt,it,ut,zt,Dt){return p=new ze(p,w,R,D,W,tt,vt,it,ut,zt,Dt),w=Lr(p,0,null,R,!1,!1),w.parentFlushed=!0,h=Bo(p,null,h,-1,null,w,null,null,p.abortableTasks,null,R,null,Rt,null,!1),Fr(h),p.pingedTasks.push(h),p}function zi(h,p,w,R,D,W,tt,vt,it,ut,zt){return h=ur(h,p,w,R,D,W,tt,vt,it,ut,zt,void 0),h.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},h}var ai=null;function ia(h,p){h.pingedTasks.push(p),h.pingedTasks.length===1&&(h.flushScheduled=h.destination!==null,h.trackedPostpones!==null||h.status===10?X(function(){return Na(h)}):U(function(){return Na(h)}))}function hr(h,p,w,R){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:p,errorDigest:null,contentState:si(),fallbackState:si(),contentPreamble:w,fallbackPreamble:R,trackedContentKeyPath:null,trackedFallbackNode:null}}function Bo(h,p,w,R,D,W,tt,vt,it,ut,zt,Dt,$t,ie,de){h.allPendingTasks++,D===null?h.pendingRootTasks++:D.pendingTasks++;var Ee={replay:null,node:w,childIndex:R,ping:function(){return ia(h,Ee)},blockedBoundary:D,blockedSegment:W,blockedPreamble:tt,hoistableState:vt,abortSet:it,keyPath:ut,formatContext:zt,context:Dt,treeContext:$t,componentStack:ie,thenableState:p,isFallback:de};return it.add(Ee),Ee}function Da(h,p,w,R,D,W,tt,vt,it,ut,zt,Dt,$t,ie){h.allPendingTasks++,W===null?h.pendingRootTasks++:W.pendingTasks++,w.pendingTasks++;var de={replay:w,node:R,childIndex:D,ping:function(){return ia(h,de)},blockedBoundary:W,blockedSegment:null,blockedPreamble:null,hoistableState:tt,abortSet:vt,keyPath:it,formatContext:ut,context:zt,treeContext:Dt,componentStack:$t,thenableState:p,isFallback:ie};return vt.add(de),de}function Lr(h,p,w,R,D,W){return{status:0,parentFlushed:!1,id:-1,index:p,chunks:[],children:[],preambleChildren:[],parentFormatContext:R,boundary:w,lastPushedText:D,textEmbedded:W}}function Fr(h){var p=h.node;if(typeof p=="object"&&p!==null)switch(p.$$typeof){case i:h.componentStack={parent:h.componentStack,type:p.type}}}function fr(h){var p={};return h&&Object.defineProperty(p,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var w="",R=h;do w+=na(R.type),R=R.parent;while(R);var D=w}catch(W){D=`
Error generating stack: `+W.message+`
`+W.stack}return Object.defineProperty(p,"componentStack",{value:D}),D}}),p}function Ri(h,p,w){if(h=h.onError,p=h(p,w),p==null||typeof p=="string")return p}function gs(h,p){var w=h.onShellError,R=h.onFatalError;w(p),R(p),h.destination!==null?(h.status=14,dt(h.destination,p)):(h.status=13,h.fatalError=p)}function Ur(h,p,w,R,D,W){var tt=p.thenableState;for(p.thenableState=null,he={},Zn=p,Pe=h,di=w,Or=Kn=0,ds=-1,gi=0,Ui=tt,h=R(D,W);Ai;)Ai=!1,Or=Kn=0,ds=-1,gi=0,ea+=1,be=null,h=R(D,W);return Ma(),h}function sa(h,p,w,R,D,W,tt){var vt=!1;if(W!==0&&h.formState!==null){var it=p.blockedSegment;if(it!==null){vt=!0,it=it.chunks;for(var ut=0;ut<W;ut++)ut===tt?it.push(Ar):it.push(_a)}}W=p.keyPath,p.keyPath=w,D?(w=p.treeContext,p.treeContext=gt(w,1,0),Cs(h,p,R,-1),p.treeContext=w):vt?Cs(h,p,R,-1):oi(h,p,R,-1),p.keyPath=W}function Ss(h,p,w,R,D,W){if(typeof R=="function")if(R.prototype&&R.prototype.isReactComponent){var tt=D;if("ref"in D){tt={};for(var vt in D)vt!=="ref"&&(tt[vt]=D[vt])}var it=R.defaultProps;if(it){tt===D&&(tt=ft({},tt,D));for(var ut in it)tt[ut]===void 0&&(tt[ut]=it[ut])}D=tt,tt=_l,it=R.contextType,typeof it=="object"&&it!==null&&(tt=it._currentValue),tt=new R(D,tt);var zt=tt.state!==void 0?tt.state:null;if(tt.updater=nt,tt.props=D,tt.state=zt,it={queue:[],replace:!1},tt._reactInternals=it,W=R.contextType,tt.context=typeof W=="object"&&W!==null?W._currentValue:_l,W=R.getDerivedStateFromProps,typeof W=="function"&&(W=W(D,zt),zt=W==null?zt:ft({},zt,W),tt.state=zt),typeof R.getDerivedStateFromProps!="function"&&typeof tt.getSnapshotBeforeUpdate!="function"&&(typeof tt.UNSAFE_componentWillMount=="function"||typeof tt.componentWillMount=="function"))if(R=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),R!==tt.state&&nt.enqueueReplaceState(tt,tt.state,null),it.queue!==null&&0<it.queue.length)if(R=it.queue,W=it.replace,it.queue=null,it.replace=!1,W&&R.length===1)tt.state=R[0];else{for(it=W?R[0]:tt.state,zt=!0,W=W?1:0;W<R.length;W++)ut=R[W],ut=typeof ut=="function"?ut.call(tt,it,D,void 0):ut,ut!=null&&(zt?(zt=!1,it=ft({},it,ut)):ft(it,ut));tt.state=it}else it.queue=null;if(R=tt.render(),h.status===12)throw null;D=p.keyPath,p.keyPath=w,oi(h,p,R,-1),p.keyPath=D}else{if(R=Ur(h,p,w,R,D,void 0),h.status===12)throw null;sa(h,p,w,R,Kn!==0,Or,ds)}else if(typeof R=="string")if(tt=p.blockedSegment,tt===null)tt=D.children,it=p.formatContext,zt=p.keyPath,p.formatContext=ue(it,R,D),p.keyPath=w,Cs(h,p,tt,-1),p.formatContext=it,p.keyPath=zt;else{W=hl(tt.chunks,R,D,h.resumableState,h.renderState,p.blockedPreamble,p.hoistableState,p.formatContext,tt.lastPushedText,p.isFallback),tt.lastPushedText=!1,it=p.formatContext,zt=p.keyPath,p.keyPath=w,(p.formatContext=ue(it,R,D)).insertionMode===3?(w=Lr(h,0,null,p.formatContext,!1,!1),tt.preambleChildren.push(w),w=Bo(h,null,W,-1,p.blockedBoundary,w,p.blockedPreamble,p.hoistableState,h.abortableTasks,p.keyPath,p.formatContext,p.context,p.treeContext,p.componentStack,p.isFallback),Fr(w),h.pingedTasks.push(w)):Cs(h,p,W,-1),p.formatContext=it,p.keyPath=zt;t:{switch(p=tt.chunks,h=h.resumableState,R){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break t;case"body":if(1>=it.insertionMode){h.hasBody=!0;break t}break;case"html":if(it.insertionMode===0){h.hasHtml=!0;break t}break;case"head":if(1>=it.insertionMode)break t}p.push(vs(R))}tt.lastPushedText=!1}else{switch(R){case lt:case u:case g:case l:R=p.keyPath,p.keyPath=w,oi(h,p,D.children,-1),p.keyPath=R;return;case j:D.mode!=="hidden"&&(R=p.keyPath,p.keyPath=w,oi(h,p,D.children,-1),p.keyPath=R);return;case N:R=p.keyPath,p.keyPath=w,oi(h,p,D.children,-1),p.keyPath=R;return;case pt:case H:throw Error(e(343));case C:t:if(p.replay!==null){R=p.keyPath,p.keyPath=w,w=D.children;try{Cs(h,p,w,-1)}finally{p.keyPath=R}}else{R=p.keyPath;var Dt=p.blockedBoundary;W=p.blockedPreamble;var $t=p.hoistableState;ut=p.blockedSegment,vt=D.fallback,D=D.children;var ie=new Set,de=2>p.formatContext.insertionMode?hr(h,ie,Yt(),Yt()):hr(h,ie,null,null);h.trackedPostpones!==null&&(de.trackedContentKeyPath=w);var Ee=Lr(h,ut.chunks.length,de,p.formatContext,!1,!1);ut.children.push(Ee),ut.lastPushedText=!1;var vn=Lr(h,0,null,p.formatContext,!1,!1);if(vn.parentFlushed=!0,h.trackedPostpones!==null){tt=[w[0],"Suspense Fallback",w[2]],it=[tt[1],tt[2],[],null],h.trackedPostpones.workingMap.set(tt,it),de.trackedFallbackNode=it,p.blockedSegment=Ee,p.blockedPreamble=de.fallbackPreamble,p.keyPath=tt,Ee.status=6;try{Cs(h,p,vt,-1),Ee.lastPushedText&&Ee.textEmbedded&&Ee.chunks.push(Fe),Ee.status=1}catch(Rn){throw Ee.status=h.status===12?3:4,Rn}finally{p.blockedSegment=ut,p.blockedPreamble=W,p.keyPath=R}p=Bo(h,null,D,-1,de,vn,de.contentPreamble,de.contentState,p.abortSet,w,p.formatContext,p.context,p.treeContext,p.componentStack,p.isFallback),Fr(p),h.pingedTasks.push(p)}else{p.blockedBoundary=de,p.blockedPreamble=de.contentPreamble,p.hoistableState=de.contentState,p.blockedSegment=vn,p.keyPath=w,vn.status=6;try{if(Cs(h,p,D,-1),vn.lastPushedText&&vn.textEmbedded&&vn.chunks.push(Fe),vn.status=1,dr(de,vn),de.pendingTasks===0&&de.status===0){de.status=1,h.pendingRootTasks===0&&p.blockedPreamble&&gr(h);break t}}catch(Rn){de.status=4,h.status===12?(vn.status=3,tt=h.fatalError):(vn.status=4,tt=Rn),it=fr(p.componentStack),zt=Ri(h,tt,it),de.errorDigest=zt,As(h,de)}finally{p.blockedBoundary=Dt,p.blockedPreamble=W,p.hoistableState=$t,p.blockedSegment=ut,p.keyPath=R}p=Bo(h,null,vt,-1,Dt,Ee,de.fallbackPreamble,de.fallbackState,ie,[w[0],"Suspense Fallback",w[2]],p.formatContext,p.context,p.treeContext,p.componentStack,!0),Fr(p),h.pingedTasks.push(p)}}return}if(typeof R=="object"&&R!==null)switch(R.$$typeof){case A:if("ref"in D)for(de in tt={},D)de!=="ref"&&(tt[de]=D[de]);else tt=D;R=Ur(h,p,w,R.render,tt,W),sa(h,p,w,R,Kn!==0,Or,ds);return;case L:Ss(h,p,w,R.type,D,W);return;case y:case E:if(it=D.children,tt=p.keyPath,D=D.value,zt=R._currentValue,R._currentValue=D,W=xa,xa=R={parent:W,depth:W===null?0:W.depth+1,context:R,parentValue:zt,value:D},p.context=R,p.keyPath=w,oi(h,p,it,-1),h=xa,h===null)throw Error(e(403));h.context._currentValue=h.parentValue,h=xa=h.parent,p.context=h,p.keyPath=tt;return;case v:D=D.children,R=D(R._context._currentValue),D=p.keyPath,p.keyPath=w,oi(h,p,R,-1),p.keyPath=D;return;case Z:if(tt=R._init,R=tt(R._payload),h.status===12)throw null;Ss(h,p,w,R,D,W);return}throw Error(e(130,R==null?R:typeof R,""))}}function rc(h,p,w,R,D){var W=p.replay,tt=p.blockedBoundary,vt=Lr(h,0,null,p.formatContext,!1,!1);vt.id=w,vt.parentFlushed=!0;try{p.replay=null,p.blockedSegment=vt,Cs(h,p,R,D),vt.status=1,tt===null?h.completedRootSegment=vt:(dr(tt,vt),tt.parentFlushed&&h.partialBoundaries.push(tt))}finally{p.replay=W,p.blockedSegment=null}}function oi(h,p,w,R){p.replay!==null&&typeof p.replay.slots=="number"?rc(h,p,p.replay.slots,w,R):(p.node=w,p.childIndex=R,w=p.componentStack,Fr(p),ra(h,p),p.componentStack=w)}function ra(h,p){var w=p.node,R=p.childIndex;if(w!==null){if(typeof w=="object"){switch(w.$$typeof){case i:var D=w.type,W=w.key,tt=w.props;w=tt.ref;var vt=w!==void 0?w:null,it=Ki(D),ut=W??(R===-1?0:R);if(W=[p.keyPath,it,ut],p.replay!==null)t:{var zt=p.replay;for(R=zt.nodes,w=0;w<R.length;w++){var Dt=R[w];if(ut===Dt[1]){if(Dt.length===4){if(it!==null&&it!==Dt[0])throw Error(e(490,Dt[0],it));var $t=Dt[2];it=Dt[3],ut=p.node,p.replay={nodes:$t,slots:it,pendingTasks:1};try{if(Ss(h,p,W,D,tt,vt),p.replay.pendingTasks===1&&0<p.replay.nodes.length)throw Error(e(488));p.replay.pendingTasks--}catch(Xn){if(typeof Xn=="object"&&Xn!==null&&(Xn===ge||typeof Xn.then=="function"))throw p.node===ut&&(p.replay=zt),Xn;p.replay.pendingTasks--,tt=fr(p.componentStack),W=p.blockedBoundary,D=Xn,tt=Ri(h,D,tt),zo(h,W,$t,it,D,tt)}p.replay=zt}else{if(D!==C)throw Error(e(490,"Suspense",Ki(D)||"Unknown"));e:{zt=void 0,D=Dt[5],vt=Dt[2],it=Dt[3],ut=Dt[4]===null?[]:Dt[4][2],Dt=Dt[4]===null?null:Dt[4][3];var ie=p.keyPath,de=p.replay,Ee=p.blockedBoundary,vn=p.hoistableState,Rn=tt.children,Ve=tt.fallback,Hi=new Set;tt=2>p.formatContext.insertionMode?hr(h,Hi,Yt(),Yt()):hr(h,Hi,null,null),tt.parentFlushed=!0,tt.rootSegmentID=D,p.blockedBoundary=tt,p.hoistableState=tt.contentState,p.keyPath=W,p.replay={nodes:vt,slots:it,pendingTasks:1};try{if(Cs(h,p,Rn,-1),p.replay.pendingTasks===1&&0<p.replay.nodes.length)throw Error(e(488));if(p.replay.pendingTasks--,tt.pendingTasks===0&&tt.status===0){tt.status=1,h.completedBoundaries.push(tt);break e}}catch(Xn){tt.status=4,$t=fr(p.componentStack),zt=Ri(h,Xn,$t),tt.errorDigest=zt,p.replay.pendingTasks--,h.clientRenderedBoundaries.push(tt)}finally{p.blockedBoundary=Ee,p.hoistableState=vn,p.replay=de,p.keyPath=ie}p=Da(h,null,{nodes:ut,slots:Dt,pendingTasks:0},Ve,-1,Ee,tt.fallbackState,Hi,[W[0],"Suspense Fallback",W[2]],p.formatContext,p.context,p.treeContext,p.componentStack,!0),Fr(p),h.pingedTasks.push(p)}}R.splice(w,1);break t}}}else Ss(h,p,W,D,tt,vt);return;case a:throw Error(e(257));case Z:if($t=w._init,w=$t(w._payload),h.status===12)throw null;oi(h,p,w,R);return}if(rt(w)){aa(h,p,w,R);return}if(w===null||typeof w!="object"?$t=null:($t=J&&w[J]||w["@@iterator"],$t=typeof $t=="function"?$t:null),$t&&($t=$t.call(w))){if(w=$t.next(),!w.done){tt=[];do tt.push(w.value),w=$t.next();while(!w.done);aa(h,p,tt,R)}return}if(typeof w.then=="function")return p.thenableState=null,oi(h,p,oo(w),R);if(w.$$typeof===E)return oi(h,p,w._currentValue,R);throw R=Object.prototype.toString.call(w),Error(e(31,R==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":R))}typeof w=="string"?(R=p.blockedSegment,R!==null&&(R.lastPushedText=De(R.chunks,w,h.renderState,R.lastPushedText))):(typeof w=="number"||typeof w=="bigint")&&(R=p.blockedSegment,R!==null&&(R.lastPushedText=De(R.chunks,""+w,h.renderState,R.lastPushedText)))}}function aa(h,p,w,R){var D=p.keyPath;if(R!==-1&&(p.keyPath=[p.keyPath,"Fragment",R],p.replay!==null)){for(var W=p.replay,tt=W.nodes,vt=0;vt<tt.length;vt++){var it=tt[vt];if(it[1]===R){R=it[2],it=it[3],p.replay={nodes:R,slots:it,pendingTasks:1};try{if(aa(h,p,w,-1),p.replay.pendingTasks===1&&0<p.replay.nodes.length)throw Error(e(488));p.replay.pendingTasks--}catch(Dt){if(typeof Dt=="object"&&Dt!==null&&(Dt===ge||typeof Dt.then=="function"))throw Dt;p.replay.pendingTasks--,w=fr(p.componentStack);var ut=p.blockedBoundary,zt=Dt;w=Ri(h,zt,w),zo(h,ut,R,it,zt,w)}p.replay=W,tt.splice(vt,1);break}}p.keyPath=D;return}if(W=p.treeContext,tt=w.length,p.replay!==null&&(vt=p.replay.slots,vt!==null&&typeof vt=="object")){for(R=0;R<tt;R++)it=w[R],p.treeContext=gt(W,tt,R),ut=vt[R],typeof ut=="number"?(rc(h,p,ut,it,R),delete vt[R]):Cs(h,p,it,R);p.treeContext=W,p.keyPath=D;return}for(vt=0;vt<tt;vt++)R=w[vt],p.treeContext=gt(W,tt,vt),Cs(h,p,R,vt);p.treeContext=W,p.keyPath=D}function As(h,p){h=h.trackedPostpones,h!==null&&(p=p.trackedContentKeyPath,p!==null&&(p=h.workingMap.get(p),p!==void 0&&(p.length=4,p[2]=[],p[3]=null)))}function mi(h,p,w){return Da(h,w,p.replay,p.node,p.childIndex,p.blockedBoundary,p.hoistableState,p.abortSet,p.keyPath,p.formatContext,p.context,p.treeContext,p.componentStack,p.isFallback)}function co(h,p,w){var R=p.blockedSegment,D=Lr(h,R.chunks.length,null,p.formatContext,R.lastPushedText,!0);return R.children.push(D),R.lastPushedText=!1,Bo(h,w,p.node,p.childIndex,p.blockedBoundary,D,p.blockedPreamble,p.hoistableState,p.abortSet,p.keyPath,p.formatContext,p.context,p.treeContext,p.componentStack,p.isFallback)}function Cs(h,p,w,R){var D=p.formatContext,W=p.context,tt=p.keyPath,vt=p.treeContext,it=p.componentStack,ut=p.blockedSegment;if(ut===null)try{return oi(h,p,w,R)}catch($t){if(Ma(),w=$t===ge?dn():$t,typeof w=="object"&&w!==null){if(typeof w.then=="function"){R=pi(),h=mi(h,p,R).ping,w.then(h,h),p.formatContext=D,p.context=W,p.keyPath=tt,p.treeContext=vt,p.componentStack=it,q(W);return}if(w.message==="Maximum call stack size exceeded"){w=pi(),w=mi(h,p,w),h.pingedTasks.push(w),p.formatContext=D,p.context=W,p.keyPath=tt,p.treeContext=vt,p.componentStack=it,q(W);return}}}else{var zt=ut.children.length,Dt=ut.chunks.length;try{return oi(h,p,w,R)}catch($t){if(Ma(),ut.children.length=zt,ut.chunks.length=Dt,w=$t===ge?dn():$t,typeof w=="object"&&w!==null){if(typeof w.then=="function"){R=pi(),h=co(h,p,R).ping,w.then(h,h),p.formatContext=D,p.context=W,p.keyPath=tt,p.treeContext=vt,p.componentStack=it,q(W);return}if(w.message==="Maximum call stack size exceeded"){w=pi(),w=co(h,p,w),h.pingedTasks.push(w),p.formatContext=D,p.context=W,p.keyPath=tt,p.treeContext=vt,p.componentStack=it,q(W);return}}}}throw p.formatContext=D,p.context=W,p.keyPath=tt,p.treeContext=vt,q(W),w}function Sh(h){var p=h.blockedBoundary;h=h.blockedSegment,h!==null&&(h.status=3,Ho(this,p,h))}function zo(h,p,w,R,D,W){for(var tt=0;tt<w.length;tt++){var vt=w[tt];if(vt.length===4)zo(h,p,vt[2],vt[3],D,W);else{vt=vt[5];var it=h,ut=W,zt=hr(it,new Set,null,null);zt.parentFlushed=!0,zt.rootSegmentID=vt,zt.status=4,zt.errorDigest=ut,zt.parentFlushed&&it.clientRenderedBoundaries.push(zt)}}if(w.length=0,R!==null){if(p===null)throw Error(e(487));if(p.status!==4&&(p.status=4,p.errorDigest=W,p.parentFlushed&&h.clientRenderedBoundaries.push(p)),typeof R=="object")for(var Dt in R)delete R[Dt]}}function Pu(h,p,w){var R=h.blockedBoundary,D=h.blockedSegment;if(D!==null){if(D.status===6)return;D.status=3}if(D=fr(h.componentStack),R===null){if(p.status!==13&&p.status!==14){if(R=h.replay,R===null){Ri(p,w,D),gs(p,w);return}R.pendingTasks--,R.pendingTasks===0&&0<R.nodes.length&&(h=Ri(p,w,D),zo(p,null,R.nodes,R.slots,w,h)),p.pendingRootTasks--,p.pendingRootTasks===0&&uo(p)}}else R.pendingTasks--,R.status!==4&&(R.status=4,h=Ri(p,w,D),R.status=4,R.errorDigest=h,As(p,R),R.parentFlushed&&p.clientRenderedBoundaries.push(R)),R.fallbackAbortableTasks.forEach(function(W){return Pu(W,p,w)}),R.fallbackAbortableTasks.clear();p.allPendingTasks--,p.allPendingTasks===0&&Oa(p)}function Vn(h,p){try{var w=h.renderState,R=w.onHeaders;if(R){var D=w.headers;if(D){w.headers=null;var W=D.preconnects;if(D.fontPreloads&&(W&&(W+=", "),W+=D.fontPreloads),D.highImagePreloads&&(W&&(W+=", "),W+=D.highImagePreloads),!p){var tt=w.styles.values(),vt=tt.next();t:for(;0<D.remainingCapacity&&!vt.done;vt=tt.next())for(var it=vt.value.sheets.values(),ut=it.next();0<D.remainingCapacity&&!ut.done;ut=it.next()){var zt=ut.value,Dt=zt.props,$t=Dt.href,ie=zt.props,de=ta(ie.href,"style",{crossOrigin:ie.crossOrigin,integrity:ie.integrity,nonce:ie.nonce,type:ie.type,fetchPriority:ie.fetchPriority,referrerPolicy:ie.referrerPolicy,media:ie.media});if(0<=(D.remainingCapacity-=de.length+2))w.resets.style[$t]=xe,W&&(W+=", "),W+=de,w.resets.style[$t]=typeof Dt.crossOrigin=="string"||typeof Dt.integrity=="string"?[Dt.crossOrigin,Dt.integrity]:xe;else break t}}R(W?{Link:W}:{})}}}catch(Ee){Ri(h,Ee,{})}}function uo(h){h.trackedPostpones===null&&Vn(h,!0),h.trackedPostpones===null&&gr(h),h.onShellError=en,h=h.onShellReady,h()}function Oa(h){Vn(h,h.trackedPostpones===null?!0:h.completedRootSegment===null||h.completedRootSegment.status!==5),gr(h),h=h.onAllReady,h()}function dr(h,p){if(p.chunks.length===0&&p.children.length===1&&p.children[0].boundary===null&&p.children[0].id===-1){var w=p.children[0];w.id=p.id,w.parentFlushed=!0,w.status===1&&dr(h,w)}else h.completedSegments.push(p)}function Ho(h,p,w){if(p===null){if(w!==null&&w.parentFlushed){if(h.completedRootSegment!==null)throw Error(e(389));h.completedRootSegment=w}h.pendingRootTasks--,h.pendingRootTasks===0&&uo(h)}else p.pendingTasks--,p.status!==4&&(p.pendingTasks===0?(p.status===0&&(p.status=1),w!==null&&w.parentFlushed&&w.status===1&&dr(p,w),p.parentFlushed&&h.completedBoundaries.push(p),p.status===1&&(p.fallbackAbortableTasks.forEach(Sh,h),p.fallbackAbortableTasks.clear(),h.pendingRootTasks===0&&h.trackedPostpones===null&&p.contentPreamble!==null&&gr(h))):w!==null&&w.parentFlushed&&w.status===1&&(dr(p,w),p.completedSegments.length===1&&p.parentFlushed&&h.partialBoundaries.push(p)));h.allPendingTasks--,h.allPendingTasks===0&&Oa(h)}function Na(h){if(h.status!==14&&h.status!==13){var p=xa,w=Qt.H;Qt.H=Es;var R=Qt.A;Qt.A=Pr;var D=ai;ai=h;var W=Ji;Ji=h.resumableState;try{var tt=h.pingedTasks,vt;for(vt=0;vt<tt.length;vt++){var it=tt[vt],ut=h,zt=it.blockedSegment;if(zt===null){var Dt=ut;if(it.replay.pendingTasks!==0){q(it.context);try{if(typeof it.replay.slots=="number"?rc(Dt,it,it.replay.slots,it.node,it.childIndex):ra(Dt,it),it.replay.pendingTasks===1&&0<it.replay.nodes.length)throw Error(e(488));it.replay.pendingTasks--,it.abortSet.delete(it),Ho(Dt,it.blockedBoundary,null)}catch(Jn){Ma();var $t=Jn===ge?dn():Jn;if(typeof $t=="object"&&$t!==null&&typeof $t.then=="function"){var ie=it.ping;$t.then(ie,ie),it.thenableState=pi()}else{it.replay.pendingTasks--,it.abortSet.delete(it);var de=fr(it.componentStack);ut=void 0;var Ee=Dt,vn=it.blockedBoundary,Rn=Dt.status===12?Dt.fatalError:$t,Ve=it.replay.nodes,Hi=it.replay.slots;ut=Ri(Ee,Rn,de),zo(Ee,vn,Ve,Hi,Rn,ut),Dt.pendingRootTasks--,Dt.pendingRootTasks===0&&uo(Dt),Dt.allPendingTasks--,Dt.allPendingTasks===0&&Oa(Dt)}}finally{}}}else if(Dt=void 0,Ee=zt,Ee.status===0){Ee.status=6,q(it.context);var Xn=Ee.children.length,ji=Ee.chunks.length;try{ra(ut,it),Ee.lastPushedText&&Ee.textEmbedded&&Ee.chunks.push(Fe),it.abortSet.delete(it),Ee.status=1,Ho(ut,it.blockedBoundary,Ee)}catch(Jn){Ma(),Ee.children.length=Xn,Ee.chunks.length=ji;var Ln=Jn===ge?dn():ut.status===12?ut.fatalError:Jn;if(typeof Ln=="object"&&Ln!==null&&typeof Ln.then=="function"){Ee.status=0,it.thenableState=pi();var _e=it.ping;Ln.then(_e,_e)}else{var ke=fr(it.componentStack);it.abortSet.delete(it),Ee.status=4;var Oe=it.blockedBoundary;Dt=Ri(ut,Ln,ke),Oe===null?gs(ut,Ln):(Oe.pendingTasks--,Oe.status!==4&&(Oe.status=4,Oe.errorDigest=Dt,As(ut,Oe),Oe.parentFlushed&&ut.clientRenderedBoundaries.push(Oe),ut.pendingRootTasks===0&&ut.trackedPostpones===null&&Oe.contentPreamble!==null&&gr(ut))),ut.allPendingTasks--,ut.allPendingTasks===0&&Oa(ut)}}finally{}}}tt.splice(0,vt),h.destination!==null&&yl(h,h.destination)}catch(Jn){Ri(h,Jn,{}),gs(h,Jn)}finally{Ji=W,Qt.H=w,Qt.A=R,w===Es&&q(p),ai=D}}}function Pa(h,p,w){p.preambleChildren.length&&w.push(p.preambleChildren);for(var R=!1,D=0;D<p.children.length;D++)R=ac(h,p.children[D],w)||R;return R}function ac(h,p,w){var R=p.boundary;if(R===null)return Pa(h,p,w);var D=R.contentPreamble,W=R.fallbackPreamble;if(D===null||W===null)return!1;switch(R.status){case 1:if(Kl(h.renderState,D),p=R.completedSegments[0],!p)throw Error(e(391));return Pa(h,p,w);case 5:if(h.trackedPostpones!==null)return!0;case 4:if(p.status===1)return Kl(h.renderState,W),Pa(h,p,w);default:return!0}}function gr(h){if(h.completedRootSegment&&h.completedPreambleSegments===null){var p=[],w=ac(h,h.completedRootSegment,p),R=h.renderState.preamble;(w===!1||R.headChunks&&R.bodyChunks)&&(h.completedPreambleSegments=p)}}function Va(h,p,w,R){switch(w.parentFlushed=!0,w.status){case 0:w.id=h.nextSegmentId++;case 5:return R=w.id,w.lastPushedText=!1,w.textEmbedded=!1,h=h.renderState,Y(p,ja),Y(p,h.placeholderPrefix),h=F(R.toString(16)),Y(p,h),et(p,$a);case 1:w.status=2;var D=!0,W=w.chunks,tt=0;w=w.children;for(var vt=0;vt<w.length;vt++){for(D=w[vt];tt<D.index;tt++)Y(p,W[tt]);D=Yo(h,p,D,R)}for(;tt<W.length-1;tt++)Y(p,W[tt]);return tt<W.length&&(D=et(p,W[tt])),D;default:throw Error(e(390))}}function Yo(h,p,w,R){var D=w.boundary;if(D===null)return Va(h,p,w,R);if(D.parentFlushed=!0,D.status===4){var W=D.errorDigest;return et(p,ws),Y(p,ya),W&&(Y(p,Qr),Y(p,F(le(W))),Y(p,nn)),et(p,er),Va(h,p,w,R),(h=D.fallbackPreamble)&&va(p,h),et(p,tr)}if(D.status!==1)return D.status===0&&(D.rootSegmentID=h.nextSegmentId++),0<D.completedSegments.length&&h.partialBoundaries.push(D),to(p,h.renderState,D.rootSegmentID),R&&(D=D.fallbackState,D.styles.forEach(Nu,R),D.stylesheets.forEach(nc,R)),Va(h,p,w,R),et(p,tr);if(D.byteSize>h.progressiveChunkSize)return D.rootSegmentID=h.nextSegmentId++,h.completedBoundaries.push(D),to(p,h.renderState,D.rootSegmentID),Va(h,p,w,R),et(p,tr);if(R&&(w=D.contentState,w.styles.forEach(Nu,R),w.stylesheets.forEach(nc,R)),et(p,Dc),w=D.completedSegments,w.length!==1)throw Error(e(391));return Yo(h,p,w[0],R),(h=D.contentPreamble)&&va(p,h),et(p,tr)}function Hs(h,p,w,R){return wi(p,h.renderState,w.parentFormatContext,w.id),Yo(h,p,w,R),Ke(p,w.parentFormatContext)}function Go(h,p,w){for(var R=w.completedSegments,D=0;D<R.length;D++)La(h,p,w,R[D]);R.length=0,$r(p,w.contentState,h.renderState),R=h.resumableState,h=h.renderState,D=w.rootSegmentID,w=w.contentState;var W=h.stylesToHoist;return h.stylesToHoist=!1,Y(p,h.startInlineScript),W?(R.instructions&2)===0?(R.instructions|=10,Y(p,Oo)):(R.instructions&8)===0?(R.instructions|=8,Y(p,ar)):Y(p,jl):(R.instructions&2)===0?(R.instructions|=2,Y(p,Do)):Y(p,Kr),R=F(D.toString(16)),Y(p,h.boundaryPrefix),Y(p,R),Y(p,Nc),Y(p,h.segmentPrefix),Y(p,R),W?(Y(p,No),Ge(p,w)):Y(p,Jr),w=et(p,dl),Ls(p,h)&&w}function La(h,p,w,R){if(R.status===2)return!0;var D=w.contentState,W=R.id;if(W===-1){if((R.id=w.rootSegmentID)===-1)throw Error(e(392));return Hs(h,p,R,D)}return W===w.rootSegmentID?Hs(h,p,R,D):(Hs(h,p,R,D),w=h.resumableState,h=h.renderState,Y(p,h.startInlineScript),(w.instructions&1)===0?(w.instructions|=1,Y(p,Ir)):Y(p,kr),Y(p,h.segmentPrefix),W=F(W.toString(16)),Y(p,W),Y(p,Jl),Y(p,h.placeholderPrefix),Y(p,W),p=et(p,ko),p)}function yl(h,p){Pt=new Uint8Array(2048),mt=0;try{if(!(0<h.pendingRootTasks)){var w,R=h.completedRootSegment;if(R!==null){if(R.status===5)return;var D=h.completedPreambleSegments;if(D===null)return;var W=h.renderState,tt=W.preamble,vt=tt.htmlChunks,it=tt.headChunks,ut;if(vt){for(ut=0;ut<vt.length;ut++)Y(p,vt[ut]);if(it)for(ut=0;ut<it.length;ut++)Y(p,it[ut]);else Y(p,xn("head")),Y(p,Nn)}else if(it)for(ut=0;ut<it.length;ut++)Y(p,it[ut]);var zt=W.charsetChunks;for(ut=0;ut<zt.length;ut++)Y(p,zt[ut]);zt.length=0,W.preconnects.forEach(bi,p),W.preconnects.clear();var Dt=W.viewportChunks;for(ut=0;ut<Dt.length;ut++)Y(p,Dt[ut]);Dt.length=0,W.fontPreloads.forEach(bi,p),W.fontPreloads.clear(),W.highImagePreloads.forEach(bi,p),W.highImagePreloads.clear(),W.styles.forEach(M,p);var $t=W.importMapChunks;for(ut=0;ut<$t.length;ut++)Y(p,$t[ut]);$t.length=0,W.bootstrapScripts.forEach(bi,p),W.scripts.forEach(bi,p),W.scripts.clear(),W.bulkPreloads.forEach(bi,p),W.bulkPreloads.clear();var ie=W.hoistableChunks;for(ut=0;ut<ie.length;ut++)Y(p,ie[ut]);for(W=ie.length=0;W<D.length;W++){var de=D[W];for(tt=0;tt<de.length;tt++)Yo(h,p,de[tt],null)}var Ee=h.renderState.preamble,vn=Ee.headChunks;(Ee.htmlChunks||vn)&&Y(p,vs("head"));var Rn=Ee.bodyChunks;if(Rn)for(D=0;D<Rn.length;D++)Y(p,Rn[D]);Yo(h,p,R,null),h.completedRootSegment=null,Ls(p,h.renderState)}var Ve=h.renderState;R=0;var Hi=Ve.viewportChunks;for(R=0;R<Hi.length;R++)Y(p,Hi[R]);Hi.length=0,Ve.preconnects.forEach(bi,p),Ve.preconnects.clear(),Ve.fontPreloads.forEach(bi,p),Ve.fontPreloads.clear(),Ve.highImagePreloads.forEach(bi,p),Ve.highImagePreloads.clear(),Ve.styles.forEach(ht,p),Ve.scripts.forEach(bi,p),Ve.scripts.clear(),Ve.bulkPreloads.forEach(bi,p),Ve.bulkPreloads.clear();var Xn=Ve.hoistableChunks;for(R=0;R<Xn.length;R++)Y(p,Xn[R]);Xn.length=0;var ji=h.clientRenderedBoundaries;for(w=0;w<ji.length;w++){var Ln=ji[w];Ve=p;var _e=h.resumableState,ke=h.renderState,Oe=Ln.rootSegmentID,Jn=Ln.errorDigest;Y(Ve,ke.startInlineScript),(_e.instructions&4)===0?(_e.instructions|=4,Y(Ve,ba)):Y(Ve,Pc),Y(Ve,ke.boundaryPrefix),Y(Ve,F(Oe.toString(16))),Y(Ve,eo),Jn&&(Y(Ve,Vc),Y(Ve,F(Po(Jn||""))));var Tn=et(Ve,jr);if(!Tn){h.destination=null,w++,ji.splice(0,w);return}}ji.splice(0,w);var jn=h.completedBoundaries;for(w=0;w<jn.length;w++)if(!Go(h,p,jn[w])){h.destination=null,w++,jn.splice(0,w);return}jn.splice(0,w),bt(p),Pt=new Uint8Array(2048),mt=0;var Ba=h.partialBoundaries;for(w=0;w<Ba.length;w++){var mr=Ba[w];t:{ji=h,Ln=p;var Ys=mr.completedSegments;for(Tn=0;Tn<Ys.length;Tn++)if(!La(ji,Ln,mr,Ys[Tn])){Tn++,Ys.splice(0,Tn);var Tl=!1;break t}Ys.splice(0,Tn),Tl=$r(Ln,mr.contentState,ji.renderState)}if(!Tl){h.destination=null,w++,Ba.splice(0,w);return}}Ba.splice(0,w);var Mn=h.completedBoundaries;for(w=0;w<Mn.length;w++)if(!Go(h,p,Mn[w])){h.destination=null,w++,Mn.splice(0,w);return}Mn.splice(0,w)}}finally{h.allPendingTasks===0&&h.pingedTasks.length===0&&h.clientRenderedBoundaries.length===0&&h.completedBoundaries.length===0?(h.flushScheduled=!1,w=h.resumableState,w.hasBody&&Y(p,vs("body")),w.hasHtml&&Y(p,vs("html")),bt(p),h.status=14,p.close(),h.destination=null):bt(p)}}function pr(h){h.flushScheduled=h.destination!==null,X(function(){return Na(h)}),U(function(){h.status===10&&(h.status=11),h.trackedPostpones===null&&Vn(h,h.pendingRootTasks===0)})}function Fa(h){h.flushScheduled===!1&&h.pingedTasks.length===0&&h.destination!==null&&(h.flushScheduled=!0,U(function(){var p=h.destination;p?yl(h,p):h.flushScheduled=!1}))}function oa(h,p){if(h.status===13)h.status=14,dt(p,h.fatalError);else if(h.status!==14&&h.destination===null){h.destination=p;try{yl(h,p)}catch(w){Ri(h,w,{}),gs(h,w)}}}function Ua(h,p){(h.status===11||h.status===10)&&(h.status=12);try{var w=h.abortableTasks;if(0<w.size){var R=p===void 0?Error(e(432)):typeof p=="object"&&p!==null&&typeof p.then=="function"?Error(e(530)):p;h.fatalError=R,w.forEach(function(D){return Pu(D,h,R)}),w.clear()}h.destination!==null&&yl(h,h.destination)}catch(D){Ri(h,D,{}),gs(h,D)}}function vl(){var h=s.version;if(h!=="19.1.0")throw Error(e(527,h,"19.1.0"))}return vl(),vl(),kd.prerender=function(h,p){return new Promise(function(w,R){var D=p?p.onHeaders:void 0,W;D&&(W=function(zt){D(new Headers(zt))});var tt=Wt(p?p.identifierPrefix:void 0,p?p.unstable_externalRuntimeSrc:void 0,p?p.bootstrapScriptContent:void 0,p?p.bootstrapScripts:void 0,p?p.bootstrapModules:void 0),vt=zi(h,tt,jt(tt,void 0,p?p.unstable_externalRuntimeSrc:void 0,p?p.importMap:void 0,W,p?p.maxHeadersLength:void 0),qt(p?p.namespaceURI:void 0),p?p.progressiveChunkSize:void 0,p?p.onError:void 0,function(){var zt={prelude:new ReadableStream({type:"bytes",pull:function(Dt){oa(vt,Dt)},cancel:function(Dt){vt.destination=null,Ua(vt,Dt)}},{highWaterMark:0})};w(zt)},void 0,void 0,R,p?p.onPostpone:void 0);if(p&&p.signal){var it=p.signal;if(it.aborted)Ua(vt,it.reason);else{var ut=function(){Ua(vt,it.reason),it.removeEventListener("abort",ut)};it.addEventListener("abort",ut)}}pr(vt)})},kd.renderToReadableStream=function(h,p){return new Promise(function(w,R){var D,W,tt=new Promise(function(ie,de){W=ie,D=de}),vt=p?p.onHeaders:void 0,it;vt&&(it=function(ie){vt(new Headers(ie))});var ut=Wt(p?p.identifierPrefix:void 0,p?p.unstable_externalRuntimeSrc:void 0,p?p.bootstrapScriptContent:void 0,p?p.bootstrapScripts:void 0,p?p.bootstrapModules:void 0),zt=ur(h,ut,jt(ut,p?p.nonce:void 0,p?p.unstable_externalRuntimeSrc:void 0,p?p.importMap:void 0,it,p?p.maxHeadersLength:void 0),qt(p?p.namespaceURI:void 0),p?p.progressiveChunkSize:void 0,p?p.onError:void 0,W,function(){var ie=new ReadableStream({type:"bytes",pull:function(de){oa(zt,de)},cancel:function(de){zt.destination=null,Ua(zt,de)}},{highWaterMark:0});ie.allReady=tt,w(ie)},function(ie){tt.catch(function(){}),R(ie)},D,p?p.onPostpone:void 0,p?p.formState:void 0);if(p&&p.signal){var Dt=p.signal;if(Dt.aborted)Ua(zt,Dt.reason);else{var $t=function(){Ua(zt,Dt.reason),Dt.removeEventListener("abort",$t)};Dt.addEventListener("abort",$t)}}pr(zt)})},kd.version="19.1.0",kd}var NT;function lM(){if(NT)return ah;NT=1;var s,t;return s=aM(),t=oM(),ah.version=s.version,ah.renderToString=s.renderToString,ah.renderToStaticMarkup=s.renderToStaticMarkup,ah.renderToReadableStream=t.renderToReadableStream,t.resume&&(ah.resume=t.resume),ah}var cM=lM();function gp(s){const t=cM.renderToString(s);return new Promise(e=>{const i=new Image;i.src=`data:image/svg+xml;base64,${window.btoa(t)}`,i.onload=()=>{e(i)}})}function pp({type:s="space",moveInvaders:t}){return at.jsx("button",{className:`button-click button-click--${s}`,onClick:e=>{if(e.stopPropagation(),s==="space"){const i=new KeyboardEvent("keydown",{key:" ",code:"Space"});window.dispatchEvent(i)}},onTouchStart:e=>{s==="left"?(e.preventDefault(),t.current.left=!0):s==="right"&&(e.preventDefault(),t.current.right=!0)},onTouchEnd:e=>{s==="left"?(e.preventDefault(),t.current.left=!1):s==="right"&&(e.preventDefault(),t.current.right=!1)},children:s==="space"?at.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",version:"1.1",children:[at.jsx("title",{children:"click"}),at.jsxs("g",{id:"click",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",children:[at.jsx("rect",{width:"48",height:"48",fill:"white","fill-opacity":"0.01"}),at.jsxs("g",{id:"编组",transform:"translate(8.000000, 5.000000)",stroke:"#000000",strokeWidth:"4",children:[at.jsxs("g",{id:"分组",transform:"translate(7.000000, 7.000000)",strokeLinejoin:"round",children:[at.jsx("path",{d:"M0,14 L0,3 C0,1.34314575 1.34314575,0 3,0 C4.65685425,0 6,1.34314575 6,3 L6,14",id:"Rectangle-2"}),at.jsx("path",{d:"M24,13 L24,19.5 C24,25.8512746 18.8512746,31 12.5,31 L11.5,31 C5.14872538,31 0,25.8512746 0,19.5 L0,13",id:"Rectangle-4"}),at.jsx("path",{d:"M6,17 L6,15.1057529 L6,12 C6,10.3431458 7.34314575,9 9,9 C10.6568542,9 12,10.3431458 12,12 L12,15.1818037 L12,17",id:"Rectangle-3"}),at.jsx("path",{d:"M12,17 L12,15.1057529 L12,12 C12,10.3431458 13.3431458,9 15,9 C16.6568542,9 18,10.3431458 18,12 L18,15.1818037 L18,17",id:"Rectangle-3-Copy"}),at.jsx("path",{d:"M18,17 L18,15.1057529 L18,12 C18,10.3431458 19.3431458,9 21,9 C22.6568542,9 24,10.3431458 24,12 L24,15.1818037 L24,17",id:"Rectangle-3-Copy-2"})]}),at.jsx("path",{d:"M20,10 C20,8.94888684 19.8378284,7.93565088 19.5371411,6.98394793 C19.2008409,5.91952713 18.6912709,4.93207821 18.0415268,4.05469702 C16.2197921,1.59471942 13.2961294,0 10,0 C6.70387063,0 3.78020794,1.59471942 1.95847316,4.05469702 C1.30872911,4.93207821 0.799159071,5.91952713 0.462858909,6.98394793 C0.162171574,7.93565088 0,8.94888684 0,10",id:"路径"})]})]})]}):s==="left"?at.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:at.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z",fill:"#000000"})}):at.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",children:at.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289L16.7071 11.2929C17.0976 11.6834 17.0976 12.3166 16.7071 12.7071L9.70711 19.7071C9.31658 20.0976 8.68342 20.0976 8.29289 19.7071C7.90237 19.3166 7.90237 18.6834 8.29289 18.2929L14.5858 12L8.29289 5.70711C7.90237 5.31658 7.90237 4.68342 8.29289 4.29289Z",fill:"#000000"})})})}function uM(s,t){const e=wm(),i=e?12:8,a=e?6:8,l=e?4:8,u=t==="infinite"?0:Math.floor(s.width*.015)*2,g=Math.floor(s.width*.015)*2,y=s.width-g*2,v=l*(a-1),E=(y-v)/a,A=s.height/2.5-u*2,C=l*(i-1),N=(A-C)/i;return{linhas:i,colunas:a,espacamento:l,margemSuperior:u,margemLateral:g,larguraTijolo:E,alturaTijolo:N}}function hM({visible:s,gameState:t,mode:e,onGameOver:i}){const a=wm(),l=a?5:7,u={canvasHeigth:window.innerHeight,canvasWidth:window.innerWidth-window.innerWidth/3.5},g=5,y=["raquete_gigante","super_shot","multiball","mais_vida","explosao","barreira"],[v,E]=Ct.useState(4),[A,C]=Ct.useState(0),[N,L]=Ct.useState(Object.fromEntries(y.map(_t=>[_t,!1]))),Z=Ct.useRef(N),H=Ct.useRef(Object.fromEntries(y.map(_t=>[_t,0]))),j=Ct.useRef(null),lt=Ct.useRef(null),st=Ct.useRef([]),pt=Ct.useRef([]),J=Ct.useRef(null),rt=Ct.useRef(null),V=Ct.useRef(null),I=Ct.useRef([]),P=Ct.useRef(null),U=Ct.useRef(l),z=Ct.useRef({ativa:!1,raio:0,raioMax:200,velocidade:250}),Q=Ct.useRef({x:0,y:0}),X=Ct.useRef(0),Pt=Ct.useRef(0),{brickBreakSynth:mt,hitSynth:Y,explosionSynth:et,bigPaddleSynth:bt,powerUpDropSynth:xt,extraLifeSynth:F,multiballSynth:K,barrierSynth:dt,superShotApontar:ft,superShotFogo:It}=Tm();return Ct.useEffect(()=>{Z.current=N},[N]),Ct.useEffect(()=>{v<=0&&i(!1,A)},[v]),Ct.useEffect(()=>{const _t=lt.current,Vt=_t?.getContext("2d");if(!_t||!Vt)throw new Error("Canvas não encontrado");st.current=[],P.current=uM(_t,e),_t.height=u.canvasHeigth,_t.width=u.canvasWidth,e==="infinite"&&(async()=>{const kt=Object.values(qd).map(Zt=>gp(Zt)),Qt=await Promise.all(kt),Gt=Object.keys(qd).reduce((Zt,Jt,xe)=>({...Zt,[Jt]:Qt[xe]}),{});j.current=Gt})();let ce=null;const Bt=()=>{const kt=Math.random()*360;let Qt=0;if(st.current.length&&(Qt=st.current.reduce((Zt,Jt)=>Zt.getY<Jt.getY?Zt:Jt).getY),Qt>0&&(Qt=0),ce=null,Math.random()<.3){const Zt=Math.floor(Math.random()*y.length);ce=y[Zt]}const Gt=Math.floor(Math.random()*P.current.colunas);if(P.current)for(let Zt=0;Zt<P.current.colunas;Zt++)st.current.push(new oy(_t,(P.current.larguraTijolo+P.current.espacamento)*Zt+P.current.margemLateral,Qt-P.current.alturaTijolo-P.current.espacamento,P.current.larguraTijolo,P.current.alturaTijolo,g,Gt===Zt?ce:null,`hsl(${kt}, 50%, 50%)`))},hn=()=>{if(P.current)for(let kt=0;kt<P.current?.linhas;kt++){Math.random()<1&&e==="infinite"&&(ce=y[kt%y.length]);const Qt=Math.floor(Math.random()*P.current.colunas);for(let Gt=0;Gt<P.current.colunas;Gt++)st.current.push(new oy(_t,(P.current.larguraTijolo+P.current.espacamento)*Gt+P.current.margemLateral,(P.current.alturaTijolo+P.current.espacamento)*kt+P.current.margemSuperior,P.current.larguraTijolo,P.current.alturaTijolo,g,Qt===Gt?ce:null,`hsl(${kt*500}, 50%, 50%)`));ce=null}e==="infinite"&&Bt()},Dn=(kt,Qt)=>{const Gt=kt.getY,Zt=kt.getY+kt.getHeigth,Jt=kt.getX,xe=kt.getX+kt.getWidth,Ae=Qt.getY,He=Qt.getY+Qt.getHeigth,as=Qt.getX,Er=Qt.getX+Qt.getWidth;return!(Gt>He||Zt<Ae||xe<as||Jt>Er)};J.current=new nE(_t,_t.width/2,_t.height-_t.height*.025-(a?40:10),_t.width*(a?.25:.15),_t.height*.025),V.current=new RT(_t,J.current.getX+J.current.getWidth/2,J.current.getY,Math.floor(_t.width*.015),200,200,!1,"white",J.current,st,mt,Y,It),hn();const We=()=>{let kt=0;return st.current.forEach(Qt=>{const Gt=Qt.getX+Qt.getWidth/2,Zt=Qt.getY+Qt.getHeigth/2,Jt=Math.abs(Gt-V.current.getX),xe=Math.abs(Zt-V.current.getY);Math.sqrt(Jt**2+xe**2)<=z.current.raioMax&&(Qt.break(),++kt)}),z.current.ativa=!0,kt},le=kt=>{if(kt.key===" "){if(V.current?.getIsPresa)V.current?.lancar();else if(Z.current.explosao&&!z.current.ativa){et.current?.triggerAttackRelease("8n");const Qt=We();Qt&&C(Gt=>Gt+Qt),V.current?.freeze()}}};window.addEventListener("keydown",le);const rs=kt=>{if(e==="infinite"){U.current=U.current-kt,U.current<=0&&(U.current=l,Bt());for(let Gt=pt.current.length-1;Gt>=0;Gt--)if(pt.current[Gt].update(kt),Dn(J.current,pt.current[Gt])){const Zt=pt.current[Gt].getType;switch(pt.current.splice(Gt,1),Zt){case"raquete_gigante":bt.current?.triggerAttackRelease("C3","8n"),J.current?.activeBig(),L(Jt=>({...Jt,[Zt]:!0})),H.current[Zt]=10;break;case"mais_vida":E(Jt=>Jt!==10?Jt+1:Jt),F.current?.triggerAttackRelease("A5","0.5s");break;case"multiball":I.current.push(new RT(_t,V.current.getX,V.current.getY,V.current.getRaio,Math.random()<.5?200:-200,Math.random()<.5?200:-200,!0,`hsl(${Math.random()*360}, 75%, 75%)`,J.current,st,mt)),K.current?.triggerAttackRelease("C5","8n");break;case"super_shot":J.current?.activeSuperShot(),ft.current?.triggerAttackRelease("C2","0.5s");break;case"barreira":rt.current=new rM(_t,0,_t.height-5,_t.width,5),L(Jt=>({...Jt,[Zt]:!0})),H.current.barreira=15,dt.current?.triggerAttackRelease("C3","1s");break;case"explosao":L(Jt=>({...Jt,[Zt]:!0}));break;default:console.log("Nada")}}else pt.current[Gt].getY>_t.height&&pt.current.splice(Gt,1);Object.keys(H.current).forEach(Gt=>{const Zt=H.current;Zt[Gt]>0&&(Zt[Gt]-=kt,Zt[Gt]<=0&&(L(Jt=>({...Jt,[Gt]:!1})),Gt==="barreira"&&(rt.current=null)))});for(let Gt=I.current.length-1;Gt>=0;Gt--)I.current[Gt].update(kt,rt.current)?.evento==="copia_destruida"&&I.current.splice(Gt,1);rt.current?.update(),z.current.ativa&&(z.current.raio+=z.current.velocidade*kt,z.current.raio>z.current.raioMax&&(z.current.ativa=!1,z.current.raio=0,V.current?.prender(),L(Gt=>({...Gt,explosao:!1}))))}st.current.forEach(Gt=>{Gt.update(e==="infinite",kt,J.current)==="tijolo_chegou_no_fim"&&E(0)}),J.current?.update(Q.current.x,kt);const Qt=V.current?.update(kt,rt.current);if(Qt)switch(Qt.evento){case"vida_perdida":E(Jt=>Jt-1);break;case"tijolo_quebrado":C(Jt=>e==="infinite"?Jt+1:Jt+10);break;case"power_up":const Gt=P.current.larguraTijolo/2,Zt=P.current.alturaTijolo/2;pt.current.push(new dp(_t,Qt.infos?.posX+Gt,Qt.infos?.posY+Zt,Gt*(a?1:.5),Gt*(a?1:.5),10,Math.random()*100+100,Qt.infos?.type,j.current[Qt.infos.type])),xt.current?.triggerAttackRelease(["C4","E4","G4","C5"],"16n");break;case"super_shot_active":L(Jt=>({...Jt,super_shot:!0})),H.current={...H.current,super_shot:7};break;default:console.log("nada")}e!=="infinite"&&st.current.every(Gt=>Gt.getStatus==="quebrado")&&i(!0)},Wi=()=>{if(e==="infinite"&&(pt.current?.forEach(kt=>kt.draw()),I.current.forEach(kt=>kt.draw()),rt.current?.draw(),z.current.ativa)){Vt.save(),Vt.beginPath(),Vt.arc(V.current.getX,V.current.getY,z.current.raio,0,Math.PI*2);const kt=z.current.raio/z.current.raioMax;Vt.lineWidth=5*(1-kt),Vt.strokeStyle=`rgba(218, 165, 32, ${1-kt})`,Vt.stroke(),Vt.restore()}st.current.forEach(kt=>{kt.draw()}),J.current?.draw(),V.current?.draw()},Mt=kt=>{let Qt=0;Pt.current&&(Qt=(kt-Pt.current)/1e3),Pt.current=kt,t.current==="play"&&rs(Qt);const Gt=st.current.filter(Zt=>Zt.getStatus!=="quebrado");st.current=Gt,Vt.clearRect(0,0,_t.width,_t.height),Vt.fillStyle="rgba(13, 13, 13, 0.5)",Vt.fillRect(0,0,_t.width,_t.height),Wi(),X.current=requestAnimationFrame(Mt)};return X.current=requestAnimationFrame(Mt),()=>{X.current&&cancelAnimationFrame(X.current),window.removeEventListener("keydown",le)}},[e]),at.jsxs("div",{className:`${s?"":"hidden"} breakout`,children:[at.jsx(ky,{qtd:v,game:"breakout",position:(window.innerWidth-u.canvasWidth)/4-5}),at.jsxs("div",{className:"breakout__score",style:{left:(window.innerWidth-u.canvasWidth)/4-(a?2:5)},children:[at.jsx("p",{className:"breakout__score--title",children:"SCORE"}),at.jsx("p",{className:"breakout__score--score",children:A})]}),at.jsx(iE,{positionLeft:(window.innerWidth-u.canvasWidth)/4,powersActive:N}),a?at.jsx(pp,{type:"space"}):at.jsx(at.Fragment,{}),at.jsx("canvas",{ref:lt,className:"breakout__canvas",onMouseMove:_t=>{Q.current.x=_t.nativeEvent.offsetX},onTouchMove:_t=>{const ce=_t.currentTarget.getBoundingClientRect(),hn=_t.nativeEvent.touches[0].clientX-ce.left;Q.current.x=hn-10}})]})}class fM extends Hl{constructor(t,e,i,a,l,u,g=500,y=0,v="white"){super(t,e,i,a,l,g,y,v),this.image=u}particulas=[];isExplosao=!1;explodir(){const e=Math.PI*2/16;for(let i=0;i<16;i++){const a=e*i,l=Math.cos(a),u=Math.sin(a);this.particulas.push(new vg(this.canvas,this.centerX,this.centerY,Math.random()*4+2,l,u,`hsl(${Math.random()*60}, 100%, 50%)`))}this.isExplosao=!0}update(t,e,i){if(this.isExplosao)return this.particulas.forEach(a=>a.update(.01));e?this.x-=this.velocidadeX*t:i&&(this.x+=this.velocidadeX*t),this.x<=0?this.x=0:this.x+this.width>=this.canvas.width&&(this.x=this.canvas.width-this.width)}draw(t=!1,e=!1){this.ctx.beginPath(),this.image&&!this.isExplosao?t||e?(this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(t?-.2:.2),this.ctx.drawImage(this.image,-this.width/2,-this.heigth/2,this.width,this.heigth),this.ctx.restore()):this.ctx.drawImage(this.image,this.x,this.y,this.width,this.heigth):this.particulas.forEach(i=>i.draw())}get centerX(){return this.x+this.width/2}get centerY(){return this.y+this.heigth/2}}function dM({className:s="",fill:t="#fff"}){return at.jsx("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:t,viewBox:"0 0 218.16 218.16",xmlSpace:"preserve",children:at.jsx("path",{d:"M73.778,188.362l-37.454,5.717c-2.978,0.451-5.941-0.918-7.52-3.484L14.838,167.89c-0.779-1.267-1.135-2.709-1.094-4.144  c-0.006-0.12-0.018-0.237-0.018-0.358v-48.03c0-4.143,3.358-7.5,7.5-7.5s7.5,3.357,7.5,7.5v19.927L58.71,81.887l15.068,25.715  V188.362z M196.934,107.857c-4.143,0-7.5,3.357-7.5,7.5v19.927l-29.983-53.397l-15.068,25.716v80.76l37.454,5.717  c2.976,0.452,5.941-0.918,7.521-3.485l13.965-22.705c0.779-1.266,1.134-2.708,1.093-4.143c0.006-0.12,0.018-0.237,0.018-0.358  v-48.03C204.434,111.215,201.076,107.857,196.934,107.857z M129.383,188.679l-12.803,9.547v12.434c0,4.143-3.357,7.5-7.5,7.5  c-4.142,0-7.5-3.357-7.5-7.5v-12.434l-12.803-9.547v-83.112c0-1.333-0.355-2.642-1.029-3.792l-20.531-35.04l35.323-62.907  C103.868,1.464,106.369,0,109.08,0c2.712,0,5.212,1.464,6.54,3.828l35.323,62.907l-20.531,35.04  c-0.674,1.15-1.029,2.459-1.029,3.792V188.679z M129.348,68.613c3.194-2.636,3.647-7.363,1.012-10.559  c-0.868-1.053-8.839-10.284-21.09-10.284c-12.123,0-20.421,9.083-21.327,10.119c-2.728,3.117-2.432,7.877,0.686,10.604  c1.429,1.25,3.193,1.865,4.949,1.865c2.075,0,4.138-0.859,5.615-2.548c1.268-1.402,5.55-5.041,10.078-5.041  c5.316,0,9.519,4.831,9.519,4.831C121.426,70.796,126.153,71.249,129.348,68.613z"})})}class Dl extends Rf{constructor(t,e,i,a,l,u,g="nave",y=!1,v=!1,E=!1,A="white"){super(t,e,i,a,l,u,A),this.type=g,this.isLeft=y,this.isRigth=v,this.isCopy=E}colisaoParede(){this.getX-this.raio<=0?(this.velocidadeX*=-1,this.x=this.raio):this.getX+this.raio>=this.canvas.width&&(this.velocidadeX*=-1,this.x=this.canvas.width-this.raio),this.getY-this.raio<=0&&(this.velocidadeY*=-1,this.y=this.raio)}update(t,e=!1){this.y+=this.type==="nave"?-(this.velocidadeY*t):this.velocidadeY*t,(this.isLeft||this.isRigth)&&(this.x+=(this.isLeft?-this.velocidadeX:this.velocidadeX)*t),e&&this.colisaoParede()}draw(t=!1){t&&this.type==="nave"?this.cor=`hsl(${Math.random()*60}, 100%, 50%)`:this.cor=this._cor,super.draw()}get getType(){return this.type}get getIsCopy(){return this.isCopy}}class gM extends Hl{constructor(t,e,i,a,l,u,g,y,v,E=500,A=0,C="white"){super(t,e,i,a,l,E,A,C),this.image=u,this.frames=g,this.recortes=y,this.type=v}frameAtual=0;frameTimer=.5;_frameTimer=this.frameTimer;particulas=[];explodir(){const e=Math.PI*2/8;for(let i=0;i<8;i++){const a=i*e,l=Math.cos(a)*5,u=Math.sin(a)*5;this.particulas.push(new vg(this.canvas,this.x,this.y,3,l,u))}return this.particulas}nextFrame(){this.frameAtual=(this.frameAtual+1)%this.frames}update(t,e,i){return this.x+=e,this.y+=i,this.nextFrame(),this.x+e*2<0||this.x+this.width+e*2>this.canvas.width}draw(){this.image&&this.ctx.drawImage(this.image,this.recortes[this.frameAtual].sx,this.recortes[this.frameAtual].sy,this.recortes[this.frameAtual].sWidth,this.recortes[this.frameAtual].sHeight,this.x,this.y,this.width,this.heigth)}get getType(){return this.type}}class pM extends Iy{constructor(t,e,i,a,l=20,u="white"){super(t,e,i,u),this.raioBase=a,this.variacao=l;const g=document.createElement("canvas");g.width=(a+l)*2,g.height=(a+l)*2,this.canvasInterno=g,this.ctxInterno=g.getContext("2d",{willReadFrequently:!0});const y=12,v=Math.PI*2/y;for(let E=0;E<y;E++){const A=v*E,C=a+(Math.random()-.5)*l,N=Math.cos(A)*C,L=Math.sin(A)*C;this.vertices.x.push(N),this.vertices.y.push(L)}this.ctxInterno.beginPath(),this.ctxInterno.moveTo(this.vertices.x[0]+this.canvasInterno.width/2,this.vertices.y[0]+this.canvasInterno.height/2);for(let E=1;E<this.vertices.x.length;E++)this.ctxInterno.lineTo(this.vertices.x[E]+this.canvasInterno.width/2,this.vertices.y[E]+this.canvasInterno.height/2);this.ctxInterno.closePath(),this.ctxInterno.fillStyle=u,this.ctxInterno.fill()}vertices={x:[],y:[]};canvasInterno;ctxInterno;receberDano(t,e,i){for(let a=0;a<20;a++){const l=Math.random()*Math.PI*2,u=Math.random()*i,g=t+Math.cos(l)*u,y=e+Math.sin(l)*u;this.ctxInterno.clearRect(g,y,10,10)}}receberDanoLaser(t,e,i,a){this.ctxInterno.clearRect(t-i/2,e,i,a)}isPixel(t,e){return this.ctxInterno.getImageData(t,e,1,1).data[3]>0}draw(){this.ctx.drawImage(this.canvasInterno,this.x,this.y)}get getHeigth(){return this.canvasInterno.height}get getWidth(){return this.canvasInterno.width}get centerX(){return this.x+this.canvasInterno.width/2}get centerY(){return this.y+this.canvasInterno.height/2}}class mM extends Hl{constructor(t,e,i,a,l,u=0,g=0,y="white"){super(t,e,i,a,l,u,g,y),this.width=a,this.heigth=l,this.velocidadeX=u,this.velocidadeY=g,this.cor=y}anguloLaser=0;hue=0;update(t){this.anguloLaser+=t*10,this.hue+=10,this.hue=this.hue%360;const e=Math.sin(this.anguloLaser)*5;this.width=this._width+e}draw(){const t=this.x-this.width/2;this.ctx.beginPath();const e=this.ctx.createLinearGradient(this.x,this.y,this.x+this.width,this.y+this.heigth);for(let i=0;i<=6;i++)e.addColorStop(i*(1/6),`hsl(${(this.hue+i*60)%360}, 100%, 70%)`);this.ctx.fillStyle=e,this.ctx.fillRect(t,this.y,this.width,this.heigth)}}class _M extends Hl{constructor(t,e,i,a,l,u,g,y,v,E="white"){switch(super(t,e,i,a,l,u,g,E),this.level=y,this.ufoImage=v,y){case 1:case 2:case 3:this.timerMoviment=.2,this.yCooldown=.8,this.vida=1;break;case 4:this.timerMoviment=.4,this.yCooldown=.8,this.vida=1;break;case 5:this.timerMoviment=.6,this.vida=1.5;break;default:this.timerMoviment=.5}this._timeMoviment=this.timerMoviment;const A=this.canvas.height-this.centerY,C=this.canvas.width-this.centerX,N=Math.atan(C/A);this.maxAnguloRotacao=N+.08}status="entrando";vida=1;timerMoviment=.8;_timeMoviment;cooldownFire=1;yCooldown=0;timerShield=2;escudoAtivo=!1;anguloEscudo=0;direcao=1;tiros=[];particulasExplosao=[];danoFlash=!1;danoTimer=0;laserStatus="desligado";proximoGiro="esquerda";raioLaser=null;laserTimer=0;anguloRotacao=0;maxAnguloRotacao;oneShot(){this.tiros.push(new Dl(this.canvas,this.centerX,this.y+this.heigth,7,400,400,"alien"))}treeShot(){this.tiros.push(new Dl(this.canvas,this.centerX,this.y+this.heigth,7,400,400,"alien"),new Dl(this.canvas,this.centerX,this.y+this.heigth,7,200,400,"alien",!0),new Dl(this.canvas,this.centerX,this.y+this.heigth,7,200,400,"alien",!1,!0))}verificarColisaoEDanificar(t,e=null){const i=t.getX+t.getWidth/2,a=t.getY+t.getHeigth/2,l=i-this.centerX,u=a-this.centerY,g=l*Math.cos(-this.anguloRotacao)-u*Math.sin(-this.anguloRotacao),y=l*Math.sin(-this.anguloRotacao)+u*Math.cos(-this.anguloRotacao),v=this.raioLaser.getY,E=this.raioLaser.getY+this.raioLaser.getHeigth,A=this.raioLaser.getX,C=this.raioLaser.getX+this.raioLaser.getWidth,N=y-t.getHeigth/2,L=y+t.getHeigth/2,Z=g-t.getWidth/2,H=g+t.getWidth/2,j=!(v>L||E<N||A>H||C<Z);if(e&&j){const lt=this.raioLaser.getX-g,st=this.raioLaser.getY-y,pt=e.getWidth/2+lt,J=e.getHeigth/2+st;e.receberDanoLaser(pt,J,this.raioLaser.getWidth,this.raioLaser.getHeigth)}return j}receberDano(t){this.escudoAtivo||(this.vida-=.01*t,this.danoFlash=!0,this.danoTimer=.3)}explodir(){const e=Math.PI*2/30;for(let i=0;i<30;i++){const a=e*i,l=Math.cos(a),u=Math.sin(a);this.particulasExplosao.push(new vg(this.canvas,this.centerX,this.centerY,Math.random()*5+3,l,u,`hsl(${Math.random()*60}, 100%, 50%)`))}this.status="morto"}update(t){switch(this.status){case"entrando":this.y+=this.velocidadeY*t,this.y>=30&&(this.status="lutando");break;case"lutando":if(this.timerMoviment<=0)switch(this.laserStatus==="desligado"&&(this.timerMoviment=this._timeMoviment,this.x+=this.velocidadeX*this.direcao,(this.x+-this.velocidadeX<0||this.x+this.width+this.velocidadeX*2>=this.canvas.width)&&(this.y+=this.heigth/2,this.direcao*=-1,this.timerMoviment=this.yCooldown,this.level===3?this.cooldownFire=this.cooldownFire>0?-1:1e5:this.level===5&&(this.laserStatus="iniciar"))),this.level){case 1:this.cooldownFire<=0&&(this.oneShot(),this.cooldownFire=1);break;case 2:this.cooldownFire<=0&&(this.treeShot(),this.cooldownFire=1);break;case 3:this.cooldownFire<=0&&this.oneShot();break;case 4:this.cooldownFire<=0&&(this.treeShot(),this.cooldownFire=1),this.timerShield<=0&&(this.escudoAtivo=!this.escudoAtivo,this.escudoAtivo?this.timerShield=3:this.timerShield=5);break;case 5:this.laserStatus==="iniciar"&&this.laserTimer<=0?(this.raioLaser=new mM(this.canvas,0,this.heigth/2,this.width*.4,this.canvas.height,0,0,"cyan"),this.laserTimer=2):this.laserStatus==="girarEsquerda"?this.anguloRotacao+=.1*t:this.laserStatus==="girarDireita"?this.anguloRotacao-=.1*t:this.laserStatus==="desligado"&&(this.anguloRotacao=0),this.anguloRotacao=Math.min(this.maxAnguloRotacao,Math.max(-this.maxAnguloRotacao,this.anguloRotacao));break}}this.status==="lutando"&&(this.timerMoviment>0&&(this.timerMoviment-=t),this.cooldownFire>0&&(this.cooldownFire-=t),this.danoTimer>0&&(this.danoTimer-=t,this.danoFlash=!1),this.timerShield>0&&(this.timerShield-=t,this.escudoAtivo&&(this.anguloEscudo+=t*5)),this.laserTimer>0&&(this.laserTimer-=t,this.laserTimer<=0&&(this.laserTimer=4,this.laserStatus==="iniciar"?this.laserStatus=this.proximoGiro==="esquerda"?"girarEsquerda":"girarDireita":this.proximoGiro==="esquerda"?this.laserStatus==="girarEsquerda"?(this.laserStatus="girarDireita",this.laserTimer=6):this.laserStatus==="girarDireita"&&(this.laserStatus="desligado",this.laserTimer=0,this.raioLaser=null,this.proximoGiro="direita"):this.laserStatus==="girarDireita"?(this.laserStatus="girarEsquerda",this.laserTimer=6):this.laserStatus==="girarEsquerda"&&(this.laserStatus="desligado",this.laserTimer=0,this.raioLaser=null,this.proximoGiro="esquerda"))),this.tiros=this.tiros.filter(e=>e.getX>=0&&e.getX<=this.canvas.width&&e.getY>=0&&e.getY<=this.canvas.height)),this.particulasExplosao.forEach(e=>e.update(.01)),this.tiros.forEach(e=>e.update(t)),this.raioLaser?.update(t)}draw(){if(this.status!=="morto"){if(this.ctx.beginPath(),this.ufoImage){if(this.ctx.save(),this.danoFlash?this.ctx.globalAlpha=.5:this.ctx.globalAlpha=1,this.laserStatus!=="desligado"?(this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.anguloRotacao),this.ctx.drawImage(this.ufoImage[this.level-1],-this.width/2,-this.heigth/2,this.width,this.heigth),this.raioLaser?.draw()):this.ctx.drawImage(this.ufoImage[this.level-1],this.x,this.y,this.width,this.heigth),this.escudoAtivo){const t=this.width/2+10,e=Math.sin(this.anguloEscudo)*5,i=t+e;this.ctx.fillStyle="blue",this.ctx.shadowBlur=10,this.ctx.shadowColor="cyan",this.ctx.arc(this.centerX,this.centerY,i,0,Math.PI*2),this.ctx.stroke()}this.ctx.restore()}}else this.particulasExplosao.forEach(t=>t.draw());this.tiros.forEach(t=>t.draw())}get centerX(){return this.x+this.width/2}get centerY(){return this.y+this.heigth/2}get getTiros(){return this.tiros}get getVida(){return this.vida}get getStatus(){return this.status}get getRaioLaser(){return this.raioLaser}}function yM({fill:s="currentColor"}){return at.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.0",viewBox:"0 0 502.000000 239.000000",preserveAspectRatio:"xMidYMid meet",fill:s,children:at.jsx("g",{transform:"translate(0.000000,239.000000) scale(0.100000,-0.100000)",fill:s,stroke:"none",children:at.jsx("path",{d:"M1530 2180 l0 -150 -295 0 -295 0 0 -145 0 -144 -147 -3 -148 -3 -3 -147 -3 -148 -144 0 -145 0 0 -145 0 -144 -148 -3 -147 -3 0 -240 0 -240 293 -3 292 -2 0 -145 0 -145 150 0 150 0 0 -150 0 -150 243 2 242 3 3 148 3 147 144 0 145 0 0 145 0 145 200 0 200 0 0 -145 0 -145 393 2 392 3 3 142 3 143 194 0 195 0 0 -145 0 -145 150 0 149 0 3 -147 3 -148 240 0 240 0 3 147 3 148 144 0 145 0 0 129 c0 71 3 136 6 145 5 14 41 16 295 16 l289 0 0 245 0 245 -145 0 -144 0 -3 148 -3 147 -147 3 -148 3 0 144 0 145 -145 0 -144 0 -3 148 -3 147 -297 3 -298 2 0 145 0 145 -980 0 -980 0 0 -150z m-200 -975 l0 -145 -145 0 -145 0 0 145 0 145 145 0 145 0 0 -145z m880 0 l0 -145 -145 0 -145 0 0 145 0 145 145 0 145 0 0 -145z m890 0 l0 -145 -145 0 -145 0 0 145 0 145 145 0 145 0 0 -145z m890 0 l0 -145 -145 0 -145 0 0 145 0 145 145 0 145 0 0 -145z"})})})}function vM({visible:s,mode:t,gameState:e,onGameOver:i}){const a={canvasHeigth:window.innerHeight,canvasWidth:window.innerWidth-window.innerWidth/3.5},l=["multi_shot","super_shot","explosive_shot","ricochetear","shield","mais_vida"],u=.3,g=wm(),[y,v]=Ct.useState(!1),[E,A]=Ct.useState(3),[C,N]=Ct.useState(3),[L,Z]=Ct.useState(0),[H,j]=Ct.useState(Object.fromEntries(l.map(Mt=>[Mt,!1]))),[lt,st]=Ct.useState(1),[pt,J]=Ct.useState(!1),rt=Ct.useRef(null),V=Ct.useRef(null),I=Ct.useRef(null),P=Ct.useRef([]),U=Ct.useRef([]),z=Ct.useRef([[]]),Q=Ct.useRef([]),X=Ct.useRef([]),Pt=Ct.useRef(null),mt=Ct.useRef([]),Y=Ct.useRef(null),et=Ct.useRef(null),bt=Ct.useRef({left:!1,right:!1}),xt=Ct.useRef({timer:.8,movendo:0,y:0,descendo:!1,velocidade:50,direcao:1}),F=Ct.useRef(H),K=Ct.useRef(u),dt=Ct.useRef(C),ft=Ct.useRef(0),It=Ct.useRef(0),_t=Ct.useRef(0),Vt=Ct.useRef(1),ce=Ct.useRef(1),Bt=Ct.useRef("invasao"),hn=Ct.useRef(!1),{playerShootSynth:Dn,bossAppearanceSynth:We,alienExplosionSound:le,bigExplosionSound:rs,powerUpDropSynth:Wi}=Tm();return Ct.useEffect(()=>{F.current=H},[H]),Ct.useEffect(()=>{dt.current=C,C<=0&&j(Mt=>({...Mt,shield:!1}))},[C]),Ct.useEffect(()=>{E<=0&&(V.current.explodir(),rs(),setTimeout(()=>i(!1,L),1500))},[E]),Ct.useEffect(()=>{(async()=>{const Mt=new Image;Mt.src="./space_invaders_sprite_sheet.png",await new Promise(Jt=>{Mt.onload=()=>{Pt.current=Mt,Jt("Foi")}});const kt=await gp(at.jsx(dM,{}));et.current=kt;const Qt=["#FF0000","#FFFF00","#FF00FF","#00FFFF","#DC143C"].map(Jt=>gp(at.jsx(yM,{fill:Jt})));mt.current=await Promise.all(Qt);const Gt=l.map(Jt=>gp(qd[Jt])),Zt=await Promise.all(Gt);Y.current=Object.fromEntries(l.map((Jt,xe)=>[Jt,Zt[xe]])),v(!0)})()},[]),Ct.useEffect(()=>{const Mt=rt.current,kt=Mt?.getContext("2d");if(!Mt||!kt)throw new Error("Canvas não encontrado");Mt.width=a.canvasWidth,Mt.height=a.canvasHeigth,xt.current.velocidade=Mt.width*.015,xt.current.y=Mt.width*.03;const Qt={largura:Mt.width*.06,altura:Mt.width*.06};V.current=new fM(Mt,Mt.width/2-Qt.largura,Mt.height-Qt.altura-10,Qt.largura,Qt.altura,et.current,g?300:500);const Gt={width:Mt.width*.2,height:Mt.width*.1,velocidadeX:Mt.width*.02,velocidadeY:Mt.width*.09};I.current=new _M(Mt,Mt.width/2-Gt.width/2,-Gt.height,Gt.width,Gt.height,Gt.velocidadeX,Gt.velocidadeY,lt,mt.current);const Zt={alien1:[{sx:400,sy:477,sWidth:64,sHeight:64},{sx:502,sy:478,sWidth:64,sHeight:64}],alien2:[{sx:387,sy:581,sWidth:88,sHeight:64},{sx:491,sy:581,sWidth:88,sHeight:64}],alien3:[{sx:374,sy:688,sWidth:96,sHeight:64},{sx:488,sy:689,sWidth:96,sHeight:64}]};(()=>{z.current=[];const jt=g?8:5,Wt=11,Yt=30,ne=g?5:10,qt=g?13:25,ue=Mt.width*(g?.03:.025);for(let Fe=0;Fe<jt;Fe++){let De,On=1;switch(Fe){case 0:De=Zt.alien1,On=3;break;case 1:case 2:De=Zt.alien2,On=2;break;default:De=Zt.alien3,On=1}const Ps=[];for(let os=0;os<Wt;os++)Ps.push(new gM(Mt,(ue+qt)*os+ne,(ue+qt/2)*Fe+Yt,ue,ue,Pt.current,2,De,On));z.current.push(Ps)}})(),xt.current.movendo=z.current.length-1;const xe=z.current.reduce((jt,Wt)=>jt+Wt.length,0);(()=>{P.current=[];const jt=g?4:5;for(let Wt=0;Wt<jt;Wt++)P.current.push(new pM(Mt,Mt.width/jt*Wt+10,Mt.height/2,g?20:40,g?10:20,`hsl(0, 0%, ${Math.random()*40+20}%)`))})();const He=(jt,Wt)=>{const Yt=jt.getY-jt.getRaio,ne=jt.getY+jt.getRaio,qt=jt.getX-jt.getRaio,ue=jt.getX+jt.getRaio,Fe=Wt.getY,De=Wt.getY+Wt.getHeigth,On=Wt.getX,Ps=Wt.getX+Wt.getWidth;return!(Yt>De||ne<Fe||ue<On||qt>Ps)},as=(jt,Wt)=>{const Yt=jt.getY,ne=jt.getY+jt.getHeigth,qt=jt.getX,ue=jt.getX+jt.getWidth,Fe=Wt.getY,De=Wt.getY+Wt.getHeigth,On=Wt.getX,Ps=Wt.getX+Wt.getWidth;return!(Yt>De||ne<Fe||ue<On||qt>Ps)},Er=jt=>{const Wt=new Map;return jt.forEach(Yt=>{Yt.forEach(ne=>{const qt=ne.getX;Wt.set(qt,ne)})}),Wt},Re=()=>{const jt=Math.random();return jt<.2?"super_shot":jt<.35?"explosive_shot":jt<.45?"ricochetear":jt<.55?"multi_shot":jt<.65?"shield":"mais_vida"},Ye=(jt,Wt,Yt)=>{const ne=Math.PI*2/jt,qt=[];for(let ue=0;ue<jt;ue++){const Fe=ue*ne,De=Math.cos(Fe)*100,On=Math.sin(Fe)*100;qt.push(new Dl(Mt,Wt,Yt,g?2:3,De,On,"nave",!0,!0,!0,`hsl(${Math.random()*60}, 100%, 50%)`))}U.current.push(...qt)},ki=jt=>{jt.key==="ArrowLeft"?bt.current.left=!0:jt.key==="ArrowRight"&&(bt.current.right=!0),jt.key===" "&&_t.current<=0&&!hn.current&&(F.current.multi_shot?U.current.push(new Dl(Mt,V.current.centerX,V.current.centerY,g?2:3,400,400,"nave"),new Dl(Mt,V.current.centerX,V.current.centerY,g?2:3,100,400,"nave",!0),new Dl(Mt,V.current.centerX,V.current.centerY,g?2:3,100,400,"nave",!1,!0)):U.current.push(new Dl(Mt,V.current.centerX,V.current.centerY,g?2:3,400,400,"nave",bt.current.left,bt.current.right)),Dn.current?.triggerAttackRelease("C2","16n"),_t.current=K.current)},Cn=jt=>{jt.key==="ArrowLeft"&&(bt.current.left=!1),jt.key==="ArrowRight"&&(bt.current.right=!1)};window.addEventListener("keydown",ki),window.addEventListener("keyup",Cn);const Hn={width:Mt.width*(g?.06:.03),height:Mt.width*(g?.06:.03),velocidade:150},Wr=jt=>{if(_t.current>0&&(_t.current-=jt),xt.current.timer>0&&(xt.current.timer-=jt),Vt.current>0&&(Vt.current-=jt),V.current?.update(jt,bt.current.left,bt.current.right),xt.current.timer<=0&&Bt.current==="invasao"){const Wt=xt.current.direcao*xt.current.velocidade;z.current[xt.current.movendo].forEach(ne=>{const qt=ne.update(jt,Wt,0);ne.getY+ne.getHeigth>=V.current.getY&&A(-1),qt&&(xt.current.descendo=!0)}),xt.current.movendo=(xt.current.movendo-1+z.current.length)%z.current.length,xt.current.descendo&&xt.current.movendo===z.current.length-1&&(xt.current.direcao*=-1,z.current.forEach(ne=>ne.forEach(qt=>qt.update(jt,0,xt.current.y))),xt.current.descendo=!1);const Yt=z.current.reduce((ne,qt)=>qt.length+ne,0)/xe;if(xt.current.movendo===z.current.length-1){if(xt.current.timer=-.1*Yt,Vt.current<=0){const ne=Array.from(Er(z.current).values()),qt=ne[Math.floor(Math.random()*ne.length)];U.current.push(new Dl(Mt,qt.getX+qt.getWidth/2,qt.getY+qt.getHeigth/2,g?2:3,10,100,"alien")),Vt.current=1*ce.current}}else xt.current.timer=.08*Yt*ce.current}if(Bt.current==="boss_fight"&&(I.current?.update(jt),I.current.getY+I.current.getHeigth>=V.current.getY&&A(-1),!hn.current&&I.current?.getStatus==="entrando"?(J(!0),hn.current=!0):hn.current&&I.current?.getStatus!=="entrando"&&(hn.current=!1,J(!1)),I.current?.getRaioLaser)){!F.current.shield&&I.current.verificarColisaoEDanificar(V.current)&&A(-10);for(let Wt=0;Wt<P.current.length;Wt++){const Yt=P.current[Wt];I.current.verificarColisaoEDanificar(Yt,Yt)}}z.current.forEach(Wt=>Wt.forEach(Yt=>{for(let ne=0;ne<P.current.length;ne++){const qt=P.current[ne];if(as(Yt,qt)){const ue=Yt.getX-qt.getX,Fe=Yt.getY-qt.getY;qt.receberDano(ue,Fe,Yt.getHeigth*1.5);break}}}));for(let Wt=0;Wt<P.current.length;Wt++){const Yt=P.current[Wt];if(as(I.current,Yt)){const ne=I.current.centerX-Yt.getX,qt=I.current.getY+I.current.getHeigth-Yt.getY;Yt.receberDano(ne,qt,I.current.getWidth*.4);break}}for(let Wt=X.current.length-1;Wt>=0;Wt--)X.current[Wt].update(.1),X.current[Wt].getVida<0&&X.current.splice(Wt,1);for(let Wt=U.current.length-1;Wt>=0;Wt--){const Yt=U.current[Wt];Yt.update(jt,F.current.ricochetear);let ne=!1;for(let qt=0;qt<P.current.length;qt++){const ue=P.current[qt];if(He(Yt,ue)){const Fe=Yt.getX-ue.getX,De=Yt.getY-ue.getY;if(ue.isPixel(Fe,De)){ue.receberDano(Fe,De,Yt.getRaio*4),U.current.splice(Wt,1),ne=!0;break}continue}}if(ne)break;if(Yt.getType==="nave"){for(const qt of z.current){ne=!1;for(let ue=qt.length-1;ue>=0;ue--)if(Bt.current==="invasao"&&He(Yt,qt[ue])){ne=!0;const Fe=qt[ue].getType;if(Math.random()<.1&&!Q.current.length){const De=Re();Q.current.push(new dp(Mt,qt[ue].getX,qt[ue].getY,Hn.width,Hn.height,Hn.velocidade,Hn.velocidade,De,Y.current[De])),Wi.current?.triggerAttackRelease(["C4","E4","G4","C5"],"16n")}if(F.current.explosive_shot&&!Yt.getIsCopy&&Ye(6,Yt.getX,Yt.getY),(!F.current.super_shot||Yt.getIsCopy)&&U.current.splice(Wt,1),Z(De=>Fe+De),X.current.push(...qt[ue].explodir()),qt.splice(ue,1),le(),!z.current.reduce((De,On)=>De+On.length,0)){Bt.current="boss_fight";const De=l[Math.floor(Math.random()*l.length)];Q.current.push(new dp(Mt,Mt.width/2-Hn.width,Mt.height/2-Hn.height,Hn.width,Hn.height,Hn.velocidade,Hn.velocidade,De,Y.current[De])),Wi.current?.triggerAttackRelease(["C4","E4","G4","C5"],"16n"),U.current=[],We.current?.triggerAttackRelease("A1","2s")}break}if(ne)break}if(ne)break;if(Bt.current==="boss_fight"&&He(Yt,I.current)){F.current.explosive_shot&&!Yt.getIsCopy&&Ye(6,Yt.getX,Yt.getY+10),U.current.splice(Wt,1);let qt=1;F.current.super_shot&&F.current.explosive_shot?qt=2.5:F.current.super_shot&&(qt=3.5),I.current?.receberDano(qt),I.current.getVida<=0&&I.current.getStatus!=="morto"&&(I.current?.explodir(),rs(),Array.from({length:2}).forEach(()=>{const ue=l[Math.floor(Math.random()*l.length)];Q.current.push(new dp(Mt,Mt.width*Math.random(),Mt.height/2-Hn.height,Hn.width,Hn.height,Hn.velocidade,Hn.velocidade,ue,Y.current[ue]))}),Wi.current?.triggerAttackRelease(["C4","E4","G4","C5"],"16n"),Z(ue=>ue+100),setTimeout(()=>{st(ue=>ue+1===6?(ce.current-=ce.current>.8?.05:0,1):ue+1),Bt.current="invasao",U.current=[]},3e3));break}}else if(He(Yt,V.current)){U.current.splice(Wt,1),F.current.shield&&dt.current>0?N(qt=>qt-1):(A(qt=>qt-1),j(()=>Object.fromEntries(l.map(qt=>[qt,!1]))),K.current=u);break}}for(let Wt=I.current.getTiros.length-1;Wt>=0;Wt--){let Yt=I.current.getTiros[Wt],ne=!1;if(He(Yt,V.current)){I.current.getTiros.splice(Wt,1),F.current.shield&&dt.current>0?N(qt=>qt-1):(A(qt=>qt-2),j(()=>Object.fromEntries(l.map(qt=>[qt,!1]))),K.current=u);break}else for(let qt=0;qt<P.current.length;qt++){const ue=P.current[qt];if(He(Yt,ue)){const Fe=Yt.getX-ue.getX,De=Yt.getY-ue.getY;if(ue.isPixel(Fe,De)){ue.receberDano(Fe,De,Yt.getRaio*4),I.current.getTiros.splice(Wt,1),ne=!0;break}}}if(ne)break}for(let Wt=Q.current.length-1;Wt>=0;Wt--){const Yt=Q.current[Wt];if(Yt.update(jt),as(Yt,V.current)){const ne=Yt.getType;switch(ne){case"mais_vida":A(qt=>qt+1<11?qt+1:10);break;case"multi_shot":case"ricochetear":j(qt=>({...qt,[ne]:!0}));break;case"explosive_shot":case"super_shot":j(qt=>({...qt,[ne]:!0})),U.current=U.current.filter(qt=>qt.getType==="alien"||qt.getIsCopy),K.current=1.3;break;case"shield":N(3),j(qt=>({...qt,[ne]:!0}));break}Q.current.splice(Wt,1);break}}},Sr=()=>{V.current?.draw(bt.current.left,bt.current.right),Bt.current==="invasao"&&z.current?.forEach(jt=>jt.forEach(Wt=>Wt.draw())),Bt.current==="boss_fight"&&I.current?.draw(),X.current.forEach(jt=>jt.draw()),U.current.forEach(jt=>jt.draw(F.current.super_shot)),P.current.forEach(jt=>jt.draw()),Q.current.forEach(jt=>jt.draw())},Ns=jt=>{let Wt=0;It.current&&(Wt=(jt-It.current)/1e3),It.current=jt,e.current==="play"&&Wr(Wt),U.current=U.current.filter(Yt=>Yt.getY>=0&&Yt.getX>=0&&Yt.getX<=Mt.width&&Yt.getY<=Mt.height),Q.current=Q.current.filter(Yt=>Yt.getY<Mt.height),kt.clearRect(0,0,Mt.width,Mt.height),kt.fillStyle="black",kt.fillRect(0,0,Mt.width,Mt.height),Sr(),ft.current=requestAnimationFrame(Ns)};return ft.current=requestAnimationFrame(Ns),()=>{cancelAnimationFrame(ft.current),window.removeEventListener("keydown",ki),window.removeEventListener("keyup",Cn)}},[t,y,lt]),at.jsxs("div",{className:`${s?"":"hidden"} ${pt?"invaders--boss-comming":""} invaders`,children:[at.jsxs("div",{className:"invaders__score",style:{left:(window.innerWidth-a.canvasWidth)/4},children:[at.jsx("p",{className:"invaders__score--title",children:"Score"}),at.jsx("p",{className:"invaders__score--pontos",children:L})]}),at.jsx(ky,{game:"invaders",qtd:E,position:(window.innerWidth-a.canvasWidth)/4}),at.jsx(iE,{positionLeft:(window.innerWidth-a.canvasWidth)/4,powersActive:H,shieldInvaders:C}),g?at.jsxs("div",{className:"invaders__buttons",children:[at.jsx(pp,{type:"left",moveInvaders:bt}),at.jsx(pp,{type:"right",moveInvaders:bt}),at.jsx(pp,{type:"space"})]}):at.jsx(at.Fragment,{}),at.jsx("canvas",{ref:rt})]})}function TM({currentGame:s="",isRanking:t=!1}){return at.jsx("h1",{className:`title title--${s.toLowerCase()} ${t?"title--ranking":""}`,children:s.toUpperCase()})}function wM({className:s=""}){return at.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 40",className:`esc-icon ${s}`,fill:"currentColor",onClick:t=>{t.stopPropagation();const e=new KeyboardEvent("keydown",{key:"Escape",code:"Escape"});window.dispatchEvent(e)},children:[at.jsx("rect",{x:"2",y:"2",width:"56",height:"36",rx:"6",ry:"6",fill:"#ffffff00",stroke:"#fff",strokeWidth:"2"}),at.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Arial, sans-serif",fontSize:"16",fill:"#fff",children:"ESC"})]})}class bM extends Rf{update(){this.y+=this.velocidadeY,this.x+=Math.random()*(this.velocidadeX*2)-this.velocidadeX,this.y>this.canvas.height&&(this.y=0)}}class EM extends Hl{update(t){this.y+=this.velocidadeY*t,this.x+=this.velocidadeX*t,this.x>this.canvas.width&&(this.x=0),this.y>=this.canvas.height&&(this.y=0,this.x=this._x)}}class SM extends Rf{pulseAngle=Math.random()*Math.PI*2;update(t){this.y+=this.velocidadeY*t,this.y>=this.canvas.height&&(this.y=0),this.pulseAngle+=t*5}draw(){const t=Math.sin(this.pulseAngle),e=(t+1)/2*.5+.5,i=(t+1)/2*5+5;this.ctx.save(),this.ctx.globalAlpha=e,this.ctx.shadowBlur=i,this.ctx.shadowColor="cyan",super.draw(),this.ctx.restore()}}function AM(s){const a=(s.width-90)/10,l=a*.3;return{linhas:Math.ceil(s.height/(l+10)),colunas:10,espacamento:10,larguraTijolo:a,alturaTijolo:l}}function CM({type:s,state:t}){const e=Ct.useRef(null),i=Ct.useRef(0),a=Ct.useRef(0),l=Ct.useRef([]),u=Ct.useRef([]),g=Ct.useRef(null),y=Ct.useRef(null),v=Ct.useRef(null),E=Ct.useRef([]),A=Ct.useRef(null),C=Ct.useRef(null),N=Ct.useRef([]),L=70,Z=150;return Ct.useEffect(()=>{const H=e.current,j=H?.getContext("2d");if(!H||!j)throw new Error("Canvas Não Encontrado");H.height=window.innerHeight,H.width=window.innerWidth;const lt=()=>{let U=0;E.current.length&&(U=E.current.reduce((mt,Y)=>Y.getY<mt.getY?Y:mt).getY),U>0&&(U=0);const z=C.current.espacamento,Q=C.current.colunas,X=C.current.larguraTijolo,Pt=C.current.alturaTijolo;for(let mt=0;mt<Q;mt++)E.current.push(new oy(H,(X+z)*mt,U-Pt-z,X,Pt,20,null,`hsl(${Math.random()*120+180}, 80%, 60%)`))},st=()=>{N.current=[];for(let U=0;U<150;U++){const z=Math.random(),Q=z*3,X=z*30;N.current?.push(new SM(H,Math.random()*H.width,Math.random()*H.height,Q,X,X))}};if(t==="game-over-vitoria")for(let U=0;U<L;U++)l.current.push(new bM(H,Math.random()*H.width,Math.random()*H.height,Math.random()*5+1,Math.random()+1,Math.random()+1.3,`hsl(${Math.random()*360},50%, 50%)`));else if(t==="game-over-derrota")for(let U=0;U<Z;U++)u.current.push(new EM(H,Math.random()*H.width,Math.random()*H.height,Math.random()*2,Math.random()*10+10,50,Math.random()*300+300,"rgba(255, 255, 255, 0.5)"));else if(s==="Pong")y.current=new bp(H,0,H.height/2,20,H.height/3,!1,"rgba(255, 255, 255,0)"),v.current=new bp(H,H.width-20,H.height/2,20,H.height/3,!0,"rgba(255, 255, 255,0)"),g.current=new Xw(H,y.current.getX+10,Math.random()*H.height,15,100,100,"rgba(255, 255, 255,0.1)",y.current,v.current);else if(s==="Breakout"){E.current=[],C.current=AM(H),A.current=new nE(H,H.width/2,H.height,H.width,10,0,0,"rgba(0,0,0,0)");for(let U=-2;U<=C.current.linhas;U++)lt()}else s==="Invaders"&&st();const pt=()=>{l.current.forEach(U=>{U.update(),U.draw()})},J=U=>{u.current.forEach(z=>{z.update(U),z.draw()})},rt=U=>{t==="game-over-vitoria"?pt():t==="game-over-derrota"?J(U):(y.current?.update(g.current.getY,U),v.current?.update(g.current.getY,U),g.current?.update(U),y.current?.draw(g.current,!1,!1,""),v.current?.draw(g.current,!1,!1,""),g.current?.draw("dark"))},V=U=>{if(t==="game-over-vitoria")pt();else if(t==="game-over-derrota")J(U);else{let z=!1;for(let Q=E.current.length-1;Q>=0;Q--){const X=E.current[Q].update(!0,U,A.current);E.current[Q].draw(),X&&(E.current.splice(Q,1),z=!0)}z&&lt()}},I=U=>{N.current?.forEach(z=>{z.update(U),z.draw()})},P=U=>{t!=="ranking"||s==="Invaders"?(j.clearRect(0,0,H.width,H.height),j.fillStyle="black"):j.fillStyle="rgba(0, 0, 0, 0.1)",j.fillRect(0,0,H.width,H.height);let z=0;switch(a.current&&(z=(U-a.current)/1e3),a.current=U,s){case"Pong":rt(z);break;case"Breakout":V(z);break;case"Invaders":I(z);break}i.current=requestAnimationFrame(P)};return i.current=requestAnimationFrame(P),()=>{cancelAnimationFrame(i.current)}},[]),at.jsx("canvas",{ref:e,id:"game-over-effects"})}const xM=()=>{};var PT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=function(s){const t=[];let e=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},RM=function(s){const t=[];let e=0,i=0;for(;e<s.length;){const a=s[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=s[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=s[e++],u=s[e++],g=s[e++],y=((a&7)<<18|(l&63)<<12|(u&63)<<6|g&63)-65536;t[i++]=String.fromCharCode(55296+(y>>10)),t[i++]=String.fromCharCode(56320+(y&1023))}else{const l=s[e++],u=s[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},rE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<s.length;a+=3){const l=s[a],u=a+1<s.length,g=u?s[a+1]:0,y=a+2<s.length,v=y?s[a+2]:0,E=l>>2,A=(l&3)<<4|g>>4;let C=(g&15)<<2|v>>6,N=v&63;y||(N=64,u||(C=64)),i.push(e[E],e[A],e[C],e[N])}return i.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(sE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):RM(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<s.length;){const l=e[s.charAt(a++)],g=a<s.length?e[s.charAt(a)]:0;++a;const v=a<s.length?e[s.charAt(a)]:64;++a;const A=a<s.length?e[s.charAt(a)]:64;if(++a,l==null||g==null||v==null||A==null)throw new MM;const C=l<<2|g>>4;if(i.push(C),v!==64){const N=g<<4&240|v>>2;if(i.push(N),A!==64){const L=v<<6&192|A;i.push(L)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class MM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IM=function(s){const t=sE(s);return rE.encodeByteArray(t,!0)},Lp=function(s){return IM(s).replace(/\./g,"")},kM=function(s){try{return rE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=()=>DM().__FIREBASE_DEFAULTS__,NM=()=>{if(typeof process>"u"||typeof PT>"u")return;const s=PT.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PM=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&kM(s[1]);return t&&JSON.parse(t)},R0=()=>{try{return xM()||OM()||NM()||PM()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},VM=s=>R0()?.emulatorHosts?.[s],LM=s=>{const t=VM(s);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},aE=()=>R0()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UM(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=s.iat||0,l=s.sub||s.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Lp(JSON.stringify(e)),Lp(JSON.stringify(u)),""].join(".")}const Vd={};function zM(){const s={prod:[],emulator:[]};for(const t of Object.keys(Vd))Vd[t]?s.emulator.push(t):s.prod.push(t);return s}function HM(s){let t=document.getElementById(s),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),e=!0),{created:e,element:t}}let VT=!1;function YM(s,t){if(typeof window>"u"||typeof document>"u"||!M0(window.location.host)||Vd[s]===t||Vd[s]||VT)return;Vd[s]=t;function e(C){return`__firebase__banner__${C}`}const i="__firebase__banner",l=zM().prod.length>0;function u(){const C=document.getElementById(i);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,N){C.setAttribute("width","24"),C.setAttribute("id",N),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{VT=!0,u()},C}function E(C,N){C.setAttribute("id",N),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=HM(i),N=e("text"),L=document.getElementById(N)||document.createElement("span"),Z=e("learnmore"),H=document.getElementById(Z)||document.createElement("a"),j=e("preprendIcon"),lt=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const st=C.element;g(st),E(H,Z);const pt=v();y(lt,j),st.append(lt,L,H,pt),document.body.appendChild(st)}l?(L.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XM(){const s=R0()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WM(){return!XM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qM(){try{return typeof indexedDB=="object"}catch{return!1}}function QM(){return new Promise((s,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),s(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="FirebaseError";class Vf extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=ZM,Object.setPrototypeOf(this,Vf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oE.prototype.create)}}class oE{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?KM(l,i):"Error",g=`${this.serviceName}: ${u} (${a}).`;return new Vf(a,g,i)}}function KM(s,t){return s.replace(JM,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const JM=/\{\$([^}]+)}/g;function Fp(s,t){if(s===t)return!0;const e=Object.keys(s),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=s[a],u=t[a];if(LT(l)&&LT(u)){if(!Fp(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function LT(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(s){return s&&s._delegate?s._delegate:s}class Qd{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new FM;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tI(t))try{this.getOrInitializeService({instanceIdentifier:oh})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=oh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oh){return this.instances.has(t)}getOptions(t=oh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(l);i===g&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$M(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=oh){return this.component?this.component.multipleInstances?t:oh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $M(s){return s===oh?void 0:s}function tI(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new jM(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(an||(an={}));const nI={debug:an.DEBUG,verbose:an.VERBOSE,info:an.INFO,warn:an.WARN,error:an.ERROR,silent:an.SILENT},iI=an.INFO,sI={[an.DEBUG]:"log",[an.VERBOSE]:"log",[an.INFO]:"info",[an.WARN]:"warn",[an.ERROR]:"error"},rI=(s,t,...e)=>{if(t<s.logLevel)return;const i=new Date().toISOString(),a=sI[t];if(a)console[a](`[${i}]  ${s.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lE{constructor(t){this.name=t,this._logLevel=iI,this._logHandler=rI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in an))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,an.DEBUG,...t),this._logHandler(this,an.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,an.VERBOSE,...t),this._logHandler(this,an.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,an.INFO,...t),this._logHandler(this,an.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,an.WARN,...t),this._logHandler(this,an.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,an.ERROR,...t),this._logHandler(this,an.ERROR,...t)}}const aI=(s,t)=>t.some(e=>s instanceof e);let FT,UT;function oI(){return FT||(FT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lI(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,ly=new WeakMap,uE=new WeakMap,z_=new WeakMap,I0=new WeakMap;function cI(s){const t=new Promise((e,i)=>{const a=()=>{s.removeEventListener("success",l),s.removeEventListener("error",u)},l=()=>{e(mu(s.result)),a()},u=()=>{i(s.error),a()};s.addEventListener("success",l),s.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&cE.set(e,s)}).catch(()=>{}),I0.set(t,s),t}function uI(s){if(ly.has(s))return;const t=new Promise((e,i)=>{const a=()=>{s.removeEventListener("complete",l),s.removeEventListener("error",u),s.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",l),s.addEventListener("error",u),s.addEventListener("abort",u)});ly.set(s,t)}let cy={get(s,t,e){if(s instanceof IDBTransaction){if(t==="done")return ly.get(s);if(t==="objectStoreNames")return s.objectStoreNames||uE.get(s);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return mu(s[t])},set(s,t,e){return s[t]=e,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hI(s){cy=s(cy)}function fI(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=s.call(H_(this),t,...e);return uE.set(i,t.sort?t.sort():[t]),mu(i)}:lI().includes(s)?function(...t){return s.apply(H_(this),t),mu(cE.get(this))}:function(...t){return mu(s.apply(H_(this),t))}}function dI(s){return typeof s=="function"?fI(s):(s instanceof IDBTransaction&&uI(s),aI(s,oI())?new Proxy(s,cy):s)}function mu(s){if(s instanceof IDBRequest)return cI(s);if(z_.has(s))return z_.get(s);const t=dI(s);return t!==s&&(z_.set(s,t),I0.set(t,s)),t}const H_=s=>I0.get(s);function gI(s,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(s,t),g=mu(u);return i&&u.addEventListener("upgradeneeded",y=>{i(mu(u.result),y.oldVersion,y.newVersion,mu(u.transaction),y)}),e&&u.addEventListener("blocked",y=>e(y.oldVersion,y.newVersion,y)),g.then(y=>{l&&y.addEventListener("close",()=>l()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const pI=["get","getKey","getAll","getAllKeys","count"],mI=["put","add","delete","clear"],Y_=new Map;function BT(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Y_.get(t))return Y_.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=mI.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||pI.includes(e)))return;const l=async function(u,...g){const y=this.transaction(u,a?"readwrite":"readonly");let v=y.store;return i&&(v=v.index(g.shift())),(await Promise.all([v[e](...g),a&&y.done]))[0]};return Y_.set(t,l),l}hI(s=>({...s,get:(t,e,i)=>BT(t,e)||s.get(t,e,i),has:(t,e)=>!!BT(t,e)||s.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(yI(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function yI(s){return s.getComponent()?.type==="VERSION"}const uy="@firebase/app",zT="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new lE("@firebase/app"),vI="@firebase/app-compat",TI="@firebase/analytics-compat",wI="@firebase/analytics",bI="@firebase/app-check-compat",EI="@firebase/app-check",SI="@firebase/auth",AI="@firebase/auth-compat",CI="@firebase/database",xI="@firebase/data-connect",RI="@firebase/database-compat",MI="@firebase/functions",II="@firebase/functions-compat",kI="@firebase/installations",DI="@firebase/installations-compat",OI="@firebase/messaging",NI="@firebase/messaging-compat",PI="@firebase/performance",VI="@firebase/performance-compat",LI="@firebase/remote-config",FI="@firebase/remote-config-compat",UI="@firebase/storage",BI="@firebase/storage-compat",zI="@firebase/firestore",HI="@firebase/ai",YI="@firebase/firestore-compat",GI="firebase",XI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="[DEFAULT]",WI={[uy]:"fire-core",[vI]:"fire-core-compat",[wI]:"fire-analytics",[TI]:"fire-analytics-compat",[EI]:"fire-app-check",[bI]:"fire-app-check-compat",[SI]:"fire-auth",[AI]:"fire-auth-compat",[CI]:"fire-rtdb",[xI]:"fire-data-connect",[RI]:"fire-rtdb-compat",[MI]:"fire-fn",[II]:"fire-fn-compat",[kI]:"fire-iid",[DI]:"fire-iid-compat",[OI]:"fire-fcm",[NI]:"fire-fcm-compat",[PI]:"fire-perf",[VI]:"fire-perf-compat",[LI]:"fire-rc",[FI]:"fire-rc-compat",[UI]:"fire-gcs",[BI]:"fire-gcs-compat",[zI]:"fire-fst",[YI]:"fire-fst-compat",[HI]:"fire-vertex","fire-js":"fire-js",[GI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up=new Map,qI=new Map,fy=new Map;function HT(s,t){try{s.container.addComponent(t)}catch(e){Cc.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,e)}}function Bp(s){const t=s.name;if(fy.has(t))return Cc.debug(`There were multiple attempts to register component ${t}.`),!1;fy.set(t,s);for(const e of Up.values())HT(e,s);for(const e of qI.values())HT(e,s);return!0}function QI(s,t){const e=s.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),s.container.getProvider(t)}function ZI(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_u=new oE("app","Firebase",KI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _u.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=XI;function hE(s,t={}){let e=s;typeof t!="object"&&(t={name:t});const i={name:hy,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw _u.create("bad-app-name",{appName:String(a)});if(e||(e=aE()),!e)throw _u.create("no-options");const l=Up.get(a);if(l){if(Fp(e,l.options)&&Fp(i,l.config))return l;throw _u.create("duplicate-app",{appName:a})}const u=new eI(a);for(const y of fy.values())u.addComponent(y);const g=new JI(e,i,u);return Up.set(a,g),g}function $I(s=hy){const t=Up.get(s);if(!t&&s===hy&&aE())return hE();if(!t)throw _u.create("no-app",{appName:s});return t}function ff(s,t,e){let i=WI[s]??s;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cc.warn(u.join(" "));return}Bp(new Qd(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="firebase-heartbeat-database",e5=1,Zd="firebase-heartbeat-store";let G_=null;function fE(){return G_||(G_=gI(t5,e5,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Zd)}catch(e){console.warn(e)}}}}).catch(s=>{throw _u.create("idb-open",{originalErrorMessage:s.message})})),G_}async function n5(s){try{const e=(await fE()).transaction(Zd),i=await e.objectStore(Zd).get(dE(s));return await e.done,i}catch(t){if(t instanceof Vf)Cc.warn(t.message);else{const e=_u.create("idb-get",{originalErrorMessage:t?.message});Cc.warn(e.message)}}}async function YT(s,t){try{const i=(await fE()).transaction(Zd,"readwrite");await i.objectStore(Zd).put(t,dE(s)),await i.done}catch(e){if(e instanceof Vf)Cc.warn(e.message);else{const i=_u.create("idb-set",{originalErrorMessage:e?.message});Cc.warn(i.message)}}}function dE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=1024,s5=30;class r5{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new o5(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>s5){const a=l5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Cc.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=GT(),{heartbeatsToSend:e,unsentEntries:i}=a5(this._heartbeatsCache.heartbeats),a=Lp(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Cc.warn(t),""}}}function GT(){return new Date().toISOString().substring(0,10)}function a5(s,t=i5){const e=[];let i=s.slice();for(const a of s){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),XT(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),XT(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class o5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qM()?QM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await n5(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return YT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return YT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function XT(s){return Lp(JSON.stringify({version:2,heartbeats:s})).length}function l5(s){if(s.length===0)return-1;let t=0,e=s[0].date;for(let i=1;i<s.length;i++)s[i].date<e&&(e=s[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(s){Bp(new Qd("platform-logger",t=>new _I(t),"PRIVATE")),Bp(new Qd("heartbeat",t=>new r5(t),"PRIVATE")),ff(uy,zT,s),ff(uy,zT,"esm2020"),ff("fire-js","")}c5("");var WT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yu,gE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,I){function P(){}P.prototype=I.prototype,V.D=I.prototype,V.prototype=new P,V.prototype.constructor=V,V.C=function(U,z,Q){for(var X=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)X[Pt-2]=arguments[Pt];return I.prototype[z].apply(U,X)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,P){P||(P=0);var U=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)U[z]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(z=0;16>z;++z)U[z]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=V.g[0],P=V.g[1],z=V.g[2];var Q=V.g[3],X=I+(Q^P&(z^Q))+U[0]+3614090360&4294967295;I=P+(X<<7&4294967295|X>>>25),X=Q+(z^I&(P^z))+U[1]+3905402710&4294967295,Q=I+(X<<12&4294967295|X>>>20),X=z+(P^Q&(I^P))+U[2]+606105819&4294967295,z=Q+(X<<17&4294967295|X>>>15),X=P+(I^z&(Q^I))+U[3]+3250441966&4294967295,P=z+(X<<22&4294967295|X>>>10),X=I+(Q^P&(z^Q))+U[4]+4118548399&4294967295,I=P+(X<<7&4294967295|X>>>25),X=Q+(z^I&(P^z))+U[5]+1200080426&4294967295,Q=I+(X<<12&4294967295|X>>>20),X=z+(P^Q&(I^P))+U[6]+2821735955&4294967295,z=Q+(X<<17&4294967295|X>>>15),X=P+(I^z&(Q^I))+U[7]+4249261313&4294967295,P=z+(X<<22&4294967295|X>>>10),X=I+(Q^P&(z^Q))+U[8]+1770035416&4294967295,I=P+(X<<7&4294967295|X>>>25),X=Q+(z^I&(P^z))+U[9]+2336552879&4294967295,Q=I+(X<<12&4294967295|X>>>20),X=z+(P^Q&(I^P))+U[10]+4294925233&4294967295,z=Q+(X<<17&4294967295|X>>>15),X=P+(I^z&(Q^I))+U[11]+2304563134&4294967295,P=z+(X<<22&4294967295|X>>>10),X=I+(Q^P&(z^Q))+U[12]+1804603682&4294967295,I=P+(X<<7&4294967295|X>>>25),X=Q+(z^I&(P^z))+U[13]+4254626195&4294967295,Q=I+(X<<12&4294967295|X>>>20),X=z+(P^Q&(I^P))+U[14]+2792965006&4294967295,z=Q+(X<<17&4294967295|X>>>15),X=P+(I^z&(Q^I))+U[15]+1236535329&4294967295,P=z+(X<<22&4294967295|X>>>10),X=I+(z^Q&(P^z))+U[1]+4129170786&4294967295,I=P+(X<<5&4294967295|X>>>27),X=Q+(P^z&(I^P))+U[6]+3225465664&4294967295,Q=I+(X<<9&4294967295|X>>>23),X=z+(I^P&(Q^I))+U[11]+643717713&4294967295,z=Q+(X<<14&4294967295|X>>>18),X=P+(Q^I&(z^Q))+U[0]+3921069994&4294967295,P=z+(X<<20&4294967295|X>>>12),X=I+(z^Q&(P^z))+U[5]+3593408605&4294967295,I=P+(X<<5&4294967295|X>>>27),X=Q+(P^z&(I^P))+U[10]+38016083&4294967295,Q=I+(X<<9&4294967295|X>>>23),X=z+(I^P&(Q^I))+U[15]+3634488961&4294967295,z=Q+(X<<14&4294967295|X>>>18),X=P+(Q^I&(z^Q))+U[4]+3889429448&4294967295,P=z+(X<<20&4294967295|X>>>12),X=I+(z^Q&(P^z))+U[9]+568446438&4294967295,I=P+(X<<5&4294967295|X>>>27),X=Q+(P^z&(I^P))+U[14]+3275163606&4294967295,Q=I+(X<<9&4294967295|X>>>23),X=z+(I^P&(Q^I))+U[3]+4107603335&4294967295,z=Q+(X<<14&4294967295|X>>>18),X=P+(Q^I&(z^Q))+U[8]+1163531501&4294967295,P=z+(X<<20&4294967295|X>>>12),X=I+(z^Q&(P^z))+U[13]+2850285829&4294967295,I=P+(X<<5&4294967295|X>>>27),X=Q+(P^z&(I^P))+U[2]+4243563512&4294967295,Q=I+(X<<9&4294967295|X>>>23),X=z+(I^P&(Q^I))+U[7]+1735328473&4294967295,z=Q+(X<<14&4294967295|X>>>18),X=P+(Q^I&(z^Q))+U[12]+2368359562&4294967295,P=z+(X<<20&4294967295|X>>>12),X=I+(P^z^Q)+U[5]+4294588738&4294967295,I=P+(X<<4&4294967295|X>>>28),X=Q+(I^P^z)+U[8]+2272392833&4294967295,Q=I+(X<<11&4294967295|X>>>21),X=z+(Q^I^P)+U[11]+1839030562&4294967295,z=Q+(X<<16&4294967295|X>>>16),X=P+(z^Q^I)+U[14]+4259657740&4294967295,P=z+(X<<23&4294967295|X>>>9),X=I+(P^z^Q)+U[1]+2763975236&4294967295,I=P+(X<<4&4294967295|X>>>28),X=Q+(I^P^z)+U[4]+1272893353&4294967295,Q=I+(X<<11&4294967295|X>>>21),X=z+(Q^I^P)+U[7]+4139469664&4294967295,z=Q+(X<<16&4294967295|X>>>16),X=P+(z^Q^I)+U[10]+3200236656&4294967295,P=z+(X<<23&4294967295|X>>>9),X=I+(P^z^Q)+U[13]+681279174&4294967295,I=P+(X<<4&4294967295|X>>>28),X=Q+(I^P^z)+U[0]+3936430074&4294967295,Q=I+(X<<11&4294967295|X>>>21),X=z+(Q^I^P)+U[3]+3572445317&4294967295,z=Q+(X<<16&4294967295|X>>>16),X=P+(z^Q^I)+U[6]+76029189&4294967295,P=z+(X<<23&4294967295|X>>>9),X=I+(P^z^Q)+U[9]+3654602809&4294967295,I=P+(X<<4&4294967295|X>>>28),X=Q+(I^P^z)+U[12]+3873151461&4294967295,Q=I+(X<<11&4294967295|X>>>21),X=z+(Q^I^P)+U[15]+530742520&4294967295,z=Q+(X<<16&4294967295|X>>>16),X=P+(z^Q^I)+U[2]+3299628645&4294967295,P=z+(X<<23&4294967295|X>>>9),X=I+(z^(P|~Q))+U[0]+4096336452&4294967295,I=P+(X<<6&4294967295|X>>>26),X=Q+(P^(I|~z))+U[7]+1126891415&4294967295,Q=I+(X<<10&4294967295|X>>>22),X=z+(I^(Q|~P))+U[14]+2878612391&4294967295,z=Q+(X<<15&4294967295|X>>>17),X=P+(Q^(z|~I))+U[5]+4237533241&4294967295,P=z+(X<<21&4294967295|X>>>11),X=I+(z^(P|~Q))+U[12]+1700485571&4294967295,I=P+(X<<6&4294967295|X>>>26),X=Q+(P^(I|~z))+U[3]+2399980690&4294967295,Q=I+(X<<10&4294967295|X>>>22),X=z+(I^(Q|~P))+U[10]+4293915773&4294967295,z=Q+(X<<15&4294967295|X>>>17),X=P+(Q^(z|~I))+U[1]+2240044497&4294967295,P=z+(X<<21&4294967295|X>>>11),X=I+(z^(P|~Q))+U[8]+1873313359&4294967295,I=P+(X<<6&4294967295|X>>>26),X=Q+(P^(I|~z))+U[15]+4264355552&4294967295,Q=I+(X<<10&4294967295|X>>>22),X=z+(I^(Q|~P))+U[6]+2734768916&4294967295,z=Q+(X<<15&4294967295|X>>>17),X=P+(Q^(z|~I))+U[13]+1309151649&4294967295,P=z+(X<<21&4294967295|X>>>11),X=I+(z^(P|~Q))+U[4]+4149444226&4294967295,I=P+(X<<6&4294967295|X>>>26),X=Q+(P^(I|~z))+U[11]+3174756917&4294967295,Q=I+(X<<10&4294967295|X>>>22),X=z+(I^(Q|~P))+U[2]+718787259&4294967295,z=Q+(X<<15&4294967295|X>>>17),X=P+(Q^(z|~I))+U[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(z+(X<<21&4294967295|X>>>11))&4294967295,V.g[2]=V.g[2]+z&4294967295,V.g[3]=V.g[3]+Q&4294967295}i.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var P=I-this.blockSize,U=this.B,z=this.h,Q=0;Q<I;){if(z==0)for(;Q<=P;)a(this,V,Q),Q+=this.blockSize;if(typeof V=="string"){for(;Q<I;)if(U[z++]=V.charCodeAt(Q++),z==this.blockSize){a(this,U),z=0;break}}else for(;Q<I;)if(U[z++]=V[Q++],z==this.blockSize){a(this,U),z=0;break}}this.h=z,this.o+=I},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var P=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=P&255,P/=256;for(this.u(V),V=Array(16),I=P=0;4>I;++I)for(var U=0;32>U;U+=8)V[P++]=this.g[I]>>>U&255;return V};function l(V,I){var P=g;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=I(V)}function u(V,I){this.h=I;for(var P=[],U=!0,z=V.length-1;0<=z;z--){var Q=V[z]|0;U&&Q==I||(P[z]=Q,U=!1)}this.g=P}var g={};function y(V){return-128<=V&&128>V?l(V,function(I){return new u([I|0],0>I?-1:0)}):new u([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return H(v(-V));for(var I=[],P=1,U=0;V>=P;U++)I[U]=V/P|0,P*=4294967296;return new u(I,0)}function E(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return H(E(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=v(Math.pow(I,8)),U=A,z=0;z<V.length;z+=8){var Q=Math.min(8,V.length-z),X=parseInt(V.substring(z,z+Q),I);8>Q?(Q=v(Math.pow(I,Q)),U=U.j(Q).add(v(X))):(U=U.j(P),U=U.add(v(X)))}return U}var A=y(0),C=y(1),N=y(16777216);s=u.prototype,s.m=function(){if(Z(this))return-H(this).m();for(var V=0,I=1,P=0;P<this.g.length;P++){var U=this.i(P);V+=(0<=U?U:4294967296+U)*I,I*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(Z(this))return"-"+H(this).toString(V);for(var I=v(Math.pow(V,6)),P=this,U="";;){var z=pt(P,I).g;P=j(P,z.j(I));var Q=((0<P.g.length?P.g[0]:P.h)>>>0).toString(V);if(P=z,L(P))return Q+U;for(;6>Q.length;)Q="0"+Q;U=Q+U}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function Z(V){return V.h==-1}s.l=function(V){return V=j(this,V),Z(V)?-1:L(V)?0:1};function H(V){for(var I=V.g.length,P=[],U=0;U<I;U++)P[U]=~V.g[U];return new u(P,~V.h).add(C)}s.abs=function(){return Z(this)?H(this):this},s.add=function(V){for(var I=Math.max(this.g.length,V.g.length),P=[],U=0,z=0;z<=I;z++){var Q=U+(this.i(z)&65535)+(V.i(z)&65535),X=(Q>>>16)+(this.i(z)>>>16)+(V.i(z)>>>16);U=X>>>16,Q&=65535,X&=65535,P[z]=X<<16|Q}return new u(P,P[P.length-1]&-2147483648?-1:0)};function j(V,I){return V.add(H(I))}s.j=function(V){if(L(this)||L(V))return A;if(Z(this))return Z(V)?H(this).j(H(V)):H(H(this).j(V));if(Z(V))return H(this.j(H(V)));if(0>this.l(N)&&0>V.l(N))return v(this.m()*V.m());for(var I=this.g.length+V.g.length,P=[],U=0;U<2*I;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<V.g.length;z++){var Q=this.i(U)>>>16,X=this.i(U)&65535,Pt=V.i(z)>>>16,mt=V.i(z)&65535;P[2*U+2*z]+=X*mt,lt(P,2*U+2*z),P[2*U+2*z+1]+=Q*mt,lt(P,2*U+2*z+1),P[2*U+2*z+1]+=X*Pt,lt(P,2*U+2*z+1),P[2*U+2*z+2]+=Q*Pt,lt(P,2*U+2*z+2)}for(U=0;U<I;U++)P[U]=P[2*U+1]<<16|P[2*U];for(U=I;U<2*I;U++)P[U]=0;return new u(P,0)};function lt(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function st(V,I){this.g=V,this.h=I}function pt(V,I){if(L(I))throw Error("division by zero");if(L(V))return new st(A,A);if(Z(V))return I=pt(H(V),I),new st(H(I.g),H(I.h));if(Z(I))return I=pt(V,H(I)),new st(H(I.g),I.h);if(30<V.g.length){if(Z(V)||Z(I))throw Error("slowDivide_ only works with positive integers.");for(var P=C,U=I;0>=U.l(V);)P=J(P),U=J(U);var z=rt(P,1),Q=rt(U,1);for(U=rt(U,2),P=rt(P,2);!L(U);){var X=Q.add(U);0>=X.l(V)&&(z=z.add(P),Q=X),U=rt(U,1),P=rt(P,1)}return I=j(V,z.j(I)),new st(z,I)}for(z=A;0<=V.l(I);){for(P=Math.max(1,Math.floor(V.m()/I.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),Q=v(P),X=Q.j(I);Z(X)||0<X.l(V);)P-=U,Q=v(P),X=Q.j(I);L(Q)&&(Q=C),z=z.add(Q),V=j(V,X)}return new st(z,V)}s.A=function(V){return pt(this,V).h},s.and=function(V){for(var I=Math.max(this.g.length,V.g.length),P=[],U=0;U<I;U++)P[U]=this.i(U)&V.i(U);return new u(P,this.h&V.h)},s.or=function(V){for(var I=Math.max(this.g.length,V.g.length),P=[],U=0;U<I;U++)P[U]=this.i(U)|V.i(U);return new u(P,this.h|V.h)},s.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),P=[],U=0;U<I;U++)P[U]=this.i(U)^V.i(U);return new u(P,this.h^V.h)};function J(V){for(var I=V.g.length+1,P=[],U=0;U<I;U++)P[U]=V.i(U)<<1|V.i(U-1)>>>31;return new u(P,V.h)}function rt(V,I){var P=I>>5;I%=32;for(var U=V.g.length-P,z=[],Q=0;Q<U;Q++)z[Q]=0<I?V.i(Q+P)>>>I|V.i(Q+P+1)<<32-I:V.i(Q+P);return new u(z,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,gE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=v,u.fromString=E,yu=u}).apply(typeof WT<"u"?WT:typeof self<"u"?self:typeof window<"u"?window:{});var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pE,Dd,mE,mp,dy,_E,yE,vE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,S,M){return f==Array.prototype||f==Object.prototype||(f[S]=M.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof rp=="object"&&rp];for(var S=0;S<f.length;++S){var M=f[S];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var i=e(this);function a(f,S){if(S)t:{var M=i;f=f.split(".");for(var G=0;G<f.length-1;G++){var ht=f[G];if(!(ht in M))break t;M=M[ht]}f=f[f.length-1],G=M[f],S=S(G),S!=G&&S!=null&&t(M,f,{configurable:!0,writable:!0,value:S})}}function l(f,S){f instanceof String&&(f+="");var M=0,G=!1,ht={next:function(){if(!G&&M<f.length){var St=M++;return{value:S(St,f[St]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ht[Symbol.iterator]=function(){return ht},ht}a("Array.prototype.values",function(f){return f||function(){return l(this,function(S,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},g=this||self;function y(f){var S=typeof f;return S=S!="object"?S:f?Array.isArray(f)?"array":S:"null",S=="array"||S=="object"&&typeof f.length=="number"}function v(f){var S=typeof f;return S=="object"&&f!=null||S=="function"}function E(f,S,M){return f.call.apply(f.bind,arguments)}function A(f,S,M){if(!f)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ht=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ht,G),f.apply(S,ht)}}return function(){return f.apply(S,arguments)}}function C(f,S,M){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,C.apply(null,arguments)}function N(f,S){var M=Array.prototype.slice.call(arguments,1);return function(){var G=M.slice();return G.push.apply(G,arguments),f.apply(this,G)}}function L(f,S){function M(){}M.prototype=S.prototype,f.aa=S.prototype,f.prototype=new M,f.prototype.constructor=f,f.Qb=function(G,ht,St){for(var Xt=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)Xt[Ne-2]=arguments[Ne];return S.prototype[ht].apply(G,Xt)}}function Z(f){const S=f.length;if(0<S){const M=Array(S);for(let G=0;G<S;G++)M[G]=f[G];return M}return[]}function H(f,S){for(let M=1;M<arguments.length;M++){const G=arguments[M];if(y(G)){const ht=f.length||0,St=G.length||0;f.length=ht+St;for(let Xt=0;Xt<St;Xt++)f[ht+Xt]=G[Xt]}else f.push(G)}}class j{constructor(S,M){this.i=S,this.j=M,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function lt(f){return/^[\s\xa0]*$/.test(f)}function st(){var f=g.navigator;return f&&(f=f.userAgent)?f:""}function pt(f){return pt[" "](f),f}pt[" "]=function(){};var J=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function rt(f,S,M){for(const G in f)S.call(M,f[G],G,f)}function V(f,S){for(const M in f)S.call(void 0,f[M],M,f)}function I(f){const S={};for(const M in f)S[M]=f[M];return S}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(f,S){let M,G;for(let ht=1;ht<arguments.length;ht++){G=arguments[ht];for(M in G)f[M]=G[M];for(let St=0;St<P.length;St++)M=P[St],Object.prototype.hasOwnProperty.call(G,M)&&(f[M]=G[M])}}function z(f){var S=1;f=f.split(":");const M=[];for(;0<S&&f.length;)M.push(f.shift()),S--;return f.length&&M.push(f.join(":")),M}function Q(f){g.setTimeout(()=>{throw f},0)}function X(){var f=xt;let S=null;return f.g&&(S=f.g,f.g=f.g.next,f.g||(f.h=null),S.next=null),S}class Pt{constructor(){this.h=this.g=null}add(S,M){const G=mt.get();G.set(S,M),this.h?this.h.next=G:this.g=G,this.h=G}}var mt=new j(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(S,M){this.h=S,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let et,bt=!1,xt=new Pt,F=()=>{const f=g.Promise.resolve(void 0);et=()=>{f.then(K)}};var K=()=>{for(var f;f=X();){try{f.h.call(f.g)}catch(M){Q(M)}var S=mt;S.j(f),100>S.h&&(S.h++,f.next=S.g,S.g=f)}bt=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ft(f,S){this.type=f,this.g=this.target=S,this.defaultPrevented=!1}ft.prototype.h=function(){this.defaultPrevented=!0};var It=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var f=!1,S=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const M=()=>{};g.addEventListener("test",M,S),g.removeEventListener("test",M,S)}catch{}return f}();function _t(f,S){if(ft.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var M=this.type=f.type,G=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=S,S=f.relatedTarget){if(J){t:{try{pt(S.nodeName);var ht=!0;break t}catch{}ht=!1}ht||(S=null)}}else M=="mouseover"?S=f.fromElement:M=="mouseout"&&(S=f.toElement);this.relatedTarget=S,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Vt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&_t.aa.h.call(this)}}L(_t,ft);var Vt={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function hn(f,S,M,G,ht){this.listener=f,this.proxy=null,this.src=S,this.type=M,this.capture=!!G,this.ha=ht,this.key=++Bt,this.da=this.fa=!1}function Dn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function We(f){this.src=f,this.g={},this.h=0}We.prototype.add=function(f,S,M,G,ht){var St=f.toString();f=this.g[St],f||(f=this.g[St]=[],this.h++);var Xt=rs(f,S,G,ht);return-1<Xt?(S=f[Xt],M||(S.fa=!1)):(S=new hn(S,this.src,St,!!G,ht),S.fa=M,f.push(S)),S};function le(f,S){var M=S.type;if(M in f.g){var G=f.g[M],ht=Array.prototype.indexOf.call(G,S,void 0),St;(St=0<=ht)&&Array.prototype.splice.call(G,ht,1),St&&(Dn(S),f.g[M].length==0&&(delete f.g[M],f.h--))}}function rs(f,S,M,G){for(var ht=0;ht<f.length;++ht){var St=f[ht];if(!St.da&&St.listener==S&&St.capture==!!M&&St.ha==G)return ht}return-1}var Wi="closure_lm_"+(1e6*Math.random()|0),Mt={};function kt(f,S,M,G,ht){if(Array.isArray(S)){for(var St=0;St<S.length;St++)kt(f,S[St],M,G,ht);return null}return M=Er(M),f&&f[ce]?f.K(S,M,v(G)?!!G.capture:!1,ht):Qt(f,S,M,!1,G,ht)}function Qt(f,S,M,G,ht,St){if(!S)throw Error("Invalid event type");var Xt=v(ht)?!!ht.capture:!!ht,Ne=He(f);if(Ne||(f[Wi]=Ne=new We(f)),M=Ne.add(S,M,G,Xt,St),M.proxy)return M;if(G=Gt(),M.proxy=G,G.src=f,G.listener=M,f.addEventListener)It||(ht=Xt),ht===void 0&&(ht=!1),f.addEventListener(S.toString(),G,ht);else if(f.attachEvent)f.attachEvent(xe(S.toString()),G);else if(f.addListener&&f.removeListener)f.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Gt(){function f(M){return S.call(f.src,f.listener,M)}const S=Ae;return f}function Zt(f,S,M,G,ht){if(Array.isArray(S))for(var St=0;St<S.length;St++)Zt(f,S[St],M,G,ht);else G=v(G)?!!G.capture:!!G,M=Er(M),f&&f[ce]?(f=f.i,S=String(S).toString(),S in f.g&&(St=f.g[S],M=rs(St,M,G,ht),-1<M&&(Dn(St[M]),Array.prototype.splice.call(St,M,1),St.length==0&&(delete f.g[S],f.h--)))):f&&(f=He(f))&&(S=f.g[S.toString()],f=-1,S&&(f=rs(S,M,G,ht)),(M=-1<f?S[f]:null)&&Jt(M))}function Jt(f){if(typeof f!="number"&&f&&!f.da){var S=f.src;if(S&&S[ce])le(S.i,f);else{var M=f.type,G=f.proxy;S.removeEventListener?S.removeEventListener(M,G,f.capture):S.detachEvent?S.detachEvent(xe(M),G):S.addListener&&S.removeListener&&S.removeListener(G),(M=He(S))?(le(M,f),M.h==0&&(M.src=null,S[Wi]=null)):Dn(f)}}}function xe(f){return f in Mt?Mt[f]:Mt[f]="on"+f}function Ae(f,S){if(f.da)f=!0;else{S=new _t(S,this);var M=f.listener,G=f.ha||f.src;f.fa&&Jt(f),f=M.call(G,S)}return f}function He(f){return f=f[Wi],f instanceof We?f:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function Er(f){return typeof f=="function"?f:(f[as]||(f[as]=function(S){return f.handleEvent(S)}),f[as])}function Re(){dt.call(this),this.i=new We(this),this.M=this,this.F=null}L(Re,dt),Re.prototype[ce]=!0,Re.prototype.removeEventListener=function(f,S,M,G){Zt(this,f,S,M,G)};function Ye(f,S){var M,G=f.F;if(G)for(M=[];G;G=G.F)M.push(G);if(f=f.M,G=S.type||S,typeof S=="string")S=new ft(S,f);else if(S instanceof ft)S.target=S.target||f;else{var ht=S;S=new ft(G,f),U(S,ht)}if(ht=!0,M)for(var St=M.length-1;0<=St;St--){var Xt=S.g=M[St];ht=ki(Xt,G,!0,S)&&ht}if(Xt=S.g=f,ht=ki(Xt,G,!0,S)&&ht,ht=ki(Xt,G,!1,S)&&ht,M)for(St=0;St<M.length;St++)Xt=S.g=M[St],ht=ki(Xt,G,!1,S)&&ht}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var f=this.i,S;for(S in f.g){for(var M=f.g[S],G=0;G<M.length;G++)Dn(M[G]);delete f.g[S],f.h--}}this.F=null},Re.prototype.K=function(f,S,M,G){return this.i.add(String(f),S,!1,M,G)},Re.prototype.L=function(f,S,M,G){return this.i.add(String(f),S,!0,M,G)};function ki(f,S,M,G){if(S=f.i.g[String(S)],!S)return!0;S=S.concat();for(var ht=!0,St=0;St<S.length;++St){var Xt=S[St];if(Xt&&!Xt.da&&Xt.capture==M){var Ne=Xt.listener,tn=Xt.ha||Xt.src;Xt.fa&&le(f.i,Xt),ht=Ne.call(tn,G)!==!1&&ht}}return ht&&!G.defaultPrevented}function Cn(f,S,M){if(typeof f=="function")M&&(f=C(f,M));else if(f&&typeof f.handleEvent=="function")f=C(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:g.setTimeout(f,S||0)}function Hn(f){f.g=Cn(()=>{f.g=null,f.i&&(f.i=!1,Hn(f))},f.l);const S=f.h;f.h=null,f.m.apply(null,S)}class Wr extends dt{constructor(S,M){super(),this.m=S,this.l=M,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Hn(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(f){dt.call(this),this.h=f,this.g={}}L(Sr,dt);var Ns=[];function jt(f){rt(f.g,function(S,M){this.g.hasOwnProperty(M)&&Jt(S)},f),f.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),jt(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=g.JSON.stringify,Yt=g.JSON.parse,ne=class{stringify(f){return g.JSON.stringify(f,void 0)}parse(f){return g.JSON.parse(f,void 0)}};function qt(){}qt.prototype.h=null;function ue(f){return f.h||(f.h=f.i())}function Fe(){}var De={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function On(){ft.call(this,"d")}L(On,ft);function Ps(){ft.call(this,"c")}L(Ps,ft);var os={},Wl=null;function ma(){return Wl=Wl||new Re}os.La="serverreachability";function ui(f){ft.call(this,os.La,f)}L(ui,ft);function vi(f){const S=ma();Ye(S,new ui(S))}os.STAT_EVENT="statevent";function hi(f,S){ft.call(this,os.STAT_EVENT,f),this.stat=S}L(hi,ft);function cn(f){const S=ma();Ye(S,new hi(S,f))}os.Ma="timingevent";function Yn(f,S){ft.call(this,os.Ma,f),this.size=S}L(Yn,ft);function Be(f,S){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){f()},S)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function So(f,S,M,G,ht,St){f.info(function(){if(f.g)if(St)for(var Xt="",Ne=St.split("&"),tn=0;tn<Ne.length;tn++){var Ge=Ne[tn].split("=");if(1<Ge.length){var Qn=Ge[0];Ge=Ge[1];var si=Qn.split("_");Xt=2<=si.length&&si[1]=="type"?Xt+(Qn+"="+Ge+"&"):Xt+(Qn+"=redacted&")}}else Xt=null;else Xt=St;return"XMLHTTP REQ ("+G+") [attempt "+ht+"]: "+S+`
`+M+`
`+Xt})}function ls(f,S,M,G,ht,St,Xt){f.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ht+"]: "+S+`
`+M+`
`+St+" "+Xt})}function qi(f,S,M,G){f.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ja(f,M)+(G?" "+G:"")})}function ql(f,S){f.info(function(){return"TIMEOUT: "+S})}Vs.prototype.info=function(){};function Ja(f,S){if(!f.g)return S;if(!S)return null;try{var M=JSON.parse(S);if(M){for(f=0;f<M.length;f++)if(Array.isArray(M[f])){var G=M[f];if(!(2>G.length)){var ht=G[1];if(Array.isArray(ht)&&!(1>ht.length)){var St=ht[0];if(St!="noop"&&St!="stop"&&St!="close")for(var Xt=1;Xt<ht.length;Xt++)ht[Xt]=""}}}}return Wt(M)}catch{return S}}var Ue={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ys;function qn(){}L(qn,qt),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},ys=new qn;function Qi(f,S,M,G){this.j=f,this.i=S,this.l=M,this.R=G||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ql={},Ao={};function Ar(f,S,M){f.L=1,f.v=Qr(Ts(S)),f.m=M,f.P=!0,_a(f,null)}function _a(f,S){f.F=Date.now(),Js(f),f.A=Ts(f.v);var M=f.A,G=f.R;Array.isArray(G)||(G=[String(G)]),Mo(M.i,"t",G),f.C=0,M=f.j.J,f.h=new Gn,f.g=$r(f.j,M?S:null,!f.m),0<f.O&&(f.M=new Wr(C(f.Y,f,f.g),f.O)),S=f.U,M=f.g,G=f.ca;var ht="readystatechange";Array.isArray(ht)||(ht&&(Ns[0]=ht.toString()),ht=Ns);for(var St=0;St<ht.length;St++){var Xt=kt(M,ht[St],G||S.handleEvent,!1,S.h||S);if(!Xt)break;S.g[Xt.key]=Xt}S=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,S)):(f.u="GET",f.g.ea(f.A,f.u,null,S)),vi(),So(f.i,f.u,f.A,f.l,f.R,f.m)}Qi.prototype.ca=function(f){f=f.target;const S=this.M;S&&ar(f)==3?S.j():this.Y(f)},Qi.prototype.Y=function(f){try{if(f==this.g)t:{const si=ar(this.g);var S=this.g.Ba();const Dr=this.g.Z();if(!(3>si)&&(si!=3||this.g&&(this.h.h||this.g.oa()||jl(this.g)))){this.J||si!=4||S==7||(S==8||0>=Dr?vi(3):vi(2)),Cr(this);var M=this.g.Z();this.X=M;e:if(Ti(this)){var G=jl(this.g);f="";var ht=G.length,St=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),cs(this);var Xt="";break e}this.h.i=new g.TextDecoder}for(S=0;S<ht;S++)this.h.h=!0,f+=this.h.i.decode(G[S],{stream:!(St&&S==ht-1)});G.length=0,this.h.g+=f,this.C=0,Xt=this.h.g}else Xt=this.g.oa();if(this.o=M==200,ls(this.i,this.u,this.A,this.l,this.R,si,M),this.o){if(this.T&&!this.K){e:{if(this.g){var Ne,tn=this.g;if((Ne=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Ne)){var Ge=Ne;break e}}Ge=null}if(M=Ge)qi(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,M);else{this.o=!1,this.s=3,cn(12),ni(this),cs(this);break t}}if(this.P){M=!0;let Si;for(;!this.J&&this.C<Xt.length;)if(Si=Zl(this,Xt),Si==Ao){si==4&&(this.s=4,cn(14),M=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Si==Ql){this.s=4,cn(15),qi(this.i,this.l,Xt,"[Invalid Chunk]"),M=!1;break}else qi(this.i,this.l,Si,null),$s(this,Si);if(Ti(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),si!=4||Xt.length!=0||this.h.h||(this.s=1,cn(16),M=!1),this.o=this.o&&M,!M)qi(this.i,this.l,Xt,"[Invalid Chunked Response]"),ni(this),cs(this);else if(0<Xt.length&&!this.W){this.W=!0;var Qn=this.j;Qn.g==this&&Qn.ba&&!Qn.M&&(Qn.j.info("Great, no buffering proxy detected. Bytes received: "+Xt.length),or(Qn),Qn.M=!0,cn(11))}}else qi(this.i,this.l,Xt,null),$s(this,Xt);si==4&&ni(this),this.o&&!this.J&&(si==4?fi(this.j,this):(this.o=!1,Js(this)))}else Nc(this.g),M==400&&0<Xt.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),ni(this),cs(this)}}}catch{}finally{}};function Ti(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Zl(f,S){var M=f.C,G=S.indexOf(`
`,M);return G==-1?Ao:(M=Number(S.substring(M,G)),isNaN(M)?Ql:(G+=1,G+M>S.length?Ao:(S=S.slice(G,G+M),f.C=G+M,S)))}Qi.prototype.cancel=function(){this.J=!0,ni(this)};function Js(f){f.S=Date.now()+f.I,js(f,f.I)}function js(f,S){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Be(C(f.ba,f),S)}function Cr(f){f.B&&(g.clearTimeout(f.B),f.B=null)}Qi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ql(this.i,this.A),this.L!=2&&(vi(),cn(17)),ni(this),this.s=2,cs(this)):js(this,this.S-f)};function cs(f){f.j.G==0||f.J||fi(f.j,f)}function ni(f){Cr(f);var S=f.M;S&&typeof S.ma=="function"&&S.ma(),f.M=null,jt(f.U),f.g&&(S=f.g,f.g=null,S.abort(),S.ma())}function $s(f,S){try{var M=f.j;if(M.G!=0&&(M.g==f||Ro(M.h,f))){if(!f.K&&Ro(M.h,f)&&M.G==3){try{var G=M.Da.g.parse(S)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ht=G;if(ht[0]==0){t:if(!M.u){if(M.g)if(M.g.F+3e3<f.F)gl(M),ba(M);else break t;Sa(M),cn(18)}}else M.za=ht[1],0<M.za-M.T&&37500>ht[2]&&M.F&&M.v==0&&!M.C&&(M.C=Be(C(M.Za,M),6e3));if(1>=xn(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else fs(M,11)}else if((f.K||M.g==f)&&gl(M),!lt(S))for(ht=M.Da.g.parse(S),S=0;S<ht.length;S++){let Ge=ht[S];if(M.T=Ge[0],Ge=Ge[1],M.G==2)if(Ge[0]=="c"){M.K=Ge[1],M.ia=Ge[2];const Qn=Ge[3];Qn!=null&&(M.la=Qn,M.j.info("VER="+M.la));const si=Ge[4];si!=null&&(M.Aa=si,M.j.info("SVER="+M.Aa));const Dr=Ge[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(G=1.5*Dr,M.L=G,M.j.info("backChannelRequestTimeoutMs_="+G)),G=M;const Si=f.g;if(Si){const Bs=Si.g?Si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bs){var St=G.h;St.g||Bs.indexOf("spdy")==-1&&Bs.indexOf("quic")==-1&&Bs.indexOf("h2")==-1||(St.j=St.l,St.g=new Set,St.h&&(hl(St,St.h),St.h=null))}if(G.D){const Ca=Si.g?Si.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(G.ya=Ca,nn(G.I,G.D,Ca))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-f.F,M.j.info("Handshake RTT: "+M.R+"ms")),G=M;var Xt=f;if(G.qa=tc(G,G.J?G.ia:null,G.W),Xt.K){Zi(G.h,Xt);var Ne=Xt,tn=G.L;tn&&(Ne.I=tn),Ne.B&&(Cr(Ne),Js(Ne)),G.g=Xt}else $l(G);0<M.i.length&&eo(M)}else Ge[0]!="stop"&&Ge[0]!="close"||fs(M,7);else M.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?fs(M,7):dl(M):Ge[0]!="noop"&&M.l&&M.l.ta(Ge),M.v=0)}}vi(4)}catch{}}var Co=class{constructor(f,S){this.g=f,this.map=S}};function qr(f){this.l=f||10,g.PerformanceNavigationTiming?(f=g.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function xn(f){return f.h?1:f.g?f.g.size:0}function Ro(f,S){return f.h?f.h==S:f.g?f.g.has(S):!1}function hl(f,S){f.g?f.g.add(S):f.h=S}function Zi(f,S){f.h&&f.h==S?f.h=null:f.g&&f.g.has(S)&&f.g.delete(S)}qr.prototype.cancel=function(){if(this.i=vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function vs(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let S=f.i;for(const M of f.g.values())S=S.concat(M.D);return S}return Z(f.i)}function Kl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var S=[],M=f.length,G=0;G<M;G++)S.push(f[G]);return S}S=[],M=0;for(G in f)S[M++]=f[G];return S}function Ls(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var S=[];f=f.length;for(var M=0;M<f;M++)S.push(M);return S}S=[],M=0;for(const G in f)S[M++]=G;return S}}}function ja(f,S){if(f.forEach&&typeof f.forEach=="function")f.forEach(S,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,S,void 0);else for(var M=Ls(f),G=Kl(f),ht=G.length,St=0;St<ht;St++)S.call(void 0,G[St],M&&M[St],f)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(f,S){if(f){f=f.split("&");for(var M=0;M<f.length;M++){var G=f[M].indexOf("="),ht=null;if(0<=G){var St=f[M].substring(0,G);ht=f[M].substring(G+1)}else St=f[M];S(St,ht?decodeURIComponent(ht.replace(/\+/g," ")):"")}}}function ii(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ii){this.h=f.h,ws(this,f.j),this.o=f.o,this.g=f.g,tr(this,f.s),this.l=f.l;var S=f.i,M=new wa;M.i=S.i,S.g&&(M.g=new Map(S.g),M.h=S.h),ya(this,M),this.m=f.m}else f&&(S=String(f).match($a))?(this.h=!1,ws(this,S[1]||"",!0),this.o=er(S[2]||""),this.g=er(S[3]||"",!0),tr(this,S[4]),this.l=er(S[5]||"",!0),ya(this,S[6]||"",!0),this.m=er(S[7]||"")):(this.h=!1,this.i=new wa(null,this.h))}ii.prototype.toString=function(){var f=[],S=this.j;S&&f.push(to(S,xr,!0),":");var M=this.g;return(M||S=="file")&&(f.push("//"),(S=this.o)&&f.push(to(S,xr,!0),"@"),f.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&f.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&f.push("/"),f.push(to(M,M.charAt(0)=="/"?Du:va,!0))),(M=this.i.toString())&&f.push("?",M),(M=this.m)&&f.push("#",to(M,Ta)),f.join("")};function Ts(f){return new ii(f)}function ws(f,S,M){f.j=M?er(S,!0):S,f.j&&(f.j=f.j.replace(/:$/,""))}function tr(f,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);f.s=S}else f.s=null}function ya(f,S,M){S instanceof wa?(f.i=S,Io(f.i,f.h)):(M||(S=to(S,fl)),f.i=new wa(S,f.h))}function nn(f,S,M){f.i.set(S,M)}function Qr(f){return nn(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function er(f,S){return f?S?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function to(f,S,M){return typeof f=="string"?(f=encodeURI(f).replace(S,Oc),M&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Oc(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var xr=/[#\/\?@]/g,va=/[#\?:]/g,Du=/[#\?]/g,fl=/[#\?@]/g,Ta=/#/g;function wa(f,S){this.h=this.g=null,this.i=f||null,this.j=!!S}function nr(f){f.g||(f.g=new Map,f.h=0,f.i&&Dc(f.i,function(S,M){f.add(decodeURIComponent(S.replace(/\+/g," ")),M)}))}s=wa.prototype,s.add=function(f,S){nr(this),this.i=null,f=ir(this,f);var M=this.g.get(f);return M||this.g.set(f,M=[]),M.push(S),this.h+=1,this};function Li(f,S){nr(f),S=ir(f,S),f.g.has(S)&&(f.i=null,f.h-=f.g.get(S).length,f.g.delete(S))}function Rr(f,S){return nr(f),S=ir(f,S),f.g.has(S)}s.forEach=function(f,S){nr(this),this.g.forEach(function(M,G){M.forEach(function(ht){f.call(S,ht,G,this)},this)},this)},s.na=function(){nr(this);const f=Array.from(this.g.values()),S=Array.from(this.g.keys()),M=[];for(let G=0;G<S.length;G++){const ht=f[G];for(let St=0;St<ht.length;St++)M.push(S[G])}return M},s.V=function(f){nr(this);let S=[];if(typeof f=="string")Rr(this,f)&&(S=S.concat(this.g.get(ir(this,f))));else{f=Array.from(this.g.values());for(let M=0;M<f.length;M++)S=S.concat(f[M])}return S},s.set=function(f,S){return nr(this),this.i=null,f=ir(this,f),Rr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[S]),this.h+=1,this},s.get=function(f,S){return f?(f=this.V(f),0<f.length?String(f[0]):S):S};function Mo(f,S,M){Li(f,S),0<M.length&&(f.i=null,f.g.set(ir(f,S),Z(M)),f.h+=M.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],S=Array.from(this.g.keys());for(var M=0;M<S.length;M++){var G=S[M];const St=encodeURIComponent(String(G)),Xt=this.V(G);for(G=0;G<Xt.length;G++){var ht=St;Xt[G]!==""&&(ht+="="+encodeURIComponent(String(Xt[G]))),f.push(ht)}}return this.i=f.join("&")};function ir(f,S){return S=String(S),f.j&&(S=S.toLowerCase()),S}function Io(f,S){S&&!f.j&&(nr(f),f.i=null,f.g.forEach(function(M,G){var ht=G.toLowerCase();G!=ht&&(Li(this,G),Mo(this,ht,M))},f)),f.j=S}function Ze(f,S){const M=new Vs;if(g.Image){const G=new Image;G.onload=N(hs,M,"TestLoadImage: loaded",!0,S,G),G.onerror=N(hs,M,"TestLoadImage: error",!1,S,G),G.onabort=N(hs,M,"TestLoadImage: abort",!1,S,G),G.ontimeout=N(hs,M,"TestLoadImage: timeout",!1,S,G),g.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=f}else S(!1)}function us(f,S){const M=new Vs,G=new AbortController,ht=setTimeout(()=>{G.abort(),hs(M,"TestPingServer: timeout",!1,S)},1e4);fetch(f,{signal:G.signal}).then(St=>{clearTimeout(ht),St.ok?hs(M,"TestPingServer: ok",!0,S):hs(M,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ht),hs(M,"TestPingServer: error",!1,S)})}function hs(f,S,M,G,ht){try{ht&&(ht.onload=null,ht.onerror=null,ht.onabort=null,ht.ontimeout=null),G(M)}catch{}}function Mr(){this.g=new ne}function bs(f,S,M){const G=M||"";try{ja(f,function(ht,St){let Xt=ht;v(ht)&&(Xt=Wt(ht)),S.push(G+St+"="+encodeURIComponent(Xt))})}catch(ht){throw S.push(G+"type="+encodeURIComponent("_badmap")),ht}}function sr(f){this.l=f.Ub||null,this.j=f.eb||!1}L(sr,qt),sr.prototype.g=function(){return new rr(this.l,this.j)},sr.prototype.i=function(f){return function(){return f}}({});function rr(f,S){Re.call(this),this.D=f,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(rr,Re),s=rr.prototype,s.open=function(f,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=S,this.readyState=1,Fs(this)},s.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(S.body=f),(this.D||g).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fi(this)),this.readyState=0},s.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}s.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var S=f.value?f.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!f.done}))&&(this.response=this.responseText+=S)}f.done?Fi(this):Fs(this),this.readyState==3&&Zr(this)}},s.Ra=function(f){this.g&&(this.response=this.responseText=f,Fi(this))},s.Qa=function(f){this.g&&(this.response=f,Fi(this))},s.ga=function(){this.g&&Fi(this)};function Fi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Fs(f)}s.setRequestHeader=function(f,S){this.u.append(f,S)},s.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],S=this.h.entries();for(var M=S.next();!M.done;)M=M.value,f.push(M[0]+": "+M[1]),M=S.next();return f.join(`\r
`)};function Fs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Us(f){let S="";return rt(f,function(M,G){S+=G,S+=":",S+=M,S+=`\r
`}),S}function wi(f,S,M){t:{for(G in M){var G=!1;break t}G=!0}G||(M=Us(M),typeof f=="string"?M!=null&&encodeURIComponent(String(M)):nn(f,S,M))}function Ke(f){Re.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ke,Re);var Ir=/^https?$/i,kr=["POST","PUT"];s=Ke.prototype,s.Ha=function(f){this.J=f},s.ea=function(f,S,M,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);S=S?S.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ys.g(),this.v=this.o?ue(this.o):ue(ys),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(S,String(f),!0),this.B=!1}catch(St){Jl(this,St);return}if(f=M||"",M=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ht in G)M.set(ht,G[ht]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const St of G.keys())M.set(St,G.get(St));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(M.keys()).find(St=>St.toLowerCase()=="content-type"),ht=g.FormData&&f instanceof g.FormData,!(0<=Array.prototype.indexOf.call(kr,S,void 0))||G||ht||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[St,Xt]of M)this.g.setRequestHeader(St,Xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oo(this),this.u=!0,this.g.send(f),this.u=!1}catch(St){Jl(this,St)}};function Jl(f,S){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=S,f.m=5,ko(f),Kr(f)}function ko(f){f.A||(f.A=!0,Ye(f,"complete"),Ye(f,"error"))}s.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ye(this,"complete"),Ye(this,"abort"),Kr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kr(this,!0)),Ke.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Do(this):this.bb())},s.bb=function(){Do(this)};function Do(f){if(f.h&&typeof u<"u"&&(!f.v[1]||ar(f)!=4||f.Z()!=2)){if(f.u&&ar(f)==4)Cn(f.Ea,0,f);else if(Ye(f,"readystatechange"),ar(f)==4){f.h=!1;try{const Xt=f.Z();t:switch(Xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break t;default:S=!1}var M;if(!(M=S)){var G;if(G=Xt===0){var ht=String(f.D).match($a)[1]||null;!ht&&g.self&&g.self.location&&(ht=g.self.location.protocol.slice(0,-1)),G=!Ir.test(ht?ht.toLowerCase():"")}M=G}if(M)Ye(f,"complete"),Ye(f,"success");else{f.m=6;try{var St=2<ar(f)?f.g.statusText:""}catch{St=""}f.l=St+" ["+f.Z()+"]",ko(f)}}finally{Kr(f)}}}}function Kr(f,S){if(f.g){Oo(f);const M=f.g,G=f.v[0]?()=>{}:null;f.g=null,f.v=null,S||Ye(f,"ready");try{M.onreadystatechange=G}catch{}}}function Oo(f){f.I&&(g.clearTimeout(f.I),f.I=null)}s.isActive=function(){return!!this.g};function ar(f){return f.g?f.g.readyState:0}s.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(f){if(this.g){var S=this.g.responseText;return f&&S.indexOf(f)==0&&(S=S.substring(f.length)),Yt(S)}};function jl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Nc(f){const S={};f=(f.g&&2<=ar(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<f.length;G++){if(lt(f[G]))continue;var M=z(f[G]);const ht=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const St=S[ht]||[];S[ht]=St,St.push(M)}V(S,function(G){return G.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function No(f,S,M){return M&&M.internalChannelParams&&M.internalChannelParams[f]||S}function Jr(f){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=No("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=No("baseRetryDelayMs",5e3,f),this.cb=No("retryDelaySeedMs",1e4,f),this.Wa=No("forwardChannelMaxRetries",2,f),this.wa=No("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(f&&f.concurrentRequestLimit),this.Da=new Mr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Jr.prototype,s.la=8,s.G=1,s.connect=function(f,S,M,G){cn(0),this.W=f,this.H=S||{},M&&G!==void 0&&(this.H.OSID=M,this.H.OAID=G),this.F=this.X,this.I=tc(this,null,this.W),eo(this)};function dl(f){if(Pc(f),f.G==3){var S=f.U++,M=Ts(f.I);if(nn(M,"SID",f.K),nn(M,"RID",S),nn(M,"TYPE","terminate"),Ea(f,M),S=new Qi(f,f.j,S),S.L=2,S.v=Qr(Ts(M)),M=!1,g.navigator&&g.navigator.sendBeacon)try{M=g.navigator.sendBeacon(S.v.toString(),"")}catch{}!M&&g.Image&&(new Image().src=S.v,M=!0),M||(S.g=$r(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Js(S)}no(f)}function ba(f){f.g&&(or(f),f.g.cancel(),f.g=null)}function Pc(f){ba(f),f.u&&(g.clearTimeout(f.u),f.u=null),gl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&g.clearTimeout(f.s),f.s=null)}function eo(f){if(!xo(f.h)&&!f.s){f.s=!0;var S=f.Ga;et||F(),bt||(et(),bt=!0),xt.add(S,f),f.B=0}}function Vc(f,S){return xn(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=S.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Be(C(f.Ga,f,S),Aa(f,f.B)),f.B++,!0)}s.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ht=new Qi(this,this.j,f);let St=this.o;if(this.S&&(St?(St=I(St),U(St,this.S)):St=this.S),this.m!==null||this.O||(ht.H=St,St=null),this.P)t:{for(var S=0,M=0;M<this.i.length;M++){e:{var G=this.i[M];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break e}G=void 0}if(G===void 0)break;if(S+=G,4096<S){S=M;break t}if(S===4096||M===this.i.length-1){S=M+1;break t}}S=1e3}else S=1e3;S=Po(this,ht,S),M=Ts(this.I),nn(M,"RID",f),nn(M,"CVER",22),this.D&&nn(M,"X-HTTP-Session-Id",this.D),Ea(this,M),St&&(this.O?S="headers="+encodeURIComponent(String(Us(St)))+"&"+S:this.m&&wi(M,this.m,St)),hl(this.h,ht),this.Ua&&nn(M,"TYPE","init"),this.P?(nn(M,"$req",S),nn(M,"SID","null"),ht.T=!0,Ar(ht,M,null)):Ar(ht,M,S),this.G=2}}else this.G==3&&(f?jr(this,f):this.i.length==0||xo(this.h)||jr(this))};function jr(f,S){var M;S?M=S.l:M=f.U++;const G=Ts(f.I);nn(G,"SID",f.K),nn(G,"RID",M),nn(G,"AID",f.T),Ea(f,G),f.m&&f.o&&wi(G,f.m,f.o),M=new Qi(f,f.j,M,f.B+1),f.m===null&&(M.H=f.o),S&&(f.i=S.D.concat(f.i)),S=Po(f,M,1e3),M.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),hl(f.h,M),Ar(M,G,S)}function Ea(f,S){f.H&&rt(f.H,function(M,G){nn(S,G,M)}),f.l&&ja({},function(M,G){nn(S,G,M)})}function Po(f,S,M){M=Math.min(f.i.length,M);var G=f.l?C(f.l.Na,f.l,f):null;t:{var ht=f.i;let St=-1;for(;;){const Xt=["count="+M];St==-1?0<M?(St=ht[0].g,Xt.push("ofs="+St)):St=0:Xt.push("ofs="+St);let Ne=!0;for(let tn=0;tn<M;tn++){let Ge=ht[tn].g;const Qn=ht[tn].map;if(Ge-=St,0>Ge)St=Math.max(0,ht[tn].g-100),Ne=!1;else try{bs(Qn,Xt,"req"+Ge+"_")}catch{G&&G(Qn)}}if(Ne){G=Xt.join("&");break t}}}return f=f.i.splice(0,M),S.D=f,G}function $l(f){if(!f.g&&!f.u){f.Y=1;var S=f.Fa;et||F(),bt||(et(),bt=!0),xt.add(S,f),f.v=0}}function Sa(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Be(C(f.Fa,f),Aa(f,f.v)),f.v++,!0)}s.Fa=function(){if(this.u=null,Lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Be(C(this.ab,this),f)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),ba(this),Lc(this))};function or(f){f.A!=null&&(g.clearTimeout(f.A),f.A=null)}function Lc(f){f.g=new Qi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var S=Ts(f.qa);nn(S,"RID","rpc"),nn(S,"SID",f.K),nn(S,"AID",f.T),nn(S,"CI",f.F?"0":"1"),!f.F&&f.ja&&nn(S,"TO",f.ja),nn(S,"TYPE","xmlhttp"),Ea(f,S),f.m&&f.o&&wi(S,f.m,f.o),f.L&&(f.g.I=f.L);var M=f.g;f=f.ia,M.L=1,M.v=Qr(Ts(S)),M.m=null,M.P=!0,_a(M,f)}s.Za=function(){this.C!=null&&(this.C=null,ba(this),Sa(this),cn(19))};function gl(f){f.C!=null&&(g.clearTimeout(f.C),f.C=null)}function fi(f,S){var M=null;if(f.g==S){gl(f),or(f),f.g=null;var G=2}else if(Ro(f.h,S))M=S.D,Zi(f.h,S),G=1;else return;if(f.G!=0){if(S.o)if(G==1){M=S.m?S.m.length:0,S=Date.now()-S.F;var ht=f.B;G=ma(),Ye(G,new Yn(G,M)),eo(f)}else $l(f);else if(ht=S.s,ht==3||ht==0&&0<S.X||!(G==1&&Vc(f,S)||G==2&&Sa(f)))switch(M&&0<M.length&&(S=f.h,S.i=S.i.concat(M)),ht){case 1:fs(f,5);break;case 4:fs(f,10);break;case 3:fs(f,6);break;default:fs(f,2)}}}function Aa(f,S){let M=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(M*=2),M*S}function fs(f,S){if(f.j.info("Error code "+S),S==2){var M=C(f.fb,f),G=f.Xa;const ht=!G;G=new ii(G||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ws(G,"https"),Qr(G),ht?Ze(G.toString(),M):us(G.toString(),M)}else cn(2);f.G=0,f.l&&f.l.sa(S),no(f),Pc(f)}s.fb=function(f){f?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function no(f){if(f.G=0,f.ka=[],f.l){const S=vs(f.h);(S.length!=0||f.i.length!=0)&&(H(f.ka,S),H(f.ka,f.i),f.h.i.length=0,Z(f.i),f.i.length=0),f.l.ra()}}function tc(f,S,M){var G=M instanceof ii?Ts(M):new ii(M);if(G.g!="")S&&(G.g=S+"."+G.g),tr(G,G.s);else{var ht=g.location;G=ht.protocol,S=S?S+"."+ht.hostname:ht.hostname,ht=+ht.port;var St=new ii(null);G&&ws(St,G),S&&(St.g=S),ht&&tr(St,ht),M&&(St.l=M),G=St}return M=f.D,S=f.ya,M&&S&&nn(G,M,S),nn(G,"VER",f.la),Ea(f,G),G}function $r(f,S,M){if(S&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=f.Ca&&!f.pa?new Ke(new sr({eb:M})):new Ke(f.pa),S.Ha(f.J),S}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bi(){}s=bi.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ei(){}Ei.prototype.g=function(f,S){return new yn(f,S)};function yn(f,S){Re.call(this),this.g=new Jr(S),this.l=f,this.h=S&&S.messageUrlParams||null,f=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(f?f["X-WebChannel-Content-Type"]=S.messageContentType:f={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(f?f["X-WebChannel-Client-Profile"]=S.va:f={"X-WebChannel-Client-Profile":S.va}),this.g.S=f,(f=S&&S.Sb)&&!lt(f)&&(this.g.m=f),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!lt(S)&&(this.g.D=S,f=this.h,f!==null&&S in f&&(f=this.h,S in f&&delete f[S])),this.j=new lr(this)}L(yn,Re),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){dl(this.g)},yn.prototype.o=function(f){var S=this.g;if(typeof f=="string"){var M={};M.__data__=f,f=M}else this.u&&(M={},M.__data__=Wt(f),f=M);S.i.push(new Co(S.Ya++,f)),S.G==3&&eo(S)},yn.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,yn.aa.N.call(this)};function io(f){On.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var S=f.__sm__;if(S){t:{for(const M in S){f=M;break t}f=void 0}(this.i=f)&&(f=this.i,S=S!==null&&f in S?S[f]:void 0),this.data=S}else this.data=f}L(io,On);function ec(){Ps.call(this),this.status=1}L(ec,Ps);function lr(f){this.g=f}L(lr,bi),lr.prototype.ua=function(){Ye(this.g,"a")},lr.prototype.ta=function(f){Ye(this.g,new io(f))},lr.prototype.sa=function(f){Ye(this.g,new ec)},lr.prototype.ra=function(){Ye(this.g,"b")},Ei.prototype.createWebChannel=Ei.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,vE=function(){return new Ei},yE=function(){return ma()},_E=os,dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ue.NO_ERROR=0,Ue.TIMEOUT=8,Ue.HTTP_ERROR=6,mp=Ue,Nn.COMPLETE="complete",mE=Nn,Fe.EventType=De,De.OPEN="a",De.CLOSE="b",De.ERROR="c",De.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Dd=Fe,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,pE=Ke}).apply(typeof rp<"u"?rp:typeof self<"u"?self:typeof window<"u"?window:{});const qT="@firebase/firestore",QT="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new lE("@firebase/firestore");function sf(){return ph.logLevel}function ee(s,...t){if(ph.logLevel<=an.DEBUG){const e=t.map(k0);ph.debug(`Firestore (${Lf}): ${s}`,...e)}}function xc(s,...t){if(ph.logLevel<=an.ERROR){const e=t.map(k0);ph.error(`Firestore (${Lf}): ${s}`,...e)}}function bf(s,...t){if(ph.logLevel<=an.WARN){const e=t.map(k0);ph.warn(`Firestore (${Lf}): ${s}`,...e)}}function k0(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,TE(s,i,e)}function TE(s,t,e){let i=`FIRESTORE (${Lf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw xc(i),new Error(i)}function An(s,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,s||TE(t,a,i)}function Ie(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Vf{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class u5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Tr.UNAUTHENTICATED))}shutdown(){}}class h5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class f5{constructor(t){this.t=t,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){An(this.o===void 0,42304);let i=this.i;const a=y=>this.i!==i?(i=this.i,e(y)):Promise.resolve();let l=new vu;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vu,t.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const y=l;t.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},g=y=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vu)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(An(typeof i.accessToken=="string",31837,{l:i}),new wE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return An(t===null||typeof t=="string",2055,{h:t}),new Tr(t)}}class d5{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g5{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new d5(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p5{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ZI(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){An(this.o===void 0,3512);const i=l=>{l.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const a=l=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ZT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(An(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ZT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<s;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=m5(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function Je(s,t){return s<t?-1:s>t?1:0}function gy(s,t){const e=Math.min(s.length,t.length);for(let i=0;i<e;i++){const a=s.charAt(i),l=t.charAt(i);if(a!==l)return X_(a)===X_(l)?Je(a,l):X_(a)?1:-1}return Je(s.length,t.length)}const _5=55296,y5=57343;function X_(s){const t=s.charCodeAt(0);return t>=_5&&t<=y5}function Ef(s,t,e){return s.length===t.length&&s.every((i,a)=>e(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__name__";class kl{constructor(t,e,i){e===void 0?e=0:e>t.length&&Se(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Se(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return kl.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof kl?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=kl.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return Je(t.length,e.length)}static compareSegments(t,e){const i=kl.isNumericId(t),a=kl.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?kl.extractNumericId(t).compare(kl.extractNumericId(e)):gy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return yu.fromString(t.substring(4,t.length-2))}}class ti extends kl{construct(t,e,i){return new ti(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new te(Lt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(a=>a.length>0))}return new ti(e)}static emptyPath(){return new ti([])}}const v5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qs extends kl{construct(t,e,i){return new Qs(t,e,i)}static isValidIdentifier(t){return v5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KT}static keyField(){return new Qs([KT])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new te(Lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new te(Lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new te(Lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=y,a+=2}else g==="`"?(u=!u,a++):g!=="."||u?(i+=g,a++):(l(),a++)}if(l(),u)throw new te(Lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qs(e)}static emptyPath(){return new Qs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.path=t}static fromPath(t){return new me(ti.fromString(t))}static fromName(t){return new me(ti.fromString(t).popFirst(5))}static empty(){return new me(ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ti.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ti.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new me(new ti(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(s,t,e){if(!e)throw new te(Lt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function T5(s,t,e,i){if(t===!0&&i===!0)throw new te(Lt.INVALID_ARGUMENT,`${s} and ${e} cannot be used together.`)}function JT(s){if(!me.isDocumentKey(s))throw new te(Lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function jT(s){if(me.isDocumentKey(s))throw new te(Lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function EE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function bm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function zp(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new te(Lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bm(s);throw new te(Lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(s,t){const e={typeString:s};return t&&(e.value=t),e}function Tg(s,t){if(!EE(s))throw new te(Lt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in s)){e=`JSON missing required field: '${i}'`;break}const u=s[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new te(Lt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=-62135596800,tw=1e6;class li{static now(){return li.fromMillis(Date.now())}static fromDate(t){return li.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*tw);return new li(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new te(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new te(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<$T)throw new te(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new te(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tw}_compareTo(t){return this.seconds===t.seconds?Je(this.nanoseconds,t.nanoseconds):Je(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:li._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Tg(t,li._jsonSchema))return new li(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$T;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}li._jsonSchemaVersion="firestore/timestamp/1.0",li._jsonSchema={type:ss("string",li._jsonSchemaVersion),seconds:ss("number"),nanoseconds:ss("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(t){return new Me(t)}static min(){return new Me(new li(0,0))}static max(){return new Me(new li(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=-1;function w5(s,t){const e=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,a=Me.fromTimestamp(i===1e9?new li(e+1,0):new li(e,i));return new Eu(a,me.empty(),t)}function b5(s){return new Eu(s.readTime,s.key,Kd)}class Eu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Eu(Me.min(),me.empty(),Kd)}static max(){return new Eu(Me.max(),me.empty(),Kd)}}function E5(s,t){let e=s.readTime.compareTo(t.readTime);return e!==0?e:(e=me.comparator(s.documentKey,t.documentKey),e!==0?e:Je(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(s){if(s.code!==Lt.FAILED_PRECONDITION||s.message!==S5)throw s;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ut((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ut?e:Ut.resolve(e)}catch(e){return Ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ut.reject(e)}static resolve(t){return new Ut((e,i)=>{e(t)})}static reject(t){return new Ut((e,i)=>{i(t)})}static waitFor(t){return new Ut((e,i)=>{let a=0,l=0,u=!1;t.forEach(g=>{++a,g.next(()=>{++l,u&&l===a&&e()},y=>i(y))}),u=!0,l===a&&e()})}static or(t){let e=Ut.resolve(!1);for(const i of t)e=e.next(a=>a?Ut.resolve(a):i());return e}static forEach(t,e){const i=[];return t.forEach((a,l)=>{i.push(e.call(this,a,l))}),this.waitFor(i)}static mapArray(t,e){return new Ut((i,a)=>{const l=t.length,u=new Array(l);let g=0;for(let y=0;y<l;y++){const v=y;e(t[v]).next(E=>{u[v]=E,++g,g===l&&i(u)},E=>a(E))}})}static doWhile(t,e){return new Ut((i,a)=>{const l=()=>{t()===!0?e().next(()=>{l()},a):i()};l()})}}function C5(s){const t=s.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Uf(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-1;function Sm(s){return s==null}function Hp(s){return s===0&&1/s==-1/0}function x5(s){return typeof s=="number"&&Number.isInteger(s)&&!Hp(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="";function R5(s){let t="";for(let e=0;e<s.length;e++)t.length>0&&(t=ew(t)),t=M5(s.get(e),t);return ew(t)}function M5(s,t){let e=t;const i=s.length;for(let a=0;a<i;a++){const l=s.charAt(a);switch(l){case"\0":e+="";break;case SE:e+="";break;default:e+=l}}return e}function ew(s){return s+SE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(s){let t=0;for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t++;return t}function Th(s,t){for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&t(e,s[e])}function AE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(t,e){this.comparator=t,this.root=e||qs.EMPTY}insert(t,e){return new Ii(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,qs.BLACK,null,null))}remove(t){return new Ii(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ap(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ap(this.root,t,this.comparator,!1)}getReverseIterator(){return new ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ap(this.root,t,this.comparator,!0)}}class ap{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qs{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??qs.RED,this.left=a??qs.EMPTY,this.right=l??qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new qs(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return qs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return qs.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Se(27949);return t+(this.isRed()?0:1)}}qs.EMPTY=null,qs.RED=!0,qs.BLACK=!1;qs.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new qs(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this.comparator=t,this.data=new Ii(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new iw(this.data.getIterator())}getIteratorFrom(t){return new iw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ms)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ms(this.comparator);return e.data=t,e}}class iw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t){this.fields=t,t.sort(Qs.comparator)}static empty(){return new il([])}unionWith(t){let e=new ms(Qs.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new il(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ef(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new CE("Invalid base64 string: "+l):l}}(t);return new Zs(e)}static fromUint8Array(t){const e=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(t);return new Zs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Je(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Zs.EMPTY_BYTE_STRING=new Zs("");const I5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Su(s){if(An(!!s,39018),typeof s=="string"){let t=0;const e=I5.exec(s);if(An(!!e,46558,{timestamp:s}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Gi(s.seconds),nanos:Gi(s.nanos)}}function Gi(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Au(s){return typeof s=="string"?Zs.fromBase64String(s):Zs.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="server_timestamp",RE="__type__",ME="__previous_value__",IE="__local_write_time__";function N0(s){return(s?.mapValue?.fields||{})[RE]?.stringValue===xE}function Am(s){const t=s.mapValue.fields[ME];return N0(t)?Am(t):t}function Jd(s){const t=Su(s.mapValue.fields[IE].timestampValue);return new li(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(t,e,i,a,l,u,g,y,v,E){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=E}}const Yp="(default)";class jd{constructor(t,e){this.projectId=t,this.database=e||Yp}static empty(){return new jd("","")}get isDefaultDatabase(){return this.database===Yp}isEqual(t){return t instanceof jd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__type__",D5="__max__",op={mapValue:{}},DE="__vector__",Gp="value";function Cu(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?N0(s)?4:N5(s)?9007199254740991:O5(s)?10:11:Se(28295,{value:s})}function zl(s,t){if(s===t)return!0;const e=Cu(s);if(e!==Cu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Jd(s).isEqual(Jd(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Su(a.timestampValue),g=Su(l.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(a,l){return Au(a.bytesValue).isEqual(Au(l.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(a,l){return Gi(a.geoPointValue.latitude)===Gi(l.geoPointValue.latitude)&&Gi(a.geoPointValue.longitude)===Gi(l.geoPointValue.longitude)}(s,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Gi(a.integerValue)===Gi(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Gi(a.doubleValue),g=Gi(l.doubleValue);return u===g?Hp(u)===Hp(g):isNaN(u)&&isNaN(g)}return!1}(s,t);case 9:return Ef(s.arrayValue.values||[],t.arrayValue.values||[],zl);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},g=l.mapValue.fields||{};if(nw(u)!==nw(g))return!1;for(const y in u)if(u.hasOwnProperty(y)&&(g[y]===void 0||!zl(u[y],g[y])))return!1;return!0}(s,t);default:return Se(52216,{left:s})}}function $d(s,t){return(s.values||[]).find(e=>zl(e,t))!==void 0}function Sf(s,t){if(s===t)return 0;const e=Cu(s),i=Cu(t);if(e!==i)return Je(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Je(s.booleanValue,t.booleanValue);case 2:return function(l,u){const g=Gi(l.integerValue||l.doubleValue),y=Gi(u.integerValue||u.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(s,t);case 3:return sw(s.timestampValue,t.timestampValue);case 4:return sw(Jd(s),Jd(t));case 5:return gy(s.stringValue,t.stringValue);case 6:return function(l,u){const g=Au(l),y=Au(u);return g.compareTo(y)}(s.bytesValue,t.bytesValue);case 7:return function(l,u){const g=l.split("/"),y=u.split("/");for(let v=0;v<g.length&&v<y.length;v++){const E=Je(g[v],y[v]);if(E!==0)return E}return Je(g.length,y.length)}(s.referenceValue,t.referenceValue);case 8:return function(l,u){const g=Je(Gi(l.latitude),Gi(u.latitude));return g!==0?g:Je(Gi(l.longitude),Gi(u.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return rw(s.arrayValue,t.arrayValue);case 10:return function(l,u){const g=l.fields||{},y=u.fields||{},v=g[Gp]?.arrayValue,E=y[Gp]?.arrayValue,A=Je(v?.values?.length||0,E?.values?.length||0);return A!==0?A:rw(v,E)}(s.mapValue,t.mapValue);case 11:return function(l,u){if(l===op.mapValue&&u===op.mapValue)return 0;if(l===op.mapValue)return 1;if(u===op.mapValue)return-1;const g=l.fields||{},y=Object.keys(g),v=u.fields||{},E=Object.keys(v);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const C=gy(y[A],E[A]);if(C!==0)return C;const N=Sf(g[y[A]],v[E[A]]);if(N!==0)return N}return Je(y.length,E.length)}(s.mapValue,t.mapValue);default:throw Se(23264,{he:e})}}function sw(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Je(s,t);const e=Su(s),i=Su(t),a=Je(e.seconds,i.seconds);return a!==0?a:Je(e.nanos,i.nanos)}function rw(s,t){const e=s.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Sf(e[a],i[a]);if(l)return l}return Je(e.length,i.length)}function Af(s){return py(s)}function py(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(e){const i=Su(e);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(e){return Au(e).toBase64()}(s.bytesValue):"referenceValue"in s?function(e){return me.fromName(e).toString()}(s.referenceValue):"geoPointValue"in s?function(e){return`geo(${e.latitude},${e.longitude})`}(s.geoPointValue):"arrayValue"in s?function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=py(l);return i+"]"}(s.arrayValue):"mapValue"in s?function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${py(e.fields[u])}`;return a+"}"}(s.mapValue):Se(61005,{value:s})}function _p(s){switch(Cu(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Am(s);return t?16+_p(t):16;case 5:return 2*s.stringValue.length;case 6:return Au(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+_p(l),0)}(s.arrayValue);case 10:case 11:return function(i){let a=0;return Th(i.fields,(l,u)=>{a+=l.length+_p(u)}),a}(s.mapValue);default:throw Se(13486,{value:s})}}function aw(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function my(s){return!!s&&"integerValue"in s}function P0(s){return!!s&&"arrayValue"in s}function ow(s){return!!s&&"nullValue"in s}function lw(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function yp(s){return!!s&&"mapValue"in s}function O5(s){return(s?.mapValue?.fields||{})[kE]?.stringValue===DE}function Ld(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Th(s.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Ld(i)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(s.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ld(s.arrayValue.values[e]);return t}return{...s}}function N5(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===D5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t){this.value=t}static empty(){return new yo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ld(e)}setAll(t){let e=Qs.emptyPath(),i={},a=[];t.forEach((u,g)=>{if(!e.isImmediateParentOf(g)){const y=this.getFieldsMap(e);this.applyChanges(y,i,a),i={},a=[],e=g.popLast()}u?i[g.lastSegment()]=Ld(u):a.push(g.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());yp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return zl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];yp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Th(e,(a,l)=>t[a]=l);for(const a of i)delete t[a]}clone(){return new yo(Ld(this.value))}}function OE(s){const t=[];return Th(s.fields,(e,i)=>{const a=new Qs([e]);if(yp(i)){const l=OE(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)}),new il(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,e,i,a,l,u,g){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=g}static newInvalidDocument(t){return new wr(t,0,Me.min(),Me.min(),Me.min(),yo.empty(),0)}static newFoundDocument(t,e,i,a){return new wr(t,1,e,Me.min(),i,a,0)}static newNoDocument(t,e){return new wr(t,2,e,Me.min(),Me.min(),yo.empty(),0)}static newUnknownDocument(t,e){return new wr(t,3,e,Me.min(),Me.min(),yo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,e){this.position=t,this.inclusive=e}}function cw(s,t,e){let i=0;for(let a=0;a<s.position.length;a++){const l=t[a],u=s.position[a];if(l.field.isKeyField()?i=me.comparator(me.fromName(u.referenceValue),e.key):i=Sf(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function uw(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let e=0;e<s.position.length;e++)if(!zl(s.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,e="asc"){this.field=t,this.dir=e}}function P5(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{}class ns extends NE{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new L5(t,e,i):e==="array-contains"?new B5(t,i):e==="in"?new z5(t,i):e==="not-in"?new H5(t,i):e==="array-contains-any"?new Y5(t,i):new ns(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new F5(t,i):new U5(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Sf(e,this.value)):e!==null&&Cu(this.value)===Cu(e)&&this.matchesComparison(Sf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ol extends NE{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ol(t,e)}matches(t){return PE(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PE(s){return s.op==="and"}function VE(s){return V5(s)&&PE(s)}function V5(s){for(const t of s.filters)if(t instanceof ol)return!1;return!0}function _y(s){if(s instanceof ns)return s.field.canonicalString()+s.op.toString()+Af(s.value);if(VE(s))return s.filters.map(t=>_y(t)).join(",");{const t=s.filters.map(e=>_y(e)).join(",");return`${s.op}(${t})`}}function LE(s,t){return s instanceof ns?function(i,a){return a instanceof ns&&i.op===a.op&&i.field.isEqual(a.field)&&zl(i.value,a.value)}(s,t):s instanceof ol?function(i,a){return a instanceof ol&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,g)=>l&&LE(u,a.filters[g]),!0):!1}(s,t):void Se(19439)}function FE(s){return s instanceof ns?function(e){return`${e.field.canonicalString()} ${e.op} ${Af(e.value)}`}(s):s instanceof ol?function(e){return e.op.toString()+" {"+e.getFilters().map(FE).join(" ,")+"}"}(s):"Filter"}class L5 extends ns{constructor(t,e,i){super(t,e,i),this.key=me.fromName(i.referenceValue)}matches(t){const e=me.comparator(t.key,this.key);return this.matchesComparison(e)}}class F5 extends ns{constructor(t,e){super(t,"in",e),this.keys=UE("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class U5 extends ns{constructor(t,e){super(t,"not-in",e),this.keys=UE("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function UE(s,t){return(t.arrayValue?.values||[]).map(e=>me.fromName(e.referenceValue))}class B5 extends ns{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return P0(e)&&$d(e.arrayValue,this.value)}}class z5 extends ns{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&$d(this.value.arrayValue,e)}}class H5 extends ns{constructor(t,e){super(t,"not-in",e)}matches(t){if($d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!$d(this.value.arrayValue,e)}}class Y5 extends ns{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!P0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>$d(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(t,e=null,i=[],a=[],l=null,u=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=g,this.Te=null}}function hw(s,t=null,e=[],i=[],a=null,l=null,u=null){return new G5(s,t,e,i,a,l,u)}function V0(s){const t=Ie(s);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>_y(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Sm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Af(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Af(i)).join(",")),t.Te=e}return t.Te}function L0(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<s.orderBy.length;e++)if(!P5(s.orderBy[e],t.orderBy[e]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let e=0;e<s.filters.length;e++)if(!LE(s.filters[e],t.filters[e]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!uw(s.startAt,t.startAt)&&uw(s.endAt,t.endAt)}function yy(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,e=null,i=[],a=[],l=null,u="F",g=null,y=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X5(s,t,e,i,a,l,u,g){return new Bf(s,t,e,i,a,l,u,g)}function BE(s){return new Bf(s)}function fw(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function zE(s){return s.collectionGroup!==null}function Fd(s){const t=Ie(s);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let g=new ms(Qs.comparator);return u.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new tg(l,i))}),e.has(Qs.keyField().canonicalString())||t.Ie.push(new tg(Qs.keyField(),i))}return t.Ie}function Nl(s){const t=Ie(s);return t.Ee||(t.Ee=W5(t,Fd(s))),t.Ee}function W5(s,t){if(s.limitType==="F")return hw(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new tg(a.field,l)});const e=s.endAt?new Xp(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Xp(s.startAt.position,s.startAt.inclusive):null;return hw(s.path,s.collectionGroup,t,s.filters,s.limit,e,i)}}function vy(s,t){const e=s.filters.concat([t]);return new Bf(s.path,s.collectionGroup,s.explicitOrderBy.slice(),e,s.limit,s.limitType,s.startAt,s.endAt)}function Wp(s,t,e){return new Bf(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,e,s.startAt,s.endAt)}function Cm(s,t){return L0(Nl(s),Nl(t))&&s.limitType===t.limitType}function HE(s){return`${V0(Nl(s))}|lt:${s.limitType}`}function rf(s){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(a=>FE(a)).join(", ")}]`),Sm(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Af(a)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Af(a)).join(",")),`Target(${i})`}(Nl(s))}; limitType=${s.limitType})`}function xm(s,t){return t.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(s,t)&&function(i,a){for(const l of Fd(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(s,t)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(s,t)&&function(i,a){return!(i.startAt&&!function(u,g,y){const v=cw(u,g,y);return u.inclusive?v<=0:v<0}(i.startAt,Fd(i),a)||i.endAt&&!function(u,g,y){const v=cw(u,g,y);return u.inclusive?v>=0:v>0}(i.endAt,Fd(i),a))}(s,t)}function q5(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function YE(s){return(t,e)=>{let i=!1;for(const a of Fd(s)){const l=Q5(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Q5(s,t,e){const i=s.field.isKeyField()?me.comparator(t.key,e.key):function(l,u,g){const y=u.data.field(l),v=g.data.field(l);return y!==null&&v!==null?Sf(y,v):Se(42886)}(s.field,t,e);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Th(this.inner,(e,i)=>{for(const[a,l]of i)t(a,l)})}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=new Ii(me.comparator);function Rc(){return Z5}const GE=new Ii(me.comparator);function Od(...s){let t=GE;for(const e of s)t=t.insert(e.key,e);return t}function XE(s){let t=GE;return s.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function uh(){return Ud()}function WE(){return Ud()}function Ud(){return new wh(s=>s.toString(),(s,t)=>s.isEqual(t))}const K5=new Ii(me.comparator),J5=new ms(me.comparator);function $e(...s){let t=J5;for(const e of s)t=t.add(e);return t}const j5=new ms(Je);function $5(){return j5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(t)?"-0":t}}function qE(s){return{integerValue:""+s}}function tk(s,t){return x5(t)?qE(t):F0(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this._=void 0}}function ek(s,t,e){return s instanceof qp?function(a,l){const u={fields:{[RE]:{stringValue:xE},[IE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&N0(l)&&(l=Am(l)),l&&(u.fields[ME]=l),{mapValue:u}}(e,t):s instanceof eg?ZE(s,t):s instanceof ng?KE(s,t):function(a,l){const u=QE(a,l),g=dw(u)+dw(a.Ae);return my(u)&&my(a.Ae)?qE(g):F0(a.serializer,g)}(s,t)}function nk(s,t,e){return s instanceof eg?ZE(s,t):s instanceof ng?KE(s,t):e}function QE(s,t){return s instanceof Qp?function(i){return my(i)||function(l){return!!l&&"doubleValue"in l}(i)}(t)?t:{integerValue:0}:null}class qp extends Rm{}class eg extends Rm{constructor(t){super(),this.elements=t}}function ZE(s,t){const e=JE(t);for(const i of s.elements)e.some(a=>zl(a,i))||e.push(i);return{arrayValue:{values:e}}}class ng extends Rm{constructor(t){super(),this.elements=t}}function KE(s,t){let e=JE(t);for(const i of s.elements)e=e.filter(a=>!zl(a,i));return{arrayValue:{values:e}}}class Qp extends Rm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function dw(s){return Gi(s.integerValue||s.doubleValue)}function JE(s){return P0(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ik(s,t){return s.field.isEqual(t.field)&&function(i,a){return i instanceof eg&&a instanceof eg||i instanceof ng&&a instanceof ng?Ef(i.elements,a.elements,zl):i instanceof Qp&&a instanceof Qp?zl(i.Ae,a.Ae):i instanceof qp&&a instanceof qp}(s.transform,t.transform)}class sk{constructor(t,e){this.version=t,this.transformResults=e}}class bc{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new bc}static exists(t){return new bc(void 0,t)}static updateTime(t){return new bc(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vp(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Mm{}function jE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new t2(s.key,bc.none()):new wg(s.key,s.data,bc.none());{const e=s.data,i=yo.empty();let a=new ms(Qs.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new bh(s.key,i,new il(a.toArray()),bc.none())}}function rk(s,t,e){s instanceof wg?function(a,l,u){const g=a.value.clone(),y=pw(a.fieldTransforms,l,u.transformResults);g.setAll(y),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(s,t,e):s instanceof bh?function(a,l,u){if(!vp(a.precondition,l))return void l.convertToUnknownDocument(u.version);const g=pw(a.fieldTransforms,l,u.transformResults),y=l.data;y.setAll($E(a)),y.setAll(g),l.convertToFoundDocument(u.version,y).setHasCommittedMutations()}(s,t,e):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function Bd(s,t,e,i){return s instanceof wg?function(l,u,g,y){if(!vp(l.precondition,u))return g;const v=l.value.clone(),E=mw(l.fieldTransforms,y,u);return v.setAll(E),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(s,t,e,i):s instanceof bh?function(l,u,g,y){if(!vp(l.precondition,u))return g;const v=mw(l.fieldTransforms,y,u),E=u.data;return E.setAll($E(l)),E.setAll(v),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),g===null?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(A=>A.field))}(s,t,e,i):function(l,u,g){return vp(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g}(s,t,e)}function ak(s,t){let e=null;for(const i of s.fieldTransforms){const a=t.data.field(i.field),l=QE(i.transform,a||null);l!=null&&(e===null&&(e=yo.empty()),e.set(i.field,l))}return e||null}function gw(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ef(i,a,(l,u)=>ik(l,u))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class wg extends Mm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bh extends Mm{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $E(s){const t=new Map;return s.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=s.data.field(e);t.set(e,i)}}),t}function pw(s,t,e){const i=new Map;An(s.length===e.length,32656,{Re:e.length,Ve:s.length});for(let a=0;a<e.length;a++){const l=s[a],u=l.transform,g=t.data.field(l.field);i.set(l.field,nk(u,g,e[a]))}return i}function mw(s,t,e){const i=new Map;for(const a of s){const l=a.transform,u=e.data.field(a.field);i.set(a.field,ek(l,u,t))}return i}class t2 extends Mm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ok extends Mm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&rk(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Bd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Bd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=WE();return this.mutations.forEach(a=>{const l=t.get(a.key),u=l.overlayedDocument;let g=this.applyToLocalView(u,l.mutatedFields);g=e.has(a.key)?null:g;const y=jE(u,g);y!==null&&i.set(a.key,y),u.isValidDocument()||u.convertToNoDocument(Me.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),$e())}isEqual(t){return this.batchId===t.batchId&&Ef(this.mutations,t.mutations,(e,i)=>gw(e,i))&&Ef(this.baseMutations,t.baseMutations,(e,i)=>gw(e,i))}}class U0{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){An(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=function(){return K5}();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new U0(t,e,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts,rn;function hk(s){switch(s){case Lt.OK:return Se(64938);case Lt.CANCELLED:case Lt.UNKNOWN:case Lt.DEADLINE_EXCEEDED:case Lt.RESOURCE_EXHAUSTED:case Lt.INTERNAL:case Lt.UNAVAILABLE:case Lt.UNAUTHENTICATED:return!1;case Lt.INVALID_ARGUMENT:case Lt.NOT_FOUND:case Lt.ALREADY_EXISTS:case Lt.PERMISSION_DENIED:case Lt.FAILED_PRECONDITION:case Lt.ABORTED:case Lt.OUT_OF_RANGE:case Lt.UNIMPLEMENTED:case Lt.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function e2(s){if(s===void 0)return xc("GRPC error has no .code"),Lt.UNKNOWN;switch(s){case ts.OK:return Lt.OK;case ts.CANCELLED:return Lt.CANCELLED;case ts.UNKNOWN:return Lt.UNKNOWN;case ts.DEADLINE_EXCEEDED:return Lt.DEADLINE_EXCEEDED;case ts.RESOURCE_EXHAUSTED:return Lt.RESOURCE_EXHAUSTED;case ts.INTERNAL:return Lt.INTERNAL;case ts.UNAVAILABLE:return Lt.UNAVAILABLE;case ts.UNAUTHENTICATED:return Lt.UNAUTHENTICATED;case ts.INVALID_ARGUMENT:return Lt.INVALID_ARGUMENT;case ts.NOT_FOUND:return Lt.NOT_FOUND;case ts.ALREADY_EXISTS:return Lt.ALREADY_EXISTS;case ts.PERMISSION_DENIED:return Lt.PERMISSION_DENIED;case ts.FAILED_PRECONDITION:return Lt.FAILED_PRECONDITION;case ts.ABORTED:return Lt.ABORTED;case ts.OUT_OF_RANGE:return Lt.OUT_OF_RANGE;case ts.UNIMPLEMENTED:return Lt.UNIMPLEMENTED;case ts.DATA_LOSS:return Lt.DATA_LOSS;default:return Se(39323,{code:s})}}(rn=ts||(ts={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new yu([4294967295,4294967295],0);function _w(s){const t=fk().encode(s),e=new gE;return e.update(t),new Uint8Array(e.digest())}function yw(s){const t=new DataView(s.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new yu([e,i],0),new yu([a,l],0)]}class B0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Nd(`Invalid padding: ${e}`);if(i<0)throw new Nd(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Nd(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Nd(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=yu.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(yu.fromNumber(i)));return a.compare(dk)===1&&(a=new yu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=_w(t),[i,a]=yw(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new B0(l,a,e);return i.forEach(g=>u.insert(g)),u}insert(t){if(this.ge===0)return;const e=_w(t),[i,a]=yw(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,bg.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Im(Me.min(),a,new Ii(Je),Rc(),$e())}}class bg{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new bg(i,e,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class n2{constructor(t,e){this.targetId=t,this.Ce=e}}class i2{constructor(t,e,i=Zs.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class vw{constructor(){this.ve=0,this.Fe=Tw(),this.Me=Zs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=$e(),e=$e(),i=$e();return this.Fe.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Se(38017,{changeType:l})}}),new bg(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=Tw()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,An(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rc(),this.Je=lp(),this.He=lp(),this.Ye=new Ii(Je)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Se(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,a)=>{this.rt(a)&&e(a)})}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(yy(l))if(i===0){const u=new me(l.path);this.et(e,u,wr.newNoDocument(u,Me.min()))}else An(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const g=this.ut(t),y=g?this.ct(g,t,u):1;if(y!==0){this.it(e);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,v)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,g;try{u=Au(i).toUint8Array()}catch(y){if(y instanceof CE)return bf("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new B0(u,a,l)}catch(y){return bf(y instanceof Nd?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach(l=>{const u=this.Ge.ht(),g=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(g)||(this.et(e,l,null),a++)}),a}Tt(t){const e=new Map;this.ze.forEach((l,u)=>{const g=this.ot(u);if(g){if(l.current&&yy(g.target)){const y=new me(g.target.path);this.It(y).has(u)||this.Et(u,y)||this.et(u,y,wr.newNoDocument(y,t))}l.Be&&(e.set(u,l.ke()),l.qe())}});let i=$e();this.He.forEach((l,u)=>{let g=!0;u.forEachWhile(y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(i=i.add(l))}),this.je.forEach((l,u)=>u.setReadTime(t));const a=new Im(t,e,this.Ye,this.je,i);return this.je=Rc(),this.Je=lp(),this.He=lp(),this.Ye=new Ii(Je),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new vw,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ms(Je),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ms(Je),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||ee("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new vw),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function lp(){return new Ii(me.comparator)}function Tw(){return new Ii(me.comparator)}const pk={asc:"ASCENDING",desc:"DESCENDING"},mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_k={and:"AND",or:"OR"};class yk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ty(s,t){return s.useProto3Json||Sm(t)?t:{value:t}}function Zp(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function s2(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function vk(s,t){return Zp(s,t.toTimestamp())}function Pl(s){return An(!!s,49232),Me.fromTimestamp(function(e){const i=Su(e);return new li(i.seconds,i.nanos)}(s))}function z0(s,t){return wy(s,t).canonicalString()}function wy(s,t){const e=function(a){return new ti(["projects",a.projectId,"databases",a.database])}(s).child("documents");return t===void 0?e:e.child(t)}function r2(s){const t=ti.fromString(s);return An(u2(t),10190,{key:t.toString()}),t}function by(s,t){return z0(s.databaseId,t.path)}function W_(s,t){const e=r2(t);if(e.get(1)!==s.databaseId.projectId)throw new te(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+s.databaseId.projectId);if(e.get(3)!==s.databaseId.database)throw new te(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+s.databaseId.database);return new me(o2(e))}function a2(s,t){return z0(s.databaseId,t)}function Tk(s){const t=r2(s);return t.length===4?ti.emptyPath():o2(t)}function Ey(s){return new ti(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function o2(s){return An(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function ww(s,t,e){return{name:by(s,t),fields:e.value.mapValue.fields}}function wk(s,t){let e;if("targetChange"in t){t.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(v,E){return v.useProto3Json?(An(E===void 0||typeof E=="string",58123),Zs.fromBase64String(E||"")):(An(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Zs.fromUint8Array(E||new Uint8Array))}(s,t.targetChange.resumeToken),u=t.targetChange.cause,g=u&&function(v){const E=v.code===void 0?Lt.UNKNOWN:e2(v.code);return new te(E,v.message||"")}(u);e=new i2(i,a,l,g||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=W_(s,i.document.name),l=Pl(i.document.updateTime),u=i.document.createTime?Pl(i.document.createTime):Me.min(),g=new yo({mapValue:{fields:i.document.fields}}),y=wr.newFoundDocument(a,l,u,g),v=i.targetIds||[],E=i.removedTargetIds||[];e=new Tp(v,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=W_(s,i.document),l=i.readTime?Pl(i.readTime):Me.min(),u=wr.newNoDocument(a,l),g=i.removedTargetIds||[];e=new Tp([],g,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=W_(s,i.document),l=i.removedTargetIds||[];e=new Tp([],l,a,null)}else{if(!("filter"in t))return Se(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new uk(a,l),g=i.targetId;e=new n2(g,u)}}return e}function bk(s,t){let e;if(t instanceof wg)e={update:ww(s,t.key,t.value)};else if(t instanceof t2)e={delete:by(s,t.key)};else if(t instanceof bh)e={update:ww(s,t.key,t.data),updateMask:kk(t.fieldMask)};else{if(!(t instanceof ok))return Se(16599,{Vt:t.type});e={verify:by(s,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(l,u){const g=u.transform;if(g instanceof qp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eg)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ng)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qp)return{fieldPath:u.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:u.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:vk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(s,t.precondition)),e}function Ek(s,t){return s&&s.length>0?(An(t!==void 0,14353),s.map(e=>function(a,l){let u=a.updateTime?Pl(a.updateTime):Pl(l);return u.isEqual(Me.min())&&(u=Pl(l)),new sk(u,a.transformResults||[])}(e,t))):[]}function Sk(s,t){return{documents:[a2(s,t.path)]}}function Ak(s,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=a2(s,a);const l=function(v){if(v.length!==0)return c2(ol.create(v,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const u=function(v){if(v.length!==0)return v.map(E=>function(C){return{field:af(C.field),direction:Rk(C.dir)}}(E))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const g=Ty(s,t.limit);return g!==null&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ft:e,parent:a}}function Ck(s){let t=Tk(s.parent);const e=s.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){An(i===1,65062);const E=e.from[0];E.allDescendants?a=E.collectionId:t=t.child(E.collectionId)}let l=[];e.where&&(l=function(A){const C=l2(A);return C instanceof ol&&VE(C)?C.getFilters():[C]}(e.where));let u=[];e.orderBy&&(u=function(A){return A.map(C=>function(L){return new tg(of(L.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(C))}(e.orderBy));let g=null;e.limit&&(g=function(A){let C;return C=typeof A=="object"?A.value:A,Sm(C)?null:C}(e.limit));let y=null;e.startAt&&(y=function(A){const C=!!A.before,N=A.values||[];return new Xp(N,C)}(e.startAt));let v=null;return e.endAt&&(v=function(A){const C=!A.before,N=A.values||[];return new Xp(N,C)}(e.endAt)),X5(t,a,u,l,g,"F",y,v)}function xk(s,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function l2(s){return s.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=of(e.unaryFilter.field);return ns.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=of(e.unaryFilter.field);return ns.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=of(e.unaryFilter.field);return ns.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=of(e.unaryFilter.field);return ns.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(s):s.fieldFilter!==void 0?function(e){return ns.create(of(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(e){return ol.create(e.compositeFilter.filters.map(i=>l2(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(e.compositeFilter.op))}(s):Se(30097,{filter:s})}function Rk(s){return pk[s]}function Mk(s){return mk[s]}function Ik(s){return _k[s]}function af(s){return{fieldPath:s.canonicalString()}}function of(s){return Qs.fromServerFormat(s.fieldPath)}function c2(s){return s instanceof ns?function(e){if(e.op==="=="){if(lw(e.value))return{unaryFilter:{field:af(e.field),op:"IS_NAN"}};if(ow(e.value))return{unaryFilter:{field:af(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lw(e.value))return{unaryFilter:{field:af(e.field),op:"IS_NOT_NAN"}};if(ow(e.value))return{unaryFilter:{field:af(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:af(e.field),op:Mk(e.op),value:e.value}}}(s):s instanceof ol?function(e){const i=e.getFilters().map(a=>c2(a));return i.length===1?i[0]:{compositeFilter:{op:Ik(e.op),filters:i}}}(s):Se(54877,{filter:s})}function kk(s){const t=[];return s.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function u2(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,e,i,a,l=Me.min(),u=Me.min(),g=Zs.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new gu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t){this.yt=t}}function Ok(s){const t=Ck({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Wp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.Cn=new Pk}addToCollectionParentIndex(t,e){return this.Cn.add(e),Ut.resolve()}getCollectionParents(t,e){return Ut.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Ut.resolve()}deleteFieldIndex(t,e){return Ut.resolve()}deleteAllFieldIndexes(t){return Ut.resolve()}createTargetIndexes(t,e){return Ut.resolve()}getDocumentsMatchingTarget(t,e){return Ut.resolve(null)}getIndexType(t,e){return Ut.resolve(0)}getFieldIndexes(t,e){return Ut.resolve([])}getNextCollectionGroupToUpdate(t){return Ut.resolve(null)}getMinOffset(t,e){return Ut.resolve(Eu.min())}getMinOffsetFromCollectionGroup(t,e){return Ut.resolve(Eu.min())}updateCollectionGroup(t,e,i){return Ut.resolve()}updateIndexEntries(t,e){return Ut.resolve()}}class Pk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ms(ti.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ms(ti.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h2=41943040;class fa{static withCacheSize(t){return new fa(t,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fa.DEFAULT_COLLECTION_PERCENTILE=10,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fa.DEFAULT=new fa(h2,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fa.DISABLED=new fa(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Cf(0)}static cr(){return new Cf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="LruGarbageCollector",Vk=1048576;function Sw([s,t],[e,i]){const a=Je(s,e);return a===0?Je(t,i):a}class Lk{constructor(t){this.Ir=t,this.buffer=new ms(Sw),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Sw(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Fk{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ee(Ew,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Uf(e)?ee(Ew,"Ignoring IndexedDB error during garbage collection: ",e):await Ff(e)}await this.Vr(3e5)})}}class Uk{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return Ut.resolve(Em.ce);const i=new Lk(e);return this.mr.forEachTarget(t,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),Ut.resolve(bw)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bw):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,l,u,g,y,v;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,u=Date.now(),this.nthSequenceNumber(t,a))).next(A=>(i=A,g=Date.now(),this.removeTargets(t,i,e))).next(A=>(l=A,y=Date.now(),this.removeOrphanedDocuments(t,i))).next(A=>(v=Date.now(),sf()<=an.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${a} in `+(g-u)+`ms
	Removed ${l} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(v-y)+`ms
Total Duration: ${v-E}ms`),Ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:A})))}}function Bk(s,t){return new Uk(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.changes=new wh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,wr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?Ut.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(i!==null&&Bd(i.mutation,a,il.empty(),li.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,$e()).next(()=>i))}getLocalViewOfDocuments(t,e,i=$e()){const a=uh();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,i).next(l=>{let u=Od();return l.forEach((g,y)=>{u=u.insert(g,y.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=uh();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,$e()))}populateOverlays(t,e,i){const a=[];return i.forEach(l=>{e.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((u,g)=>{e.set(u,g)})})}computeViews(t,e,i,a){let l=Rc();const u=Ud(),g=function(){return Ud()}();return e.forEach((y,v)=>{const E=i.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof bh)?l=l.insert(v.key,v):E!==void 0?(u.set(v.key,E.mutation.getFieldMask()),Bd(E.mutation,v,E.mutation.getFieldMask(),li.now())):u.set(v.key,il.empty())}),this.recalculateAndSaveOverlays(t,l).next(y=>(y.forEach((v,E)=>u.set(v,E)),e.forEach((v,E)=>g.set(v,new Hk(E,u.get(v)??null))),g))}recalculateAndSaveOverlays(t,e){const i=Ud();let a=new Ii((u,g)=>u-g),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const g of u)g.keys().forEach(y=>{const v=e.get(y);if(v===null)return;let E=i.get(y)||il.empty();E=g.applyToLocalView(v,E),i.set(y,E);const A=(a.get(g.batchId)||$e()).add(y);a=a.insert(g.batchId,A)})}).next(()=>{const u=[],g=a.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,E=y.value,A=WE();E.forEach(C=>{if(!l.has(C)){const N=jE(e.get(C),i.get(C));N!==null&&A.set(C,N),l=l.add(C)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,A))}return Ut.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,a){return function(u){return me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):zE(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):Ut.resolve(uh());let g=Kd,y=l;return u.next(v=>Ut.forEach(v,(E,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),l.get(E)?Ut.resolve():this.remoteDocumentCache.getEntry(t,E).next(C=>{y=y.insert(E,C)}))).next(()=>this.populateOverlays(t,v,l)).next(()=>this.computeViews(t,y,v,$e())).next(E=>({batchId:g,changes:XE(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new me(e)).next(i=>{let a=Od();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=Od();return this.indexManager.getCollectionParents(t,l).next(g=>Ut.forEach(g,y=>{const v=function(A,C){return new Bf(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(e,y.child(l));return this.getDocumentsMatchingCollectionQuery(t,v,i,a).next(E=>{E.forEach((A,C)=>{u=u.insert(A,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a))).next(u=>{l.forEach((y,v)=>{const E=v.getKey();u.get(E)===null&&(u=u.insert(E,wr.newInvalidDocument(E)))});let g=Od();return u.forEach((y,v)=>{const E=l.get(y);E!==void 0&&Bd(E.mutation,v,il.empty(),li.now()),xm(e,v)&&(g=g.insert(y,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Ut.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:Pl(a.createTime)}}(e)),Ut.resolve()}getNamedQuery(t,e){return Ut.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(a){return{name:a.name,query:Ok(a.bundledQuery),readTime:Pl(a.readTime)}}(e)),Ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.overlays=new Ii(me.comparator),this.qr=new Map}getOverlay(t,e){return Ut.resolve(this.overlays.get(e))}getOverlays(t,e){const i=uh();return Ut.forEach(e,a=>this.getOverlay(t,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((a,l)=>{this.St(t,e,l)}),Ut.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),Ut.resolve()}getOverlaysForCollection(t,e,i){const a=uh(),l=e.length+1,u=new me(e.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===l&&y.largestBatchId>i&&a.set(y.getKey(),y)}return Ut.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new Ii((v,E)=>v-E);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let E=l.get(v.largestBatchId);E===null&&(E=uh(),l=l.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const g=uh(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,E)=>g.set(v,E)),!(g.size()>=a)););return Ut.resolve(g)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new ck(e,i));let l=this.qr.get(e);l===void 0&&(l=$e(),this.qr.set(e,l)),this.qr.set(e,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.sessionToken=Zs.EMPTY_BYTE_STRING}getSessionToken(t){return Ut.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.Qr=new ms(Is.$r),this.Ur=new ms(Is.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Is(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new Is(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new me(new ti([])),i=new Is(e,t),a=new Is(e,t+1),l=[];return this.Ur.forEachInRange([i,a],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new me(new ti([])),i=new Is(e,t),a=new Is(e,t+1);let l=$e();return this.Ur.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(t){const e=new Is(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Is{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return me.comparator(t.key,e.key)||Je(t.Yr,e.Yr)}static Kr(t,e){return Je(t.Yr,e.Yr)||me.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ms(Is.$r)}checkEmpty(t){return Ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new lk(l,e,i,a);this.mutationQueue.push(u);for(const g of a)this.Zr=this.Zr.add(new Is(g.key,l)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Ut.resolve(u)}lookupMutationBatch(t,e){return Ut.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),l=a<0?0:a;return Ut.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ut.resolve(this.mutationQueue.length===0?O0:this.tr-1)}getAllMutationBatches(t){return Ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Is(e,0),a=new Is(e,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],u=>{const g=this.Xr(u.Yr);l.push(g)}),Ut.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ms(Je);return e.forEach(a=>{const l=new Is(a,0),u=new Is(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],g=>{i=i.add(g.Yr)})}),Ut.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;me.isDocumentKey(l)||(l=l.child(""));const u=new Is(new me(l),0);let g=new ms(Je);return this.Zr.forEachWhile(y=>{const v=y.key.path;return!!i.isPrefixOf(v)&&(v.length===a&&(g=g.add(y.Yr)),!0)},u),Ut.resolve(this.ti(g))}ti(t){const e=[];return t.forEach(i=>{const a=this.Xr(i);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){An(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Ut.forEach(e.mutations,a=>{const l=new Is(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new Is(e,0),a=this.Zr.firstAfterOrEqual(i);return Ut.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ut.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(t){this.ri=t,this.docs=function(){return new Ii(me.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ut.resolve(i?i.document.mutableCopy():wr.newInvalidDocument(e))}getEntries(t,e){let i=Rc();return e.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():wr.newInvalidDocument(a))}),Ut.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Rc();const u=e.path,g=new me(u.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:E}}=y.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||E5(b5(E),i)<=0||(a.has(E.key)||xm(e,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Ut.resolve(l)}getAllFromCollectionGroup(t,e,i,a){Se(9500)}ii(t,e){return Ut.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Zk(this)}getSize(t){return Ut.resolve(this.size)}}class Zk extends zk{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)}),Ut.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t){this.persistence=t,this.si=new wh(e=>V0(e),L0),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new H0,this.targetCount=0,this.ai=Cf.ur()}forEachTarget(t,e){return this.si.forEach((i,a)=>e(a)),Ut.resolve()}getLastRemoteSnapshotVersion(t){return Ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ut.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),Ut.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Cf(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Ut.resolve()}updateTargetData(t,e){return this.Pr(e),Ut.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Ut.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.si.forEach((u,g)=>{g.sequenceNumber<=e&&i.get(g.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)}),Ut.waitFor(l).next(()=>a)}getTargetCount(t){return Ut.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return Ut.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),Ut.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach(u=>{l.push(a.markPotentiallyOrphaned(t,u))}),Ut.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Ut.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return Ut.resolve(i)}containsKey(t,e){return Ut.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t,e){this.ui={},this.overlays={},this.ci=new Em(0),this.li=!1,this.li=!0,this.hi=new Wk,this.referenceDelegate=t(this),this.Pi=new Kk(this),this.indexManager=new Nk,this.remoteDocumentCache=function(a){return new Qk(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new Dk(e),this.Ii=new Gk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Xk,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new qk(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){ee("MemoryPersistence","Starting transaction:",t);const a=new Jk(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(t,e){return Ut.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class Jk extends A5{constructor(t){super(),this.currentSequenceNumber=t}}class Y0{constructor(t){this.persistence=t,this.Ri=new H0,this.Vi=null}static mi(t){return new Y0(t)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),Ut.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),Ut.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Ut.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ut.forEach(this.fi,i=>{const a=me.fromPath(i);return this.gi(t,a).next(l=>{l||e.removeEntry(a,Me.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return Ut.or([()=>Ut.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Kp{constructor(t,e){this.persistence=t,this.pi=new wh(i=>R5(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=Bk(this,e)}static mi(t,e){return new Kp(t,e)}Ei(){}di(t){return Ut.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(a=>i+a))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return Ut.forEach(this.pi,(i,a)=>this.br(t,i,a).next(l=>l?Ut.resolve():e(a)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,u=>this.br(t,u,e).next(g=>{g||(i++,l.removeEntry(u,Me.min()))})).next(()=>l.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Ut.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Ut.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),Ut.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Ut.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=_p(t.data.value)),e}br(t,e,i){return Ut.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return Ut.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=$e(),a=$e();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new G0(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return WM()?8:C5(GM())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.ys(t,e).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(t,e,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new jk;return this.Ss(t,e,u).next(g=>{if(l.result=g,this.Vs)return this.bs(t,e,u,g.size)})}).next(()=>l.result)}bs(t,e,i,a){return i.documentReadCount<this.fs?(sf()<=an.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",rf(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ut.resolve()):(sf()<=an.DEBUG&&ee("QueryEngine","Query:",rf(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(sf()<=an.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",rf(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Nl(e))):Ut.resolve())}ys(t,e){if(fw(e))return Ut.resolve(null);let i=Nl(e);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=Wp(e,null,"F"),i=Nl(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const u=$e(...l);return this.ps.getDocuments(t,u).next(g=>this.indexManager.getMinOffset(t,i).next(y=>{const v=this.Ds(e,g);return this.Cs(e,v,u,y.readTime)?this.ys(t,Wp(e,null,"F")):this.vs(t,v,e,y)}))})))}ws(t,e,i,a){return fw(e)||a.isEqual(Me.min())?Ut.resolve(null):this.ps.getDocuments(t,i).next(l=>{const u=this.Ds(e,l);return this.Cs(e,u,i,a)?Ut.resolve(null):(sf()<=an.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rf(e)),this.vs(t,u,e,w5(a,Kd)).next(g=>g))})}Ds(t,e){let i=new ms(YE(t));return e.forEach((a,l)=>{xm(t,l)&&(i=i.add(l))}),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,e,i){return sf()<=an.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",rf(e)),this.ps.getDocumentsMatchingQuery(t,e,Eu.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next(l=>(e.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="LocalStore",tD=3e8;class eD{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new Ii(Je),this.xs=new wh(l=>V0(l),L0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Yk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function nD(s,t,e,i){return new eD(s,t,e,i)}async function d2(s,t){const e=Ie(s);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],g=[];let y=$e();for(const v of a){u.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}for(const v of l){g.push(v.batchId);for(const E of v.mutations)y=y.add(E.key)}return e.localDocuments.getDocuments(i,y).next(v=>({Ls:v,removedBatchIds:u,addedBatchIds:g}))})})}function iD(s,t){const e=Ie(s);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),l=e.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,v,E){const A=v.batch,C=A.keys();let N=Ut.resolve();return C.forEach(L=>{N=N.next(()=>E.getEntry(y,L)).next(Z=>{const H=v.docVersions.get(L);An(H!==null,48541),Z.version.compareTo(H)<0&&(A.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),E.addEntry(Z)))})}),N.next(()=>g.mutationQueue.removeMutationBatch(y,A))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let y=$e();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y}(t))).next(()=>e.localDocuments.getDocuments(i,a))})}function g2(s){const t=Ie(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function sD(s,t){const e=Ie(s),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const g=[];t.targetChanges.forEach((E,A)=>{const C=a.get(A);if(!C)return;g.push(e.Pi.removeMatchingKeys(l,E.removedDocuments,A).next(()=>e.Pi.addMatchingKeys(l,E.addedDocuments,A)));let N=C.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(A)!==null?N=N.withResumeToken(Zs.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,i)),a=a.insert(A,N),function(Z,H,j){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=tD?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(C,N,E)&&g.push(e.Pi.updateTargetData(l,N))});let y=Rc(),v=$e();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(l,E))}),g.push(rD(l,u,t.documentUpdates).next(E=>{y=E.ks,v=E.qs})),!i.isEqual(Me.min())){const E=e.Pi.getLastRemoteSnapshotVersion(l).next(A=>e.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));g.push(E)}return Ut.waitFor(g).next(()=>u.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,y,v)).next(()=>y)}).then(l=>(e.Ms=a,l))}function rD(s,t,e){let i=$e(),a=$e();return e.forEach(l=>i=i.add(l)),t.getEntries(s,i).next(l=>{let u=Rc();return e.forEach((g,y)=>{const v=l.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(g)),y.isNoDocument()&&y.version.isEqual(Me.min())?(t.removeEntry(g,y.readTime),u=u.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),u=u.insert(g,y)):ee(X0,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)}),{ks:u,qs:a}})}function aD(s,t){const e=Ie(s);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=O0),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function oD(s,t){const e=Ie(s);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return e.Pi.getTargetData(i,t).next(l=>l?(a=l,Ut.resolve(a)):e.Pi.allocateTargetId(i).next(u=>(a=new gu(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function Sy(s,t,e){const i=Ie(s),a=i.Ms.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Uf(u))throw u;ee(X0,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function Aw(s,t,e){const i=Ie(s);let a=Me.min(),l=$e();return i.persistence.runTransaction("Execute query","readwrite",u=>function(y,v,E){const A=Ie(y),C=A.xs.get(E);return C!==void 0?Ut.resolve(A.Ms.get(C)):A.Pi.getTargetData(v,E)}(i,u,Nl(t)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,g.targetId).next(y=>{l=y})}).next(()=>i.Fs.getDocumentsMatchingQuery(u,t,e?a:Me.min(),e?l:$e())).next(g=>(lD(i,q5(t),g),{documents:g,Qs:l})))}function lD(s,t,e){let i=s.Os.get(t)||Me.min();e.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),s.Os.set(t,i)}class Cw{constructor(){this.activeTargetIds=$5()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cD{constructor(){this.Mo=new Cw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Cw,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="ConnectivityMonitor";class Rw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(xw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ee(xw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp=null;function Ay(){return cp===null?cp=function(){return 268435456+Math.round(2147483648*Math.random())}():cp++,"0x"+cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="RestConnection",hD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Yp?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,l){const u=Ay(),g=this.zo(t,e.toUriEncodedString());ee(q_,`Sending RPC '${t}' ${u}:`,g,i);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,l);const{host:v}=new URL(g),E=M0(v);return this.Jo(t,g,y,i,E).then(A=>(ee(q_,`Received RPC '${t}' ${u}: `,A),A),A=>{throw bf(q_,`RPC '${t}' ${u} failed with error: `,A,"url: ",g,"request:",i),A})}Ho(t,e,i,a,l,u){return this.Go(t,e,i,a,l)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lf}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,l)=>t[l]=a),i&&i.headers.forEach((a,l)=>t[l]=a)}zo(t,e){const i=hD[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="WebChannelConnection";class gD extends fD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,l){const u=Ay();return new Promise((g,y)=>{const v=new pE;v.setWithCredentials(!0),v.listenOnce(mE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case mp.NO_ERROR:const A=v.getResponseJson();ee(vr,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),g(A);break;case mp.TIMEOUT:ee(vr,`RPC '${t}' ${u} timed out`),y(new te(Lt.DEADLINE_EXCEEDED,"Request time out"));break;case mp.HTTP_ERROR:const C=v.getStatus();if(ee(vr,`RPC '${t}' ${u} failed with status:`,C,"response text:",v.getResponseText()),C>0){let N=v.getResponseJson();Array.isArray(N)&&(N=N[0]);const L=N?.error;if(L&&L.status&&L.message){const Z=function(j){const lt=j.toLowerCase().replace(/_/g,"-");return Object.values(Lt).indexOf(lt)>=0?lt:Lt.UNKNOWN}(L.status);y(new te(Z,L.message))}else y(new te(Lt.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new te(Lt.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:t,streamId:u,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ee(vr,`RPC '${t}' ${u} completed.`)}});const E=JSON.stringify(a);ee(vr,`RPC '${t}' ${u} sending request:`,a),v.send(e,"POST",E,i,15)})}T_(t,e,i){const a=Ay(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=vE(),g=yE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,e,i),y.encodeInitMessageHeaders=!0;const E=l.join("");ee(vr,`Creating RPC '${t}' stream ${a}: ${E}`,y);const A=u.createWebChannel(E,y);this.I_(A);let C=!1,N=!1;const L=new dD({Yo:H=>{N?ee(vr,`Not sending because RPC '${t}' stream ${a} is closed:`,H):(C||(ee(vr,`Opening RPC '${t}' stream ${a} transport.`),A.open(),C=!0),ee(vr,`RPC '${t}' stream ${a} sending:`,H),A.send(H))},Zo:()=>A.close()}),Z=(H,j,lt)=>{H.listen(j,st=>{try{lt(st)}catch(pt){setTimeout(()=>{throw pt},0)}})};return Z(A,Dd.EventType.OPEN,()=>{N||(ee(vr,`RPC '${t}' stream ${a} transport opened.`),L.o_())}),Z(A,Dd.EventType.CLOSE,()=>{N||(N=!0,ee(vr,`RPC '${t}' stream ${a} transport closed`),L.a_(),this.E_(A))}),Z(A,Dd.EventType.ERROR,H=>{N||(N=!0,bf(vr,`RPC '${t}' stream ${a} transport errored. Name:`,H.name,"Message:",H.message),L.a_(new te(Lt.UNAVAILABLE,"The operation could not be completed")))}),Z(A,Dd.EventType.MESSAGE,H=>{if(!N){const j=H.data[0];An(!!j,16349);const lt=j,st=lt?.error||lt[0]?.error;if(st){ee(vr,`RPC '${t}' stream ${a} received error:`,st);const pt=st.status;let J=function(I){const P=ts[I];if(P!==void 0)return e2(P)}(pt),rt=st.message;J===void 0&&(J=Lt.INTERNAL,rt="Unknown error status: "+pt+" with message "+st.message),N=!0,L.a_(new te(J,rt)),A.close()}else ee(vr,`RPC '${t}' stream ${a} received:`,j),L.u_(j)}}),Z(g,_E.STAT_EVENT,H=>{H.stat===dy.PROXY?ee(vr,`RPC '${t}' stream ${a} detected buffering proxy`):H.stat===dy.NOPROXY&&ee(vr,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Q_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(s){return new yk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="PersistentStream";class m2{constructor(t,e,i,a,l,u,g,y){this.Mi=t,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p2(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Lt.RESOURCE_EXHAUSTED?(xc(e.toString()),xc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===e&&this.G_(i,a)},i=>{t(()=>{const a=new te(Lt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ee(Mw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(ee(Mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pD extends m2{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=wk(this.serializer,t),i=function(l){if(!("targetChange"in l))return Me.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Pl(u.readTime):Me.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Ey(this.serializer),e.addTarget=function(l,u){let g;const y=u.target;if(g=yy(y)?{documents:Sk(l,y)}:{query:Ak(l,y).ft},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=s2(l,u.resumeToken);const v=Ty(l,u.expectedCount);v!==null&&(g.expectedCount=v)}else if(u.snapshotVersion.compareTo(Me.min())>0){g.readTime=Zp(l,u.snapshotVersion.toTimestamp());const v=Ty(l,u.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const i=xk(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Ey(this.serializer),e.removeTarget=t,this.q_(e)}}class mD extends m2{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return An(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,An(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){An(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Ek(t.writeResults,t.commitTime),i=Pl(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Ey(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>bk(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{}class yD extends _D{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new te(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(t,wy(e,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new te(Lt.UNKNOWN,l.toString())})}Ho(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,g])=>this.connection.Ho(t,wy(e,i),a,u,g,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new te(Lt.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xc(e),this.aa=!1):ee("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh="RemoteStore";class TD{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{i.enqueueAndForget(async()=>{Eh(this)&&(ee(mh,"Restarting streams for network reachability change."),await async function(y){const v=Ie(y);v.Ea.add(4),await Eg(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Dm(v)}(this))})}),this.Ra=new vD(i,a)}}async function Dm(s){if(Eh(s))for(const t of s.da)await t(!0)}async function Eg(s){for(const t of s.da)await t(!1)}function _2(s,t){const e=Ie(s);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Z0(e)?Q0(e):zf(e).O_()&&q0(e,t))}function W0(s,t){const e=Ie(s),i=zf(e);e.Ia.delete(t),i.O_()&&y2(e,t),e.Ia.size===0&&(i.O_()?i.L_():Eh(e)&&e.Ra.set("Unknown"))}function q0(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Me.min())>0){const e=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}zf(s).Y_(t)}function y2(s,t){s.Va.Ue(t),zf(s).Z_(t)}function Q0(s){s.Va=new gk({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),zf(s).start(),s.Ra.ua()}function Z0(s){return Eh(s)&&!zf(s).x_()&&s.Ia.size>0}function Eh(s){return Ie(s).Ea.size===0}function v2(s){s.Va=void 0}async function wD(s){s.Ra.set("Online")}async function bD(s){s.Ia.forEach((t,e)=>{q0(s,t)})}async function ED(s,t){v2(s),Z0(s)?(s.Ra.ha(t),Q0(s)):s.Ra.set("Unknown")}async function SD(s,t,e){if(s.Ra.set("Online"),t instanceof i2&&t.state===2&&t.cause)try{await async function(a,l){const u=l.cause;for(const g of l.targetIds)a.Ia.has(g)&&(await a.remoteSyncer.rejectListen(g,u),a.Ia.delete(g),a.Va.removeTarget(g))}(s,t)}catch(i){ee(mh,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Jp(s,i)}else if(t instanceof Tp?s.Va.Ze(t):t instanceof n2?s.Va.st(t):s.Va.tt(t),!e.isEqual(Me.min()))try{const i=await g2(s.localStore);e.compareTo(i)>=0&&await function(l,u){const g=l.Va.Tt(u);return g.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const E=l.Ia.get(v);E&&l.Ia.set(v,E.withResumeToken(y.resumeToken,u))}}),g.targetMismatches.forEach((y,v)=>{const E=l.Ia.get(y);if(!E)return;l.Ia.set(y,E.withResumeToken(Zs.EMPTY_BYTE_STRING,E.snapshotVersion)),y2(l,y);const A=new gu(E.target,y,v,E.sequenceNumber);q0(l,A)}),l.remoteSyncer.applyRemoteEvent(g)}(s,e)}catch(i){ee(mh,"Failed to raise snapshot:",i),await Jp(s,i)}}async function Jp(s,t,e){if(!Uf(t))throw t;s.Ea.add(1),await Eg(s),s.Ra.set("Offline"),e||(e=()=>g2(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ee(mh,"Retrying IndexedDB access"),await e(),s.Ea.delete(1),await Dm(s)})}function T2(s,t){return t().catch(e=>Jp(s,e,t))}async function Om(s){const t=Ie(s),e=xu(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:O0;for(;AD(t);)try{const a=await aD(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,CD(t,a)}catch(a){await Jp(t,a)}w2(t)&&b2(t)}function AD(s){return Eh(s)&&s.Ta.length<10}function CD(s,t){s.Ta.push(t);const e=xu(s);e.O_()&&e.X_&&e.ea(t.mutations)}function w2(s){return Eh(s)&&!xu(s).x_()&&s.Ta.length>0}function b2(s){xu(s).start()}async function xD(s){xu(s).ra()}async function RD(s){const t=xu(s);for(const e of s.Ta)t.ea(e.mutations)}async function MD(s,t,e){const i=s.Ta.shift(),a=U0.from(i,t,e);await T2(s,()=>s.remoteSyncer.applySuccessfulWrite(a)),await Om(s)}async function ID(s,t){t&&xu(s).X_&&await async function(i,a){if(function(u){return hk(u)&&u!==Lt.ABORTED}(a.code)){const l=i.Ta.shift();xu(i).B_(),await T2(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Om(i)}}(s,t),w2(s)&&b2(s)}async function Iw(s,t){const e=Ie(s);e.asyncQueue.verifyOperationInProgress(),ee(mh,"RemoteStore received new credentials");const i=Eh(e);e.Ea.add(3),await Eg(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Dm(e)}async function kD(s,t){const e=Ie(s);t?(e.Ea.delete(2),await Dm(e)):t||(e.Ea.add(2),await Eg(e),e.Ra.set("Unknown"))}function zf(s){return s.ma||(s.ma=function(e,i,a){const l=Ie(e);return l.sa(),new pD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{Xo:wD.bind(null,s),t_:bD.bind(null,s),r_:ED.bind(null,s),H_:SD.bind(null,s)}),s.da.push(async t=>{t?(s.ma.B_(),Z0(s)?Q0(s):s.Ra.set("Unknown")):(await s.ma.stop(),v2(s))})),s.ma}function xu(s){return s.fa||(s.fa=function(e,i,a){const l=Ie(e);return l.sa(),new mD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:xD.bind(null,s),r_:ID.bind(null,s),ta:RD.bind(null,s),na:MD.bind(null,s)}),s.da.push(async t=>{t?(s.fa.B_(),await Om(s)):(await s.fa.stop(),s.Ta.length>0&&(ee(mh,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new vu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,g=new K0(t,e,u,a,l);return g.start(i),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(Lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J0(s,t){if(xc("AsyncQueue",`${t}: ${s}`),Uf(s))return new te(Lt.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{static emptySet(t){return new df(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||me.comparator(e.key,i.key):(e,i)=>me.comparator(e.key,i.key),this.keyedMap=Od(),this.sortedSet=new Ii(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof df)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new df;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.ga=new Ii(me.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Se(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class xf{constructor(t,e,i,a,l,u,g,y,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach(g=>{u.push({type:0,doc:g})}),new xf(t,e,df.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class OD{constructor(){this.queries=Dw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=Ie(e),l=a.queries;a.queries=Dw(),l.forEach((u,g)=>{for(const y of g.Sa)y.onError(i)})})(this,new te(Lt.ABORTED,"Firestore shutting down"))}}function Dw(){return new wh(s=>HE(s),Cm)}async function ND(s,t){const e=Ie(s);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.ba()&&t.Da()&&(i=2):(l=new DD,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const g=J0(u,`Initialization of query '${rf(t.query)}' failed`);return void t.onError(g)}e.queries.set(a,l),l.Sa.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&j0(e)}async function PD(s,t){const e=Ie(s),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.Sa.indexOf(t);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function VD(s,t){const e=Ie(s);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const g of u.Sa)g.Fa(a)&&(i=!0);u.wa=a}}i&&j0(e)}function LD(s,t,e){const i=Ie(s),a=i.queries.get(t);if(a)for(const l of a.Sa)l.onError(e);i.queries.delete(t)}function j0(s){s.Ca.forEach(t=>{t.next()})}var Cy,Ow;(Ow=Cy||(Cy={})).Ma="default",Ow.Cache="cache";class FD{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new xf(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=xf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.key=t}}class S2{constructor(t){this.key=t}}class UD{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=YE(t),this.tu=new df(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new kw,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,g=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((E,A)=>{const C=a.get(E),N=xm(this.query,A)?A:null,L=!!C&&this.mutatedKeys.has(C.key),Z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let H=!1;C&&N?C.data.isEqual(N.data)?L!==Z&&(i.track({type:3,doc:N}),H=!0):this.su(C,N)||(i.track({type:2,doc:N}),H=!0,(y&&this.eu(N,y)>0||v&&this.eu(N,v)<0)&&(g=!0)):!C&&N?(i.track({type:0,doc:N}),H=!0):C&&!N&&(i.track({type:1,doc:C}),H=!0,(y||v)&&(g=!0)),H&&(N?(u=u.add(N),l=Z?l.add(E):l.delete(E)):(u=u.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{tu:u,iu:i,Cs:g,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort((E,A)=>function(N,L){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:H})}};return Z(N)-Z(L)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(i),a=a??!1;const g=e&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,v=y!==this.Za;return this.Za=y,u.length!==0||v?{snapshot:new xf(this.query,t.tu,l,u,t.mutatedKeys,y===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=$e(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new S2(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new E2(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=$e();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return xf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $0="SyncEngine";class BD{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class zD{constructor(t){this.key=t,this.hu=!1}}class HD{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new wh(g=>HE(g),Cm),this.Iu=new Map,this.Eu=new Set,this.du=new Ii(me.comparator),this.Au=new Map,this.Ru=new H0,this.Vu={},this.mu=new Map,this.fu=Cf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YD(s,t,e=!0){const i=I2(s);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await A2(i,t,e,!0),a}async function GD(s,t){const e=I2(s);await A2(e,t,!0,!1)}async function A2(s,t,e,i){const a=await oD(s.localStore,Nl(t)),l=a.targetId,u=s.sharedClientState.addLocalQueryTarget(l,e);let g;return i&&(g=await XD(s,t,l,u==="current",a.resumeToken)),s.isPrimaryClient&&e&&_2(s.remoteStore,a),g}async function XD(s,t,e,i,a){s.pu=(A,C,N)=>async function(Z,H,j,lt){let st=H.view.ru(j);st.Cs&&(st=await Aw(Z.localStore,H.query,!1).then(({documents:V})=>H.view.ru(V,st)));const pt=lt&&lt.targetChanges.get(H.targetId),J=lt&&lt.targetMismatches.get(H.targetId)!=null,rt=H.view.applyChanges(st,Z.isPrimaryClient,pt,J);return Pw(Z,H.targetId,rt.au),rt.snapshot}(s,A,C,N);const l=await Aw(s.localStore,t,!0),u=new UD(t,l.Qs),g=u.ru(l.documents),y=bg.createSynthesizedTargetChangeForCurrentChange(e,i&&s.onlineState!=="Offline",a),v=u.applyChanges(g,s.isPrimaryClient,y);Pw(s,e,v.au);const E=new BD(t,e,u);return s.Tu.set(t,E),s.Iu.has(e)?s.Iu.get(e).push(t):s.Iu.set(e,[t]),v.snapshot}async function WD(s,t,e){const i=Ie(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter(u=>!Cm(u,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Sy(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),e&&W0(i.remoteStore,a.targetId),xy(i,a.targetId)}).catch(Ff)):(xy(i,a.targetId),await Sy(i.localStore,a.targetId,!0))}async function qD(s,t){const e=Ie(s),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),W0(e.remoteStore,i.targetId))}async function QD(s,t,e){const i=eO(s);try{const a=await function(u,g){const y=Ie(u),v=li.now(),E=g.reduce((N,L)=>N.add(L.key),$e());let A,C;return y.persistence.runTransaction("Locally write mutations","readwrite",N=>{let L=Rc(),Z=$e();return y.Ns.getEntries(N,E).next(H=>{L=H,L.forEach((j,lt)=>{lt.isValidDocument()||(Z=Z.add(j))})}).next(()=>y.localDocuments.getOverlayedDocuments(N,L)).next(H=>{A=H;const j=[];for(const lt of g){const st=ak(lt,A.get(lt.key).overlayedDocument);st!=null&&j.push(new bh(lt.key,st,OE(st.value.mapValue),bc.exists(!0)))}return y.mutationQueue.addMutationBatch(N,v,j,g)}).next(H=>{C=H;const j=H.applyToLocalDocumentSet(A,Z);return y.documentOverlayCache.saveOverlays(N,H.batchId,j)})}).then(()=>({batchId:C.batchId,changes:XE(A)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(u,g,y){let v=u.Vu[u.currentUser.toKey()];v||(v=new Ii(Je)),v=v.insert(g,y),u.Vu[u.currentUser.toKey()]=v}(i,a.batchId,e),await Sg(i,a.changes),await Om(i.remoteStore)}catch(a){const l=J0(a,"Failed to persist write");e.reject(l)}}async function C2(s,t){const e=Ie(s);try{const i=await sD(e.localStore,t);t.targetChanges.forEach((a,l)=>{const u=e.Au.get(l);u&&(An(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?An(u.hu,14607):a.removedDocuments.size>0&&(An(u.hu,42227),u.hu=!1))}),await Sg(e,i,t)}catch(i){await Ff(i)}}function Nw(s,t,e){const i=Ie(s);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach((l,u)=>{const g=u.view.va(t);g.snapshot&&a.push(g.snapshot)}),function(u,g){const y=Ie(u);y.onlineState=g;let v=!1;y.queries.forEach((E,A)=>{for(const C of A.Sa)C.va(g)&&(v=!0)}),v&&j0(y)}(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ZD(s,t,e){const i=Ie(s);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new Ii(me.comparator);u=u.insert(l,wr.newNoDocument(l,Me.min()));const g=$e().add(l),y=new Im(Me.min(),new Map,new Ii(Je),u,g);await C2(i,y),i.du=i.du.remove(l),i.Au.delete(t),tv(i)}else await Sy(i.localStore,t,!1).then(()=>xy(i,t,e)).catch(Ff)}async function KD(s,t){const e=Ie(s),i=t.batch.batchId;try{const a=await iD(e.localStore,t);R2(e,i,null),x2(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Sg(e,a)}catch(a){await Ff(a)}}async function JD(s,t,e){const i=Ie(s);try{const a=await function(u,g){const y=Ie(u);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return y.mutationQueue.lookupMutationBatch(v,g).next(A=>(An(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(v,A))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,E,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>y.localDocuments.getDocuments(v,E))})}(i.localStore,t);R2(i,t,e),x2(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Sg(i,a)}catch(a){await Ff(a)}}function x2(s,t){(s.mu.get(t)||[]).forEach(e=>{e.resolve()}),s.mu.delete(t)}function R2(s,t,e){const i=Ie(s);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function xy(s,t,e=null){s.sharedClientState.removeLocalQueryTarget(t);for(const i of s.Iu.get(t))s.Tu.delete(i),e&&s.Pu.yu(i,e);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach(i=>{s.Ru.containsKey(i)||M2(s,i)})}function M2(s,t){s.Eu.delete(t.path.canonicalString());const e=s.du.get(t);e!==null&&(W0(s.remoteStore,e),s.du=s.du.remove(t),s.Au.delete(e),tv(s))}function Pw(s,t,e){for(const i of e)i instanceof E2?(s.Ru.addReference(i.key,t),jD(s,i)):i instanceof S2?(ee($0,"Document no longer in limbo: "+i.key),s.Ru.removeReference(i.key,t),s.Ru.containsKey(i.key)||M2(s,i.key)):Se(19791,{wu:i})}function jD(s,t){const e=t.key,i=e.path.canonicalString();s.du.get(e)||s.Eu.has(i)||(ee($0,"New document in limbo: "+e),s.Eu.add(i),tv(s))}function tv(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const e=new me(ti.fromString(t)),i=s.fu.next();s.Au.set(i,new zD(e)),s.du=s.du.insert(e,i),_2(s.remoteStore,new gu(Nl(BE(e.path)),i,"TargetPurposeLimboResolution",Em.ce))}}async function Sg(s,t,e){const i=Ie(s),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach((g,y)=>{u.push(i.pu(y,t,e).then(v=>{if((v||e)&&i.isPrimaryClient){const E=v?!v.fromCache:e?.targetChanges.get(y.targetId)?.current;i.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(v){a.push(v);const E=G0.As(y.targetId,v);l.push(E)}}))}),await Promise.all(u),i.Pu.H_(a),await async function(y,v){const E=Ie(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Ut.forEach(v,C=>Ut.forEach(C.Es,N=>E.persistence.referenceDelegate.addReference(A,C.targetId,N)).next(()=>Ut.forEach(C.ds,N=>E.persistence.referenceDelegate.removeReference(A,C.targetId,N)))))}catch(A){if(!Uf(A))throw A;ee(X0,"Failed to update sequence numbers: "+A)}for(const A of v){const C=A.targetId;if(!A.fromCache){const N=E.Ms.get(C),L=N.snapshotVersion,Z=N.withLastLimboFreeSnapshotVersion(L);E.Ms=E.Ms.insert(C,Z)}}}(i.localStore,l))}async function $D(s,t){const e=Ie(s);if(!e.currentUser.isEqual(t)){ee($0,"User change. New user:",t.toKey());const i=await d2(e.localStore,t);e.currentUser=t,function(l,u){l.mu.forEach(g=>{g.forEach(y=>{y.reject(new te(Lt.CANCELLED,u))})}),l.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Sg(e,i.Ls)}}function tO(s,t){const e=Ie(s),i=e.Au.get(t);if(i&&i.hu)return $e().add(i.key);{let a=$e();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const g=e.Tu.get(u);a=a.unionWith(g.view.nu)}return a}}function I2(s){const t=Ie(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=C2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZD.bind(null,t),t.Pu.H_=VD.bind(null,t.eventManager),t.Pu.yu=LD.bind(null,t.eventManager),t}function eO(s){const t=Ie(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JD.bind(null,t),t}class jp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=km(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return nD(this.persistence,new $k,t.initialUser,this.serializer)}Cu(t){return new f2(Y0.mi,this.serializer)}Du(t){return new cD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jp.provider={build:()=>new jp};class nO extends jp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){An(this.persistence.referenceDelegate instanceof Kp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Fk(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?fa.withCacheSize(this.cacheSizeBytes):fa.DEFAULT;return new f2(i=>Kp.mi(i,e),this.serializer)}}class Ry{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Nw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await kD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new OD}()}createDatastore(t){const e=km(t.databaseInfo.databaseId),i=function(l){return new gD(l)}(t.databaseInfo);return function(l,u,g,y){return new yD(l,u,g,y)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,a,l,u,g){return new TD(i,a,l,u,g)}(this.localStore,this.datastore,t.asyncQueue,e=>Nw(this.syncEngine,e,0),function(){return Rw.v()?new Rw:new uD}())}createSyncEngine(t,e){return function(a,l,u,g,y,v,E){const A=new HD(a,l,u,g,y,v);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=Ie(e);ee(mh,"RemoteStore shutting down."),i.Ea.add(5),await Eg(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ry.provider={build:()=>new Ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):xc("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="FirestoreClient";class sO{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=Tr.UNAUTHENTICATED,this.clientId=D0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{ee(Ru,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ee(Ru,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=J0(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Z_(s,t){s.asyncQueue.verifyOperationInProgress(),ee(Ru,"Initializing OfflineComponentProvider");const e=s.configuration;await t.initialize(e);let i=e.initialUser;s.setCredentialChangeListener(async a=>{i.isEqual(a)||(await d2(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Vw(s,t){s.asyncQueue.verifyOperationInProgress();const e=await rO(s);ee(Ru,"Initializing OnlineComponentProvider"),await t.initialize(e,s.configuration),s.setCredentialChangeListener(i=>Iw(t.remoteStore,i)),s.setAppCheckTokenChangeListener((i,a)=>Iw(t.remoteStore,a)),s._onlineComponents=t}async function rO(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ee(Ru,"Using user provided OfflineComponentProvider");try{await Z_(s,s._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===Lt.FAILED_PRECONDITION||a.code===Lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;bf("Error using user provided cache. Falling back to memory cache: "+e),await Z_(s,new jp)}}else ee(Ru,"Using default OfflineComponentProvider"),await Z_(s,new nO(void 0));return s._offlineComponents}async function k2(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ee(Ru,"Using user provided OnlineComponentProvider"),await Vw(s,s._uninitializedComponentsProvider._online)):(ee(Ru,"Using default OnlineComponentProvider"),await Vw(s,new Ry))),s._onlineComponents}function aO(s){return k2(s).then(t=>t.syncEngine)}async function oO(s){const t=await k2(s),e=t.eventManager;return e.onListen=YD.bind(null,t.syncEngine),e.onUnlisten=WD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=GD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=qD.bind(null,t.syncEngine),e}function lO(s,t,e={}){const i=new vu;return s.asyncQueue.enqueueAndForget(async()=>function(l,u,g,y,v){const E=new iO({next:C=>{E.Nu(),u.enqueueAndForget(()=>PD(l,A)),C.fromCache&&y.source==="server"?v.reject(new te(Lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),A=new FD(g,E,{includeMetadataChanges:!0,qa:!0});return ND(l,A)}(await oO(s),s.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firestore.googleapis.com",Fw=!0;class Uw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new te(Lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O2,this.ssl=Fw}else this.host=t.host,this.ssl=t.ssl??Fw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=h2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Vk)throw new te(Lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}T5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D2(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new te(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new te(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new te(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nm{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(Lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new te(Lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new u5;switch(i.type){case"firstParty":return new g5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new te(Lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=Lw.get(e);i&&(ee("ComponentProvider","Removing Datastore"),Lw.delete(e),i.terminate())}(this),Promise.resolve()}}function cO(s,t,e,i={}){s=zp(s,Nm);const a=M0(t),l=s._getSettings(),u={...l,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${e}`;a&&(UM(`https://${g}`),YM("Firestore",!0)),l.host!==O2&&l.host!==g&&bf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:g,ssl:a,emulatorOptions:i};if(!Fp(y,u)&&(s._setSettings(y),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=Tr.MOCK_USER;else{v=BM(i.mockUserToken,s._app?.options.projectId);const A=i.mockUserToken.sub||i.mockUserToken.user_id;if(!A)throw new te(Lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Tr(A)}s._authCredentials=new h5(new wE(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ku(this.firestore,t,this._query)}}class ks{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ks(this.firestore,t,this._key)}toJSON(){return{type:ks._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Tg(e,ks._jsonSchema))return new ks(t,i||null,new me(ti.fromString(e.referencePath)))}}ks._jsonSchemaVersion="firestore/documentReference/1.0",ks._jsonSchema={type:ss("string",ks._jsonSchemaVersion),referencePath:ss("string")};class Tu extends ku{constructor(t,e,i){super(t,e,BE(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ks(this.firestore,null,new me(t))}withConverter(t){return new Tu(this.firestore,t,this._path)}}function N2(s,t,...e){if(s=wf(s),bE("collection","path",t),s instanceof Nm){const i=ti.fromString(t,...e);return jT(i),new Tu(s,null,i)}{if(!(s instanceof ks||s instanceof Tu))throw new te(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ti.fromString(t,...e));return jT(i),new Tu(s.firestore,null,i)}}function uO(s,t,...e){if(s=wf(s),arguments.length===1&&(t=D0.newId()),bE("doc","path",t),s instanceof Nm){const i=ti.fromString(t,...e);return JT(i),new ks(s,null,new me(i))}{if(!(s instanceof ks||s instanceof Tu))throw new te(Lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ti.fromString(t,...e));return JT(i),new ks(s.firestore,s instanceof Tu?s.converter:null,new me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="AsyncQueue";class zw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p2(this,"async_queue_retry"),this._c=()=>{const i=Q_();i&&ee(Bw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Q_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Q_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new vu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Uf(t))throw t;ee(Bw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,xc("INTERNAL UNHANDLED ERROR: ",Hw(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=K0.createAndSchedule(this,t,e,i,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:Hw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Hw(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ev extends Nm{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new zw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zw(t),this._firestoreClient=void 0,await t}}}function hO(s,t){const e=typeof s=="object"?s:$I(),i=typeof s=="string"?s:Yp,a=QI(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=LM("firestore");l&&cO(a,...l)}return a}function P2(s){if(s._terminated)throw new te(Lt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||fO(s),s._firestoreClient}function fO(s){const t=s._freezeSettings(),e=function(a,l,u,g){return new k5(a,l,u,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,D2(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new sO(s._authCredentials,s._appCheckCredentials,s._queue,e,s._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vo(Zs.fromBase64String(t))}catch(e){throw new te(Lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new vo(Zs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Tg(t,vo._jsonSchema))return vo.fromBase64String(t.bytes)}}vo._jsonSchemaVersion="firestore/bytes/1.0",vo._jsonSchema={type:ss("string",vo._jsonSchemaVersion),bytes:ss("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new te(Lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new te(Lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new te(Lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Je(this._lat,t._lat)||Je(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vl._jsonSchemaVersion}}static fromJSON(t){if(Tg(t,Vl._jsonSchema))return new Vl(t.latitude,t.longitude)}}Vl._jsonSchemaVersion="firestore/geoPoint/1.0",Vl._jsonSchema={type:ss("string",Vl._jsonSchemaVersion),latitude:ss("number"),longitude:ss("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ll._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Tg(t,Ll._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Ll(t.vectorValues);throw new te(Lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ll._jsonSchemaVersion="firestore/vectorValue/1.0",Ll._jsonSchema={type:ss("string",Ll._jsonSchemaVersion),vectorValues:ss("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/^__.*__$/;class gO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new bh(t,this.data,this.fieldMask,e,this.fieldTransforms):new wg(t,this.data,e,this.fieldTransforms)}}function L2(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class iv{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new iv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $p(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(L2(this.Ac)&&dO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class pO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||km(t)}Cc(t,e,i,a=!1){return new iv({Ac:t,methodName:e,Dc:i,path:Qs.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F2(s){const t=s._freezeSettings(),e=km(s._databaseId);return new pO(s._databaseId,!!t.ignoreUndefinedProperties,e)}function mO(s,t,e,i,a,l={}){const u=s.Cc(l.merge||l.mergeFields?2:0,t,e,a);z2("Data must be an object, but it was:",u,i);const g=U2(i,u);let y,v;if(l.merge)y=new il(u.fieldMask),v=u.fieldTransforms;else if(l.mergeFields){const E=[];for(const A of l.mergeFields){const C=yO(t,A,e);if(!u.contains(C))throw new te(Lt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);TO(E,C)||E.push(C)}y=new il(E),v=u.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,v=u.fieldTransforms;return new gO(new yo(g),y,v)}function _O(s,t,e,i=!1){return sv(e,s.Cc(i?4:3,t))}function sv(s,t){if(B2(s=wf(s)))return z2("Unsupported field value:",t,s),U2(s,t);if(s instanceof V2)return function(i,a){if(!L2(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const g of i){let y=sv(g,a.wc(u));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),u++}return{arrayValue:{values:l}}}(s,t)}return function(i,a){if((i=wf(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=li.fromDate(i);return{timestampValue:Zp(a.serializer,l)}}if(i instanceof li){const l=new li(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zp(a.serializer,l)}}if(i instanceof Vl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vo)return{bytesValue:s2(a.serializer,i._byteString)};if(i instanceof ks){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:z0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ll)return function(u,g){return{mapValue:{fields:{[kE]:{stringValue:DE},[Gp]:{arrayValue:{values:u.toArray().map(v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return F0(g.serializer,v)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${bm(i)}`)}(s,t)}function U2(s,t){const e={};return AE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Th(s,(i,a)=>{const l=sv(a,t.mc(i));l!=null&&(e[i]=l)}),{mapValue:{fields:e}}}function B2(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof li||s instanceof Vl||s instanceof vo||s instanceof ks||s instanceof V2||s instanceof Ll)}function z2(s,t,e){if(!B2(e)||!EE(e)){const i=bm(e);throw i==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+i)}}function yO(s,t,e){if((t=wf(t))instanceof nv)return t._internalPath;if(typeof t=="string")return H2(s,t);throw $p("Field path arguments must be of type string or ",s,!1,void 0,e)}const vO=new RegExp("[~\\*/\\[\\]]");function H2(s,t,e){if(t.search(vO)>=0)throw $p(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,e);try{return new nv(...t.split("."))._internalPath}catch{throw $p(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,e)}}function $p(s,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(l||u)&&(y+=" (found",l&&(y+=` in field ${i}`),u&&(y+=` in document ${a}`),y+=")"),new te(Lt.INVALID_ARGUMENT,g+s+y)}function TO(s,t){return s.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ks(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(rv("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class wO extends Y2{data(){return super.data()}}function rv(s,t){return typeof t=="string"?H2(s,t):t instanceof nv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new te(Lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class av{}class ov extends av{}function EO(s,t,...e){let i=[];t instanceof av&&i.push(t),i=i.concat(e),function(l){const u=l.filter(y=>y instanceof cv).length,g=l.filter(y=>y instanceof lv).length;if(u>1||u>0&&g>0)throw new te(Lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)s=a._apply(s);return s}class lv extends ov{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new lv(t,e,i)}_apply(t){const e=this._parse(t);return G2(t._query,e),new ku(t.firestore,t.converter,vy(t._query,e))}_parse(t){const e=F2(t.firestore);return function(l,u,g,y,v,E,A){let C;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new te(Lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Gw(A,E);const L=[];for(const Z of A)L.push(Yw(y,l,Z));C={arrayValue:{values:L}}}else C=Yw(y,l,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Gw(A,E),C=_O(g,u,A,E==="in"||E==="not-in");return ns.create(v,E,C)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class cv extends av{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new cv(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:ol.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,l){let u=a;const g=l.getFlattenedFilters();for(const y of g)G2(u,y),u=vy(u,y)}(t._query,e),new ku(t.firestore,t.converter,vy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uv extends ov{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new uv(t,e)}_apply(t){const e=function(a,l,u){if(a.startAt!==null)throw new te(Lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new te(Lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tg(l,u)}(t._query,this._field,this._direction);return new ku(t.firestore,t.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new Bf(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,e))}}function SO(s,t="asc"){const e=t,i=rv("orderBy",s);return uv._create(i,e)}class hv extends ov{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new hv(t,e,i)}_apply(t){return new ku(t.firestore,t.converter,Wp(t._query,this._limit,this._limitType))}}function AO(s){return hv._create("limit",s,"F")}function Yw(s,t,e){if(typeof(e=wf(e))=="string"){if(e==="")throw new te(Lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zE(t)&&e.indexOf("/")!==-1)throw new te(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ti.fromString(e));if(!me.isDocumentKey(i))throw new te(Lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return aw(s,new me(i))}if(e instanceof ks)return aw(s,e._key);throw new te(Lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bm(e)}.`)}function Gw(s,t){if(!Array.isArray(s)||s.length===0)throw new te(Lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function G2(s,t){const e=function(a,l){for(const u of a)for(const g of u.getFlattenedFilters())if(l.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new te(Lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new te(Lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class CO{convertValue(t,e="none"){switch(Cu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Gi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Au(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Se(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Th(t,(a,l)=>{i[a]=this.convertValue(l,e)}),i}convertVectorValue(t){const e=t.fields?.[Gp].arrayValue?.values?.map(i=>Gi(i.doubleValue));return new Ll(e)}convertGeoPoint(t){return new Vl(Gi(t.latitude),Gi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Am(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jd(t));default:return null}}convertTimestamp(t){const e=Su(t);return new li(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ti.fromString(t);An(u2(i),9688,{name:t});const a=new jd(i.get(1),i.get(3)),l=new me(i.popFirst(5));return a.isEqual(e)||xc(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(s,t,e){let i;return i=s?s.toFirestore(t):t,i}class up{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gf extends Y2{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(rv("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(Lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=gf._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}gf._jsonSchemaVersion="firestore/documentSnapshot/1.0",gf._jsonSchema={type:ss("string",gf._jsonSchemaVersion),bundleSource:ss("string","DocumentSnapshot"),bundleName:ss("string"),bundle:ss("string")};class wp extends gf{data(t={}){return super.data(t)}}class pf{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new up(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new wp(this._firestore,this._userDataWriter,i.key,i,new up(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new te(Lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(g=>{const y=new wp(a._firestore,a._userDataWriter,g.doc.key,g.doc,new up(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>l||g.type!==3).map(g=>{const y=new wp(a._firestore,a._userDataWriter,g.doc.key,g.doc,new up(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return g.type!==0&&(v=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),g.type!==1&&(u=u.add(g.doc),E=u.indexOf(g.doc.key)),{type:RO(g.type),doc:y,oldIndex:v,newIndex:E}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(Lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=pf._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=D0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}pf._jsonSchemaVersion="firestore/querySnapshot/1.0",pf._jsonSchema={type:ss("string",pf._jsonSchemaVersion),bundleSource:ss("string","QuerySnapshot"),bundleName:ss("string"),bundle:ss("string")};class MO extends CO{constructor(t){super(),this.firestore=t}convertBytes(t){return new vo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ks(this.firestore,null,e)}}function IO(s){s=zp(s,ku);const t=zp(s.firestore,ev),e=P2(t),i=new MO(t);return bO(s._query),lO(e,s._query).then(a=>new pf(t,i,s,a))}function kO(s,t){const e=zp(s.firestore,ev),i=uO(s),a=xO(s.converter,t);return DO(e,[mO(F2(s.firestore),"addDoc",i._key,a,s.converter!==null,{}).toMutation(i._key,bc.exists(!1))]).then(()=>i)}function DO(s,t){return function(i,a){const l=new vu;return i.asyncQueue.enqueueAndForget(async()=>QD(await aO(i),a,l)),l.promise}(P2(s),t)}(function(t,e=!0){(function(a){Lf=a})(jI),Bp(new Qd("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),g=new ev(new f5(i.getProvider("auth-internal")),new p5(u,i.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new te(Lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jd(v.options.projectId,E)}(u,a),u);return l={useFetchStreams:e,...l},g._setSettings(l),g},"PUBLIC").setMultipleInstances(!0)),ff(qT,QT,t),ff(qT,QT,"esm2020")})();var OO="firebase",NO="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ff(OO,NO,"app");const PO={apiKey:"AIzaSyB8trdXeu3hrnYRvj4MfVxkW0wQ3apwSoA",authDomain:"fliperama-hub.firebaseapp.com",projectId:"fliperama-hub",storageBucket:"fliperama-hub.firebasestorage.app",messagingSenderId:"514944334332",appId:"1:514944334332:web:56bd2ba174fd9cc0471a79",measurementId:void 0},VO=hE(PO),X2=hO(VO);function LO(s,t,e){localStorage.setItem(s,JSON.stringify(t,e))}function FO(s,t){const e=localStorage.getItem(s);return e?JSON.parse(e,t):null}async function UO(s,t,e){const i=N2(X2,"rankings",s,"scores");await kO(i,{iniciais:t,pontos:e})}async function K_(s){const t=N2(X2,"rankings",s,"scores"),e=EO(t,SO("pontos","desc"),AO(10)),i=await IO(e),a=[];return i.forEach(l=>a.push(l.data())),a}function BO({className:s=""}){return at.jsx("svg",{className:`enter-icon ${s}`,xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 52 52",enableBackground:"new 0 0 52 52",xmlSpace:"preserve",children:at.jsx("path",{d:"M44,30.5c0,0,0.1,1.6-1.5,1.6H15.2c-0.9,0-1.3-1.2-0.7-1.8l5.6-5.6c0.6-0.6,0.6-1.5,0-2.1L18,20.5  c-0.6-0.6-1.5-0.6-2.1,0L2.4,34c-0.6,0.6-0.6,1.5,0,2.1L16,49.6c0.6,0.6,1.5,0.6,2.1,0l2.1-2.1c0.6-0.6,0.6-1.5,0-2.1l-5.6-5.6  c-0.6-0.7-0.2-1.7,0.7-1.7h33.2c0.7,0,1.5-0.8,1.5-1.6v-33C50,2.8,49.3,2,48.5,2h-3C44.7,2,44,2.8,44,3.5C44,3.5,44,30.5,44,30.5z"})})}function zO({pontos:s,onSubmitScore:t}){const[e,i]=Ct.useState(["A","A","A"]),[a,l]=Ct.useState(0),[u,g]=Ct.useState(""),y="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return Ct.useEffect(()=>{const v=E=>{E.key==="ArrowUp"?i(A=>{const C=[...A],L=(y.indexOf(A[a])+1)%y.length;return C[a]=y[L],g("up"),C}):E.key==="ArrowDown"?i(A=>{const C=[...A],L=(y.indexOf(A[a])-1+y.length)%y.length;return C[a]=y[L],g("down"),C}):E.key==="ArrowLeft"?(l(A=>(A-1+e.length)%e.length),g("")):E.key==="ArrowRight"?(l(A=>(A+1)%e.length),g("")):E.key==="Enter"&&t(e)};return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}},[e,a]),at.jsxs("div",{className:"high-score",children:[at.jsxs("div",{className:"high-score__pontos",children:["Pontos: ",at.jsx("span",{children:s})]}),at.jsx("div",{className:"high-score__letras",children:e.map((v,E)=>at.jsxs("div",{className:`high-score__letra ${a===E?"active":""}`,onClick:()=>l(E),children:[at.jsx("div",{onClick:()=>{const A=new KeyboardEvent("keydown",{key:"ArrowUp",code:"ArrowUp"});window.dispatchEvent(A)},className:`high-score__letra-seta-cima ${u}`}),v,at.jsx("div",{onClick:()=>{const A=new KeyboardEvent("keydown",{key:"ArrowDown",code:"ArrowDown"});window.dispatchEvent(A)},className:`high-score__letra-seta-baixo ${u}`})]},E))}),at.jsxs("div",{className:"high-score__salvar",style:{top:window.innerHeight*.35,left:window.innerWidth*.3},onClick:()=>{const v=new KeyboardEvent("keydown",{key:"Enter",code:"Enter"});window.dispatchEvent(v)},children:[at.jsx(BO,{}),at.jsx("p",{children:"Salvar"})]})]})}function HO({currentGame:s,rankingList:t}){return at.jsx("div",{className:`ranking-screen ranking-game--${s.toLowerCase()}`,children:at.jsxs("table",{children:[at.jsx("thead",{children:t.length?at.jsxs("tr",{className:"ranking-screen__head",children:[at.jsx("th",{children:"Rank"}),at.jsx("th",{children:"Score"}),at.jsx("th",{children:"Name"})]}):at.jsx(at.Fragment,{})}),at.jsx("tbody",{children:t.length?t.sort((e,i)=>i.pontos-e.pontos).map((e,i)=>at.jsxs("tr",{className:"ranking-screen__item",children:[at.jsx("td",{className:"ranking-screen__item--rank",children:i+1}),at.jsx("td",{className:"ranking-screen__item--score",children:e.pontos}),at.jsx("td",{className:"ranking-screen__item--name",children:e.iniciais})]},i+1+" ranking")):at.jsx("tr",{children:at.jsx("td",{children:"Sem Ranking..."})})})]})})}function YO({className:s=""}){return at.jsxs("svg",{className:`space-icon ${s}`,fill:"currentColor",viewBox:"0 0 320 60",xmlns:"http://www.w3.org/2000/svg",children:[at.jsxs("defs",{children:[at.jsxs("linearGradient",{id:"spacebarGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[at.jsx("stop",{offset:"0%",style:{stopColor:"#FEFEFE"}}),at.jsx("stop",{offset:"100%",style:{stopColor:"#FEFEFE"}})]}),at.jsxs("mask",{id:"cutout-mask",children:[at.jsx("rect",{width:"100%",height:"100%",fill:"white"}),at.jsx("rect",{x:"120",y:"29",width:"100",height:"3",fill:"black"})]})]}),at.jsx("rect",{x:"1",y:"1",width:"318",height:"58",rx:"8",ry:"8",fill:"url(#spacebarGradient)",stroke:"#BDBDBD",strokeWidth:"1.5",mask:"url(#cutout-mask)"})]})}function GO(){const[s,t]=Ct.useState("Pong"),[e,i]=Ct.useState(0),[a,l]=Ct.useState(0),[u,g]=Ct.useState(!1),[y,v]=Ct.useState(""),[E,A]=Ct.useState({top:0,left:0}),[C,N]=Ct.useState("inicial"),[L,Z]=Ct.useState(""),[H,j]=Ct.useState(0),[lt,st]=Ct.useState([]),[pt,J]=Ct.useState([]),rt=Ct.useRef(C),V=Ct.useRef([]),{startAudio:I,playMusic:P,stopMusic:U,pauseMusic:z,moveMenu:Q,movePage:X,isMusic:Pt}=Tm(),mt=[{name:"Pong",options:[{label:"Modo Desafio",mode:"challenge"},{label:"Modo Infinito",mode:"infinite"},{label:"Modo Dark",mode:"dark"}]},{name:"Breakout",options:[{label:"Modo Clássico",mode:"classic"},{label:"Modo Muralha",mode:"infinite"}]},{name:"Invaders",options:[{label:"Modo Invasão",mode:"infinite"}]}];mt.forEach(dt=>dt.options.push({label:"Ranking",mode:"ranking"}));const Y=dt=>{if(u)return;g(!0);const ft=mt.map(Vt=>Vt.name),It=ft.indexOf(s);let _t;dt==="next"?(_t=(It+1)%mt.length,v(dt)):dt==="prev"&&(_t=(It-1+mt.length)%mt.length,v(dt)),X.current?.triggerAttackRelease("0.2s"),setTimeout(()=>{t(ft[_t]),v(""),g(!1)},1e3)},et=()=>{C==="play"?N("pause"):(C==="inicial"||C==="pause")&&N("play")},bt=()=>C==="pause"?"Pause":C==="game-over-vitoria"?"Parabéns, Você Venceu!":C==="game-over-derrota"?"Você Perdeu :(":"Clique para iniciar",xt=(dt,ft)=>{if(L==="infinite"&&!dt){const It=lt.find(_t=>_t.game===s)?.ranking;if(!It||It.length<10)j(ft),N("adicionando-ranking");else{const _t=It.sort((Vt,ce)=>Vt.pontos-ce.pontos);ft>_t[0].pontos?(j(ft),N("adicionando-ranking")):N("ranking")}}else N(dt?"game-over-vitoria":"game-over-derrota")},F=async dt=>{st(ft=>{const It=structuredClone(ft),_t=It.find(ce=>ce.game===s),Vt={iniciais:dt,pontos:H};return _t?(_t.ranking.push(Vt),_t.ranking.sort((ce,Bt)=>Bt.pontos-ce.pontos),_t.ranking.length>10&&_t.ranking.pop()):It.push({game:s,ranking:[Vt]}),It}),UO(s,dt,H),K_(s).then(J),N("ranking")};Ct.useEffect(()=>{lt.length&&LO("ranking",lt)},[lt]),Ct.useEffect(()=>{rt.current=C,C==="play"?(document.title=`Jogando ${s}! - EDSON CARVALHO INTURIA`,s==="Pong"?P("Pong"):s==="Breakout"?P("Breakout"):s==="Invaders"&&P("Invaders")):C==="pause"?(document.title=`Pausado | ${s} - EDSON CARVALHO INTURIA`,z()):(U(),document.title="Arcade Hub - EDSON CARVALHO INTURIA")},[C,Pt]),Ct.useEffect(()=>{const dt=V.current[e];A({top:dt.offsetTop,left:dt.offsetLeft})},[e,u]),Ct.useEffect(()=>{const dt=ft=>{if(I(),rt.current==="inicial"){if(ft.key==="ArrowRight"?Y("next"):ft.key==="ArrowLeft"&&Y("prev"),ft.key==="ArrowUp"){const It=mt.find(Vt=>Vt.name===s).options.length,_t=(e-1+It)%It;Q.current?.triggerAttackRelease("C5","16n"),i(_t)}else if(ft.key==="ArrowDown"){const It=mt.find(Vt=>Vt.name===s).options.length,_t=(e+1)%It;i(_t),Q.current?.triggerAttackRelease("C5","16n")}if(ft.key==="Enter"){const It=mt.find(_t=>_t.name===s)?.options[e].mode;Z(It),It!=="ranking"?N("play"):(N("ranking"),K_(s).then(J)),I()}}ft.key==="Escape"&&(rt.current==="pause"||rt.current==="ranking")&&(N("inicial"),l(It=>It+1))};return window.addEventListener("keydown",dt),()=>window.removeEventListener("keydown",dt)},[s,u,e]),Ct.useEffect(()=>{const dt=FO("ranking");dt&&st(dt)},[]);const K={Pong:$3,Breakout:hM,Invaders:vM};return at.jsxs("div",{id:"game-hub",onClick:()=>{C!=="inicial"&&et(),I()},children:[mt.map(dt=>{if(dt.name===s){const ft=K[dt.name];return at.jsx("div",{className:`game-container ${y} ${s===dt.name&&!u?"show":""} ${C!=="play"?"game-container--pause":""}`,children:at.jsx(ft,{gameState:rt,visible:dt.name===s,mode:L,onGameOver:xt},a)},dt.name)}}),at.jsxs("div",{className:`state ${C==="play"?"hidden":""}`,children:[at.jsx(TM,{currentGame:s,isRanking:L==="ranking"}),C==="game-over-vitoria"||C==="game-over-derrota"||C==="ranking"?at.jsx(CM,{type:s,state:C}):at.jsx(at.Fragment,{}),at.jsx("div",{className:"state__container",children:C==="inicial"?at.jsxs(at.Fragment,{children:[at.jsx("div",{className:"state__arrow-select",style:{top:`${E.top+5}px`,left:`${E.left-40}px`},children:"➤"}),mt.find(dt=>dt.name===s)?.options.map((dt,ft)=>at.jsx("p",{className:`state__option ${ft===e?"select":""} ${dt.mode==="ranking"?"ranking":""}
                                    `,onMouseOver:()=>{i(ft),Q.current?.triggerAttackRelease("C5","16n")},onClick:()=>{I(),Z(dt.mode),dt.mode!=="ranking"?N("play"):(N("ranking"),K_(s).then(J))},ref:It=>{It&&(V.current[ft]=It)},children:dt.label},dt.label))]}):C!=="adicionando-ranking"&&C!=="ranking"?at.jsxs(at.Fragment,{children:[at.jsx("p",{className:`state__container--${C}`,children:bt()}),C!=="pause"&&C!=="play"?at.jsx("button",{className:"state__container__jogar-novamente",onClick:()=>{l(dt=>dt+1),N("inicial")},children:"Jogar Novamente"}):at.jsx(at.Fragment,{})]}):C==="adicionando-ranking"?at.jsx(zO,{onSubmitScore:F,pontos:H}):at.jsx(HO,{currentGame:s,rankingList:pt})})]}),at.jsxs("div",{className:`instructions ${C==="inicial"||C==="pause"||C==="ranking"?"":"hidden"}`,children:[at.jsxs("div",{className:`instructions__controls ${C==="pause"||C==="ranking"?"hidden":""}`,children:[s!=="Invaders"?at.jsx(tM,{}):at.jsx(at.Fragment,{}),s==="Invaders"?at.jsxs("div",{className:"instructions__help--arrows",children:[at.jsx(sp,{className:"left arrow--control"}),at.jsx(sp,{className:"arrow--control"})]}):at.jsx(at.Fragment,{}),s==="Breakout"||s==="Invaders"?at.jsx(YO,{}):at.jsx(at.Fragment,{}),at.jsx("p",{className:"instructions__controls--text",children:"Controles"})]}),at.jsxs("div",{className:`instructions__help ${C==="pause"||C==="ranking"?"hidden":""}`,children:[at.jsx("p",{className:"instructions__help--text",children:"Próximo Jogo"}),at.jsxs("div",{className:"instructions__help--arrows",children:[at.jsx("button",{onClick:()=>Y("prev"),children:at.jsx(sp,{className:`left ${y==="prev"?"press":""}`})}),at.jsx("button",{onClick:()=>Y("next"),children:at.jsx(sp,{className:y==="next"?"press":""})})]})]}),at.jsxs("div",{className:`instructions__controls esc ${C!=="pause"&&C!=="ranking"?"hidden":""}`,children:[at.jsx(wM,{}),at.jsx("p",{className:"instructions__controls--text",children:"Sair"})]})]})]})}eA.createRoot(document.getElementById("root")).render(at.jsx(Ct.StrictMode,{children:at.jsx(J3,{children:at.jsx(GO,{})})}));
